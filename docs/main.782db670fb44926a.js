(self.webpackChunkbingo=self.webpackChunkbingo||[]).push([[792],{407:(Fi,Pr,rt)=>{"use strict";rt.d(Pr,{$:()=>hI,A:()=>R,G:()=>Ft,K:()=>ut,L:()=>Gl,N:()=>ti,P:()=>RI,R:()=>bs,U:()=>de,V:()=>Mu,W:()=>Rm,X:()=>Pu,Y:()=>dI,Z:()=>Ns,_:()=>Os,a:()=>Xo,a0:()=>oe,a1:()=>Bs,a2:()=>td,a3:()=>Ou,a4:()=>vo,a5:()=>Fb,a6:()=>Vu,a7:()=>Yo,a8:()=>Nb,a9:()=>Ob,aA:()=>q,aB:()=>gn,aC:()=>k,aD:()=>Ti,aE:()=>me,aF:()=>vn,aG:()=>ep,aH:()=>Zm,aI:()=>FI,aJ:()=>tr,aN:()=>_s,aQ:()=>Oc,aa:()=>od,ab:()=>Lb,ac:()=>mI,ad:()=>pI,ae:()=>gI,af:()=>bI,ag:()=>vI,ah:()=>Vb,ak:()=>Bn,al:()=>wI,am:()=>en,ap:()=>fI,aq:()=>Ub,as:()=>xI,at:()=>Gm,au:()=>Ce,av:()=>Lo,aw:()=>Cu,ax:()=>Nt,ay:()=>An,az:()=>Zi,b:()=>qb,c:()=>JM,d:()=>t1,e:()=>e1,f:()=>NI,g:()=>VI,h:()=>sv,i:()=>Vo,j:()=>av,k:()=>ah,l:()=>Ci,m:()=>gv,o:()=>QI,p:()=>Ln,r:()=>Km,s:()=>Ar,u:()=>Qm});var y=rt(467),xe=rt(852),A=rt(76),je=rt(41),rn=rt(635),Sn=rt(362);const Ln={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},R={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ft=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Xn=function it(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new A.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new je.Vy("@firebase/auth");function $n(f,...d){_t.logLevel<=je.$b.ERROR&&_t.error(`Auth (${xe.SDK_VERSION}): ${f}`,...d)}function Nt(f,...d){throw Bt(f,...d)}function gn(f,...d){return Bt(f,...d)}function Er(f,d,u){const p=Object.assign(Object.assign({},Xn()),{[d]:u});return new A.FA("auth","Firebase",p).create(d,{appName:f.name})}function at(f){return Er(f,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ct(f,d,u){if(!(d instanceof u))throw u.name!==d.constructor.name&&Nt(f,"argument-error"),Er(f,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bt(f,...d){if("string"!=typeof f){const u=d[0],p=[...d.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(u,...p)}return Le.create(f,...d)}function k(f,d,...u){if(!f)throw Bt(d,...u)}function ve(f){const d="INTERNAL ASSERTION FAILED: "+f;throw $n(d),new Error(d)}function Ce(f,d){f||ve(d)}function Oe(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function pt(){return"http:"===ke()||"https:"===ke()}function ke(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class bt{constructor(d,u){this.shortDelay=d,this.longDelay=u,Ce(u>d,"Short delay should be less than long delay!"),this.isMobile=(0,A.jZ)()||(0,A.lV)()}get(){return function Lt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,A.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function U(f,d){Ce(f.emulator,"Emulator should always be set here");const{url:u}=f.emulator;return d?`${u}${d.startsWith("/")?d.slice(1):d}`:u}class H{static initialize(d,u,p){this.fetchImpl=d,u&&(this.headersImpl=u),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Q=new bt(3e4,6e4);function te(f,d){return f.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:f.tenantId}):d}function Z(f,d,u,p){return Se.apply(this,arguments)}function Se(){return(Se=(0,y.A)(function*(f,d,u,p,b={}){return We(f,b,(0,y.A)(function*(){let I={},N={};p&&("GET"===d?N=p:I={body:JSON.stringify(p)});const j=(0,A.Am)(Object.assign({key:f.config.apiKey},N)).slice(1),se=yield f._getAdditionalHeaders();return se["Content-Type"]="application/json",f.languageCode&&(se["X-Firebase-Locale"]=f.languageCode),H.fetch()(Ht(f,f.config.apiHost,u,j),Object.assign({method:d,headers:se,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function We(f,d,u){return Be.apply(this,arguments)}function Be(){return(Be=(0,y.A)(function*(f,d,u){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},G),d);try{const b=new pe(f),I=yield Promise.race([u(),b.promise]);b.clearNetworkTimeout();const N=yield I.json();if("needConfirmation"in N)throw he(f,"account-exists-with-different-credential",N);if(I.ok&&!("errorMessage"in N))return N;{const j=I.ok?N.errorMessage:N.error.message,[se,be]=j.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===se)throw he(f,"credential-already-in-use",N);if("EMAIL_EXISTS"===se)throw he(f,"email-already-in-use",N);if("USER_DISABLED"===se)throw he(f,"user-disabled",N);const Xe=p[se]||se.toLowerCase().replace(/[_\s]+/g,"-");if(be)throw Er(f,Xe,be);Nt(f,Xe)}}catch(b){if(b instanceof A.g)throw b;Nt(f,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function Re(f,d,u,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,y.A)(function*(f,d,u,p,b={}){const I=yield Z(f,d,u,p,b);return"mfaPendingCredential"in I&&Nt(f,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function Ht(f,d,u,p){const b=`${d}${u}?${p}`;return f.config.emulator?U(f.config,b):`${f.config.apiScheme}://${b}`}function Pe(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pe{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((u,p)=>{this.timer=setTimeout(()=>p(gn(this.auth,"network-request-failed")),Q.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function he(f,d,u){const p={appName:f.name};u.email&&(p.email=u.email),u.phoneNumber&&(p.phoneNumber=u.phoneNumber);const b=gn(f,d,p);return b.customData._tokenResponse=u,b}function fe(f){return void 0!==f&&void 0!==f.getResponse}function ge(f){return void 0!==f&&void 0!==f.enterprise}class zr{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===d)return Pe(u.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function Ni(){return(Ni=(0,y.A)(function*(f){return(yield Z(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cn(f,d){return jr.apply(this,arguments)}function jr(){return(jr=(0,y.A)(function*(f,d){return Z(f,"GET","/v2/recaptchaConfig",te(f,d))})).apply(this,arguments)}function Fr(){return(Fr=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Rn(){return(Rn=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Hn(f,d){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function $e(f){if(f)try{const d=new Date(Number(f));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function rr(){return(rr=(0,y.A)(function*(f,d=!1){const u=(0,A.Ku)(f),p=yield u.getIdToken(d),b=Vn(p);k(b&&b.exp&&b.auth_time&&b.iat,u.auth,"internal-error");const I="object"==typeof b.firebase?b.firebase:void 0,N=I?.sign_in_provider;return{claims:b,token:p,authTime:$e(ir(b.auth_time)),issuedAtTime:$e(ir(b.iat)),expirationTime:$e(ir(b.exp)),signInProvider:N||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function ir(f){return 1e3*Number(f)}function Vn(f){const[d,u,p]=f.split(".");if(void 0===d||void 0===u||void 0===p)return $n("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,A.u)(u);return b?JSON.parse(b):($n("Failed to decode base64 JWT payload"),null)}catch(b){return $n("Caught error parsing JWT payload as JSON",b?.toString()),null}}function or(f){const d=Vn(f);return k(d,"internal-error"),k(typeof d.exp<"u","internal-error"),k(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function vt(f,d){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,y.A)(function*(f,d,u=!1){if(u)return d;try{return yield d}catch(p){throw p instanceof A.g&&function on({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class qn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var u;if(d){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const b=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(d=!1){var u=this;if(!this.isRunning)return;const p=this.getInterval(d);this.timerId=setTimeout((0,y.A)(function*(){yield u.iteration()}),p)}iteration(){var d=this;return(0,y.A)(function*(){try{yield d.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&d.schedule(!0))}d.schedule()})()}}class _n{constructor(d,u){this.createdAt=d,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=$e(this.lastLoginAt),this.creationTime=$e(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bn(f){return fn.apply(this,arguments)}function fn(){return(fn=(0,y.A)(function*(f){var d;const u=f.auth,p=yield f.getIdToken(),b=yield vt(f,Hn(u,{idToken:p}));k(b?.users.length,u,"internal-error");const I=b.users[0];f._notifyReloadListener(I);const N=null!==(d=I.providerUserInfo)&&void 0!==d&&d.length?Wn(I.providerUserInfo):[],j=function ot(f,d){return[...f.filter(p=>!d.some(b=>b.providerId===p.providerId)),...d]}(f.providerData,N),Xe=!!f.isAnonymous&&!(f.email&&I.passwordHash||j?.length),nn={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:j,metadata:new _n(I.createdAt,I.lastLoginAt),isAnonymous:Xe};Object.assign(f,nn)})).apply(this,arguments)}function Zn(){return(Zn=(0,y.A)(function*(f){const d=(0,A.Ku)(f);yield bn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Wn(f){return f.map(d=>{var{providerId:u}=d,p=(0,rn.Tt)(d,["providerId"]);return{providerId:u,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}function S(){return(S=(0,y.A)(function*(f,d){const u=yield We(f,{},(0,y.A)(function*(){const p=(0,A.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:b,apiKey:I}=f.config,N=Ht(f,b,"/v1/token",`key=${I}`),j=yield f._getAdditionalHeaders();return j["Content-Type"]="application/x-www-form-urlencoded",H.fetch()(N,{method:"POST",headers:j,body:p})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function E(){return(E=(0,y.A)(function*(f,d){return Z(f,"POST","/v2/accounts:revokeToken",te(f,d))})).apply(this,arguments)}class C{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){k(d.idToken,"internal-error"),k(typeof d.idToken<"u","internal-error"),k(typeof d.refreshToken<"u","internal-error");const u="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):or(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,u)}updateFromIdToken(d){k(0!==d.length,"internal-error");const u=or(d);this.updateTokensAndExpiration(d,null,u)}getToken(d,u=!1){var p=this;return(0,y.A)(function*(){return u||!p.accessToken||p.isExpired?(k(p.refreshToken,d,"user-token-expired"),p.refreshToken?(yield p.refresh(d,p.refreshToken),p.accessToken):null):p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,u){var p=this;return(0,y.A)(function*(){const{accessToken:b,refreshToken:I,expiresIn:N}=yield function Jn(f,d){return S.apply(this,arguments)}(d,u);p.updateTokensAndExpiration(b,I,Number(N))})()}updateTokensAndExpiration(d,u,p){this.refreshToken=u||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(d,u){const{refreshToken:p,accessToken:b,expirationTime:I}=u,N=new C;return p&&(k("string"==typeof p,"internal-error",{appName:d}),N.refreshToken=p),b&&(k("string"==typeof b,"internal-error",{appName:d}),N.accessToken=b),I&&(k("number"==typeof I,"internal-error",{appName:d}),N.expirationTime=I),N}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new C,this.toJSON())}_performRefresh(){return ve("not implemented")}}function w(f,d){k("string"==typeof f||typeof f>"u","internal-error",{appName:d})}class O{constructor(d){var{uid:u,auth:p,stsTokenManager:b}=d,I=(0,rn.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=p,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new _n(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(d){var u=this;return(0,y.A)(function*(){const p=yield vt(u,u.stsTokenManager.getToken(u.auth,d));return k(p,u.auth,"internal-error"),u.accessToken!==p&&(u.accessToken=p,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),p})()}getIdTokenResult(d){return function Ut(f){return rr.apply(this,arguments)}(this,d)}reload(){return function sr(f){return Zn.apply(this,arguments)}(this)}_assign(d){this!==d&&(k(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(u=>Object.assign({},u)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const u=new O(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(d){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,u=!1){var p=this;return(0,y.A)(function*(){let b=!1;d.idToken&&d.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(d),b=!0),u&&(yield bn(p)),yield p.auth._persistUserIfCurrent(p),b&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var d=this;return(0,y.A)(function*(){if((0,xe._isFirebaseServerApp)(d.auth.app))return Promise.reject(at(d.auth));const u=yield d.getIdToken();return yield vt(d,function mo(f,d){return Fr.apply(this,arguments)}(d.auth,{idToken:u})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,u){var p,b,I,N,j,se,be,Xe;const nn=null!==(p=u.displayName)&&void 0!==p?p:void 0,Li=null!==(b=u.email)&&void 0!==b?b:void 0,ma=null!==(I=u.phoneNumber)&&void 0!==I?I:void 0,pd=null!==(N=u.photoURL)&&void 0!==N?N:void 0,dp=null!==(j=u.tenantId)&&void 0!==j?j:void 0,Ja=null!==(se=u._redirectEventId)&&void 0!==se?se:void 0,es=null!==(be=u.createdAt)&&void 0!==be?be:void 0,yv=null!==(Xe=u.lastLoginAt)&&void 0!==Xe?Xe:void 0,{uid:Xc,emailVerified:gd,isAnonymous:_d,providerData:bd,stsTokenManager:up}=u;k(Xc&&up,d,"internal-error");const wv=C.fromJSON(this.name,up);k("string"==typeof Xc,d,"internal-error"),w(nn,d.name),w(Li,d.name),k("boolean"==typeof gd,d,"internal-error"),k("boolean"==typeof _d,d,"internal-error"),w(ma,d.name),w(pd,d.name),w(dp,d.name),w(Ja,d.name),w(es,d.name),w(yv,d.name);const hp=new O({uid:Xc,auth:d,email:Li,emailVerified:gd,displayName:nn,isAnonymous:_d,photoURL:pd,phoneNumber:ma,tenantId:dp,stsTokenManager:wv,createdAt:es,lastLoginAt:yv});return bd&&Array.isArray(bd)&&(hp.providerData=bd.map(Zc=>Object.assign({},Zc))),Ja&&(hp._redirectEventId=Ja),hp}static _fromIdTokenResponse(d,u,p=!1){return(0,y.A)(function*(){const b=new C;b.updateFromServerResponse(u);const I=new O({uid:u.localId,auth:d,stsTokenManager:b,isAnonymous:p});return yield bn(I),I})()}static _fromGetAccountInfoResponse(d,u,p){return(0,y.A)(function*(){const b=u.users[0];k(void 0!==b.localId,"internal-error");const I=void 0!==b.providerUserInfo?Wn(b.providerUserInfo):[],N=!(b.email&&b.passwordHash||I?.length),j=new C;j.updateFromIdToken(p);const se=new O({uid:b.localId,auth:d,stsTokenManager:j,isAnonymous:N}),be={uid:b.localId,displayName:b.displayName||null,photoURL:b.photoUrl||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,tenantId:b.tenantId||null,providerData:I,metadata:new _n(b.createdAt,b.lastLoginAt),isAnonymous:!(b.email&&b.passwordHash||I?.length)};return Object.assign(se,be),se})()}}const Y=new Map;function me(f){Ce(f instanceof Function,"Expected a class definition");let d=Y.get(f);return d?(Ce(d instanceof f,"Instance stored in cache mismatched with class"),d):(d=new f,Y.set(f,d),d)}const de=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.A)(function*(){return!0})()}_set(u,p){var b=this;return(0,y.A)(function*(){b.storage[u]=p})()}_get(u){var p=this;return(0,y.A)(function*(){const b=p.storage[u];return void 0===b?null:b})()}_remove(u){var p=this;return(0,y.A)(function*(){delete p.storage[u]})()}_addListener(u,p){}_removeListener(u,p){}}return f.type="NONE",f})();function vn(f,d,u){return`firebase:${f}:${d}:${u}`}class lt{constructor(d,u,p){this.persistence=d,this.auth=u,this.userKey=p;const{config:b,name:I}=this.auth;this.fullUserKey=vn(this.userKey,b.apiKey,I),this.fullPersistenceKey=vn("persistence",b.apiKey,I),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,y.A)(function*(){const u=yield d.persistence._get(d.fullUserKey);return u?O._fromJSON(d.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var u=this;return(0,y.A)(function*(){if(u.persistence===d)return;const p=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=d,p?u.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,u,p="authUser"){return(0,y.A)(function*(){if(!u.length)return new lt(me(de),d,p);const b=(yield Promise.all(u.map(function(){var be=(0,y.A)(function*(Xe){if(yield Xe._isAvailable())return Xe});return function(Xe){return be.apply(this,arguments)}}()))).filter(be=>be);let I=b[0]||me(de);const N=vn(p,d.config.apiKey,d.name);let j=null;for(const be of u)try{const Xe=yield be._get(N);if(Xe){const nn=O._fromJSON(d,Xe);be!==I&&(j=nn),I=be;break}}catch{}const se=b.filter(be=>be._shouldAllowMigration);return I._shouldAllowMigration&&se.length?(I=se[0],j&&(yield I._set(N,j.toJSON())),yield Promise.all(u.map(function(){var be=(0,y.A)(function*(Xe){if(Xe!==I)try{yield Xe._remove(N)}catch{}});return function(Xe){return be.apply(this,arguments)}}())),new lt(I,d,p)):new lt(I,d,p)})()}}function z(f){const d=f.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(xu(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Tt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ql(d))return"Blackberry";if(po(d))return"Webos";if($r(d))return"Safari";if((d.includes("chrome/")||ia(d))&&!d.includes("edge/"))return"Chrome";if(Cu(d))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Tt(f=(0,A.ZQ)()){return/firefox\//i.test(f)}function $r(f=(0,A.ZQ)()){const d=f.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function ia(f=(0,A.ZQ)()){return/crios\//i.test(f)}function xu(f=(0,A.ZQ)()){return/iemobile/i.test(f)}function Cu(f=(0,A.ZQ)()){return/android/i.test(f)}function ql(f=(0,A.ZQ)()){return/blackberry/i.test(f)}function po(f=(0,A.ZQ)()){return/webos/i.test(f)}function Lo(f=(0,A.ZQ)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function q(f=(0,A.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function Ae(f=(0,A.ZQ)()){return Lo(f)||Cu(f)||po(f)||ql(f)||/windows phone/i.test(f)||xu(f)}function Rt(f,d=[]){let u;switch(f){case"Browser":u=z((0,A.ZQ)());break;case"Worker":u=`${z((0,A.ZQ)())}-${f}`;break;default:u=f}const p=d.length?d.join(","):"FirebaseCore-web";return`${u}/JsCore/${xe.SDK_VERSION}/${p}`}class Ve{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,u){const p=I=>new Promise((N,j)=>{try{N(d(I))}catch(se){j(se)}});p.onAbort=u,this.queue.push(p);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(d){var u=this;return(0,y.A)(function*(){if(u.auth.currentUser===d)return;const p=[];try{for(const b of u.queue)yield b(d),b.onAbort&&p.push(b.onAbort)}catch(b){p.reverse();for(const I of p)try{I()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:b?.message})}})()}}function er(){return(er=(0,y.A)(function*(f,d={}){return Z(f,"GET","/v2/passwordPolicy",te(f,d))})).apply(this,arguments)}class qa{constructor(d){var u,p,b,I;const N=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=N.minPasswordLength)&&void 0!==u?u:6,N.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=N.maxPasswordLength),void 0!==N.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=N.containsLowercaseCharacter),void 0!==N.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=N.containsUppercaseCharacter),void 0!==N.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=N.containsNumericCharacter),void 0!==N.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=N.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(b=null===(p=d.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==b?b:"",this.forceUpgradeOnSignin=null!==(I=d.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=d.schemaVersion}validatePassword(d){var u,p,b,I,N,j;const se={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,se),this.validatePasswordCharacterOptions(d,se),se.isValid&&(se.isValid=null===(u=se.meetsMinPasswordLength)||void 0===u||u),se.isValid&&(se.isValid=null===(p=se.meetsMaxPasswordLength)||void 0===p||p),se.isValid&&(se.isValid=null===(b=se.containsLowercaseLetter)||void 0===b||b),se.isValid&&(se.isValid=null===(I=se.containsUppercaseLetter)||void 0===I||I),se.isValid&&(se.isValid=null===(N=se.containsNumericCharacter)||void 0===N||N),se.isValid&&(se.isValid=null===(j=se.containsNonAlphanumericCharacter)||void 0===j||j),se}validatePasswordLengthOptions(d,u){const p=this.customStrengthOptions.minPasswordLength,b=this.customStrengthOptions.maxPasswordLength;p&&(u.meetsMinPasswordLength=d.length>=p),b&&(u.meetsMaxPasswordLength=d.length<=b)}validatePasswordCharacterOptions(d,u){let p;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let b=0;b<d.length;b++)p=d.charAt(b),this.updatePasswordCharacterOptionsStatuses(u,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(d,u,p,b,I){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=b)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=I))}}class Tr{constructor(d,u,p,b){this.app=d,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=p,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nI(this),this.idTokenSubscription=new nI(this),this.beforeStateQueue=new Ve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(d,u){var p=this;return u&&(this._popupRedirectResolver=me(u)),this._initializationPromise=this.queue((0,y.A)(function*(){var b,I;if(!p._deleted&&(p.persistenceManager=yield lt.create(p,d),!p._deleted)){if(null!==(b=p._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(u),p.lastNotifiedUid=(null===(I=p.currentUser)||void 0===I?void 0:I.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,y.A)(function*(){if(d._deleted)return;const u=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||u){if(d.currentUser&&u&&d.currentUser.uid===u.uid)return d._currentUser._assign(u),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(u,!0)}})()}initializeCurrentUserFromIdToken(d){var u=this;return(0,y.A)(function*(){try{const p=yield Hn(u,{idToken:d}),b=yield O._fromGetAccountInfoResponse(u,p,d);yield u.directlySetCurrentUser(b)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),yield u.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var u=this;return(0,y.A)(function*(){var p;if((0,xe._isFirebaseServerApp)(u.app)){const j=u.app.settings.authIdToken;return j?new Promise(se=>{setTimeout(()=>u.initializeCurrentUserFromIdToken(j).then(se,se))}):u.directlySetCurrentUser(null)}const b=yield u.assertedPersistence.getCurrentUser();let I=b,N=!1;if(d&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const j=null===(p=u.redirectUser)||void 0===p?void 0:p._redirectEventId,se=I?._redirectEventId,be=yield u.tryRedirectSignIn(d);(!j||j===se)&&be?.user&&(I=be.user,N=!0)}if(!I)return u.directlySetCurrentUser(null);if(!I._redirectEventId){if(N)try{yield u.beforeStateQueue.runMiddleware(I)}catch(j){I=b,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(j))}return I?u.reloadAndSetCurrentUserOrClear(I):u.directlySetCurrentUser(null)}return k(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===I._redirectEventId?u.directlySetCurrentUser(I):u.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(d){var u=this;return(0,y.A)(function*(){let p=null;try{p=yield u._popupRedirectResolver._completeRedirectFn(u,d,!0)}catch{yield u._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(d){var u=this;return(0,y.A)(function*(){try{yield bn(d)}catch(p){if("auth/network-request-failed"!==p?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ie(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var d=this;return(0,y.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var u=this;return(0,y.A)(function*(){if((0,xe._isFirebaseServerApp)(u.app))return Promise.reject(at(u));const p=d?(0,A.Ku)(d):null;return p&&k(p.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(p&&p._clone(u))})()}_updateCurrentUser(d,u=!1){var p=this;return(0,y.A)(function*(){if(!p._deleted)return d&&k(p.tenantId===d.tenantId,p,"tenant-id-mismatch"),u||(yield p.beforeStateQueue.runMiddleware(d)),p.queue((0,y.A)(function*(){yield p.directlySetCurrentUser(d),p.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,y.A)(function*(){return(0,xe._isFirebaseServerApp)(d.app)?Promise.reject(at(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var u=this;return(0,xe._isFirebaseServerApp)(this.app)?Promise.reject(at(this)):this.queue((0,y.A)(function*(){yield u.assertedPersistence.setPersistence(me(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var u=this;return(0,y.A)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const p=u._getPasswordPolicyInternal();return p.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,y.A)(function*(){const u=yield function mr(f){return er.apply(this,arguments)}(d),p=new qa(u);null===d.tenantId?d._projectPasswordPolicy=p:d._tenantPasswordPolicies[d.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new A.FA("auth","Firebase",d())}onAuthStateChanged(d,u,p){return this.registerStateListener(this.authStateSubscription,d,u,p)}beforeAuthStateChanged(d,u){return this.beforeStateQueue.pushCallback(d,u)}onIdTokenChanged(d,u,p){return this.registerStateListener(this.idTokenSubscription,d,u,p)}authStateReady(){return new Promise((d,u)=>{if(this.currentUser)d();else{const p=this.onAuthStateChanged(()=>{p(),d()},u)}})}revokeAccessToken(d){var u=this;return(0,y.A)(function*(){if(u.currentUser){const p=yield u.currentUser.getIdToken(),b={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:p};null!=u.tenantId&&(b.tenantId=u.tenantId),yield function D(f,d){return E.apply(this,arguments)}(u,b)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,u){var p=this;return(0,y.A)(function*(){const b=yield p.getOrInitRedirectPersistenceManager(u);return null===d?b.removeCurrentUser():b.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var u=this;return(0,y.A)(function*(){if(!u.redirectPersistenceManager){const p=d&&me(d)||u._popupRedirectResolver;k(p,u,"argument-error"),u.redirectPersistenceManager=yield lt.create(u,[me(p._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(d){var u=this;return(0,y.A)(function*(){var p,b;return u._isInitialized&&(yield u.queue((0,y.A)(function*(){}))),(null===(p=u._currentUser)||void 0===p?void 0:p._redirectEventId)===d?u._currentUser:(null===(b=u.redirectUser)||void 0===b?void 0:b._redirectEventId)===d?u.redirectUser:null})()}_persistUserIfCurrent(d){var u=this;return(0,y.A)(function*(){if(d===u.currentUser)return u.queue((0,y.A)(function*(){return u.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(u=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,u,p,b){if(this._deleted)return()=>{};const I="function"==typeof u?u:u.next.bind(u);let N=!1;const j=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(j,this,"internal-error"),j.then(()=>{N||I(this.currentUser)}),"function"==typeof u){const se=d.addObserver(u,p,b);return()=>{N=!0,se()}}{const se=d.addObserver(u);return()=>{N=!0,se()}}}directlySetCurrentUser(d){var u=this;return(0,y.A)(function*(){u.currentUser&&u.currentUser!==d&&u._currentUser._stopProactiveRefresh(),d&&u.isProactiveRefreshEnabled&&d._startProactiveRefresh(),u.currentUser=d,d?yield u.assertedPersistence.setCurrentUser(d):yield u.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,y.A)(function*(){var u;const p={"X-Client-Version":d.clientVersion};d.app.options.appId&&(p["X-Firebase-gmpid"]=d.app.options.appId);const b=yield null===(u=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();b&&(p["X-Firebase-Client"]=b);const I=yield d._getAppCheckToken();return I&&(p["X-Firebase-AppCheck"]=I),p})()}_getAppCheckToken(){var d=this;return(0,y.A)(function*(){var u;const p=yield null===(u=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return p?.error&&function fr(f,...d){_t.logLevel<=je.$b.WARN&&_t.warn(`Auth (${xe.SDK_VERSION}): ${f}`,...d)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function tr(f){return(0,A.Ku)(f)}class nI{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,A.tD)(u=>this.observer=u)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wl={loadJS:()=>(0,y.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dt(f){return Wl.loadJS(f)}function yb(f){return`__${f}${Math.floor(1e6*Math.random())}`}class rI{constructor(d){this.type="recaptcha-enterprise",this.auth=tr(d)}verify(d="verify",u=!1){var p=this;return(0,y.A)(function*(){function I(){return I=(0,y.A)(function*(j){if(!u){if(null==j.tenantId&&null!=j._agentRecaptchaConfig)return j._agentRecaptchaConfig.siteKey;if(null!=j.tenantId&&void 0!==j._tenantRecaptchaConfigs[j.tenantId])return j._tenantRecaptchaConfigs[j.tenantId].siteKey}return new Promise(function(){var se=(0,y.A)(function*(be,Xe){Cn(j,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nn=>{if(void 0!==nn.recaptchaKey){const Li=new zr(nn);return null==j.tenantId?j._agentRecaptchaConfig=Li:j._tenantRecaptchaConfigs[j.tenantId]=Li,be(Li.siteKey)}Xe(new Error("recaptcha Enterprise site key undefined"))}).catch(nn=>{Xe(nn)})});return function(be,Xe){return se.apply(this,arguments)}}())}),I.apply(this,arguments)}function N(j,se,be){const Xe=window.grecaptcha;ge(Xe)?Xe.enterprise.ready(()=>{Xe.enterprise.execute(j,{action:d}).then(nn=>{se(nn)}).catch(()=>{se("NO_RECAPTCHA")})}):be(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((j,se)=>{(function b(j){return I.apply(this,arguments)})(p.auth).then(be=>{if(!u&&ge(window.grecaptcha))N(be,j,se);else{if(typeof window>"u")return void se(new Error("RecaptchaVerifier is only supported in browser"));let Xe=function go(){return Wl.recaptchaEnterpriseScript}();0!==Xe.length&&(Xe+=be),dt(Xe).then(()=>{N(be,j,se)}).catch(nn=>{se(nn)})}}).catch(be=>{se(be)})})})()}}function iI(f,d,u){return wb.apply(this,arguments)}function wb(){return(wb=(0,y.A)(function*(f,d,u,p=!1){const b=new rI(f);let I;try{I=yield b.verify(u)}catch{I=yield b.verify(u,!0)}const N=Object.assign({},d);return Object.assign(N,p?{captchaResp:I}:{captchaResponse:I}),Object.assign(N,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(N,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),N})).apply(this,arguments)}function Au(f,d,u,p){return wm.apply(this,arguments)}function wm(){return wm=(0,y.A)(function*(f,d,u,p){var b;if(null!==(b=f._getRecaptchaConfig())&&void 0!==b&&b.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield iI(f,d,u,"getOobCode"===u);return p(f,I)}return p(f,d).catch(function(){var I=(0,y.A)(function*(N){if("auth/missing-recaptcha-token"===N.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const j=yield iI(f,d,u,"getOobCode"===u);return p(f,j)}return Promise.reject(N)});return function(N){return I.apply(this,arguments)}}())}),wm.apply(this,arguments)}function ut(f,d,u){const p=tr(f);k(p._canInitEmulator,p,"emulator-config-failed"),k(/^https?:\/\//.test(d),p,"invalid-emulator-scheme");const b=!!u?.disableWarnings,I=oI(d),{host:N,port:j}=function UM(f){const d=oI(f),u=/(\/\/)?([^?#/]+)/.exec(f.substr(d.length));if(!u)return{host:"",port:null};const p=u[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(p);if(b){const I=b[1];return{host:I,port:sI(p.substr(I.length+1))}}{const[I,N]=p.split(":");return{host:I,port:sI(N)}}}(d);p.config.emulator={url:`${I}//${N}${null===j?"":`:${j}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:N,port:j,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function zM(){function f(){const d=document.createElement("p"),u=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function oI(f){const d=f.indexOf(":");return d<0?"":f.substr(0,d+1)}function sI(f){if(!f)return null;const d=Number(f);return isNaN(d)?null:d}class Gl{constructor(d,u){this.providerId=d,this.signInMethod=u}toJSON(){return ve("not implemented")}_getIdTokenResponse(d){return ve("not implemented")}_linkToIdToken(d,u){return ve("not implemented")}_getReauthenticationResolver(d){return ve("not implemented")}}function _e(f,d){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:resetPassword",te(f,d))})).apply(this,arguments)}function Pc(){return(Pc=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function aI(f,d){return Du.apply(this,arguments)}function Du(){return(Du=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function Fc(){return(Fc=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:update",te(f,d))})).apply(this,arguments)}function Su(f,d){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,y.A)(function*(f,d){return Re(f,"POST","/v1/accounts:signInWithPassword",te(f,d))})).apply(this,arguments)}function Ql(f,d){return Im.apply(this,arguments)}function Im(){return(Im=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:sendOobCode",te(f,d))})).apply(this,arguments)}function Yl(){return(Yl=(0,y.A)(function*(f,d){return Ql(f,d)})).apply(this,arguments)}function xm(f,d){return ku.apply(this,arguments)}function ku(){return(ku=(0,y.A)(function*(f,d){return Ql(f,d)})).apply(this,arguments)}function Cm(f,d){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,y.A)(function*(f,d){return Ql(f,d)})).apply(this,arguments)}function Ib(){return(Ib=(0,y.A)(function*(f,d){return Ql(f,d)})).apply(this,arguments)}function xb(){return(xb=(0,y.A)(function*(f,d){return Re(f,"POST","/v1/accounts:signInWithEmailLink",te(f,d))})).apply(this,arguments)}function Xl(){return(Xl=(0,y.A)(function*(f,d){return Re(f,"POST","/v1/accounts:signInWithEmailLink",te(f,d))})).apply(this,arguments)}class Ps extends Gl{constructor(d,u,p,b=null){super("password",p),this._email=d,this._password=u,this._tenantId=b}static _fromEmailAndPassword(d,u){return new Ps(d,u,"password")}static _fromEmailAndCode(d,u,p=null){return new Ps(d,u,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const u="string"==typeof d?JSON.parse(d):d;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(d){var u=this;return(0,y.A)(function*(){switch(u.signInMethod){case"password":return Au(d,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Su);case"emailLink":return function jM(f,d){return xb.apply(this,arguments)}(d,{email:u._email,oobCode:u._password});default:Nt(d,"internal-error")}})()}_linkToIdToken(d,u){var p=this;return(0,y.A)(function*(){switch(p.signInMethod){case"password":return Au(d,{idToken:u,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aI);case"emailLink":return function $M(f,d){return Xl.apply(this,arguments)}(d,{idToken:u,email:p._email,oobCode:p._password});default:Nt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Qo(f,d){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,y.A)(function*(f,d){return Re(f,"POST","/v1/accounts:signInWithIdp",te(f,d))})).apply(this,arguments)}class ti extends Gl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const u=new ti(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(u.idToken=d.idToken),d.accessToken&&(u.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(u.nonce=d.nonce),d.pendingToken&&(u.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(u.accessToken=d.oauthToken,u.secret=d.oauthTokenSecret):Nt("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const u="string"==typeof d?JSON.parse(d):d,{providerId:p,signInMethod:b}=u,I=(0,rn.Tt)(u,["providerId","signInMethod"]);if(!p||!b)return null;const N=new ti(p,b);return N.idToken=I.idToken||void 0,N.accessToken=I.accessToken||void 0,N.secret=I.secret,N.nonce=I.nonce,N.pendingToken=I.pendingToken||null,N}_getIdTokenResponse(d){return Qo(d,this.buildRequest())}_linkToIdToken(d,u){const p=this.buildRequest();return p.idToken=u,Qo(d,p)}_getReauthenticationResolver(d){const u=this.buildRequest();return u.autoCreate=!1,Qo(d,u)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),d.postBody=(0,A.Am)(u)}return d}}function Ru(){return(Ru=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:sendVerificationCode",te(f,d))})).apply(this,arguments)}function yn(){return(yn=(0,y.A)(function*(f,d){return Re(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,d))})).apply(this,arguments)}function Dm(){return(Dm=(0,y.A)(function*(f,d){const u=yield Re(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,d));if(u.temporaryProof)throw he(f,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const lI={USER_NOT_FOUND:"user-not-found"};function Sm(){return(Sm=(0,y.A)(function*(f,d){return Re(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,Object.assign(Object.assign({},d),{operation:"REAUTH"})),lI)})).apply(this,arguments)}class Fs extends Gl{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,u){return new Fs({verificationId:d,verificationCode:u})}static _fromTokenResponse(d,u){return new Fs({phoneNumber:d,temporaryProof:u})}_getIdTokenResponse(d){return function At(f,d){return yn.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,u){return function HM(f,d){return Dm.apply(this,arguments)}(d,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function qM(f,d){return Sm.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:u,verificationId:p,verificationCode:b}=this.params;return d&&u?{temporaryProof:d,phoneNumber:u}:{sessionInfo:p,code:b}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:u,verificationCode:p,phoneNumber:b,temporaryProof:I}=d;return p||u||b||I?new Fs({verificationId:u,verificationCode:p,phoneNumber:b,temporaryProof:I}):null}}class Nc{constructor(d){var u,p,b,I,N,j;const se=(0,A.I9)((0,A.hp)(d)),be=null!==(u=se.apiKey)&&void 0!==u?u:null,Xe=null!==(p=se.oobCode)&&void 0!==p?p:null,nn=function Jt(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=se.mode)&&void 0!==b?b:null);k(be&&Xe&&nn,"argument-error"),this.apiKey=be,this.operation=nn,this.code=Xe,this.continueUrl=null!==(I=se.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(N=se.languageCode)&&void 0!==N?N:null,this.tenantId=null!==(j=se.tenantId)&&void 0!==j?j:null}static parseLink(d){const u=function km(f){const d=(0,A.I9)((0,A.hp)(f)).link,u=d?(0,A.I9)((0,A.hp)(d)).deep_link_id:null,p=(0,A.I9)((0,A.hp)(f)).deep_link_id;return(p?(0,A.I9)((0,A.hp)(p)).link:null)||p||u||d||f}(d);try{return new Nc(u)}catch{return null}}}let Mu=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(u,p){return Ps._fromEmailAndPassword(u,p)}static credentialWithLink(u,p){const b=Nc.parseLink(p);return k(b,"argument-error"),Ps._fromEmailAndCode(u,b.code,b.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class sa{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ed extends sa{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ns extends ed{static credentialFromJSON(d){const u="string"==typeof d?JSON.parse(d):d;return k("providerId"in u&&"signInMethod"in u,"argument-error"),ti._fromParams(u)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return k(d.idToken||d.accessToken,"argument-error"),ti._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ns.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ns.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:u,oauthAccessToken:p,oauthTokenSecret:b,pendingToken:I,nonce:N,providerId:j}=d;if(!p&&!b&&!u&&!I||!j)return null;try{return new Ns(j)._credential({idToken:u,accessToken:p,nonce:N,pendingToken:I})}catch{return null}}}let Rm=(()=>{class f extends ed{constructor(){super("facebook.com")}static credential(u){return ti._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Pu=(()=>{class f extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(u,p){return ti._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:p})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:p,oauthAccessToken:b}=u;if(!p&&!b)return null;try{return f.credential(p,b)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),dI=(()=>{class f extends ed{constructor(){super("github.com")}static credential(u){return ti._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return f.credential(u.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Oc extends Gl{constructor(d,u){super(d,d),this.pendingToken=u}_getIdTokenResponse(d){return Qo(d,this.buildRequest())}_linkToIdToken(d,u){const p=this.buildRequest();return p.idToken=u,Qo(d,p)}_getReauthenticationResolver(d){const u=this.buildRequest();return u.autoCreate=!1,Qo(d,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const u="string"==typeof d?JSON.parse(d):d,{providerId:p,signInMethod:b,pendingToken:I}=u;return p&&b&&I&&p===b?new Oc(p,I):null}static _create(d,u){return new Oc(d,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Os extends sa{constructor(d){k(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Os.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Os.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const u=Oc.fromJSON(d);return k(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:u,providerId:p}=d;if(!u||!p)return null;try{return Oc._create(p,u)}catch{return null}}}let hI=(()=>{class f extends ed{constructor(){super("twitter.com")}static credential(u,p){return ti._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:p})}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:p,oauthTokenSecret:b}=u;if(!p||!b)return null;try{return f.credential(p,b)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Ls(f,d){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,y.A)(function*(f,d){return Re(f,"POST","/v1/accounts:signUp",te(f,d))})).apply(this,arguments)}class V{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,u,p,b=!1){return(0,y.A)(function*(){const I=yield O._fromIdTokenResponse(d,p,b),N=Pm(p);return new V({user:I,providerId:N,_tokenResponse:p,operationType:u})})()}static _forOperation(d,u,p){return(0,y.A)(function*(){yield d._updateTokensIfNecessary(p,!0);const b=Pm(p);return new V({user:d,providerId:b,_tokenResponse:p,operationType:u})})()}}function Pm(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function oe(f){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,y.A)(function*(f){var d;if((0,xe._isFirebaseServerApp)(f.app))return Promise.reject(at(f));const u=tr(f);if(yield u._initializationPromise,null!==(d=u.currentUser)&&void 0!==d&&d.isAnonymous)return new V({user:u.currentUser,providerId:null,operationType:"signIn"});const p=yield Ls(u,{returnSecureToken:!0}),b=yield V._fromIdTokenResponse(u,"signIn",p,!0);return yield u._updateCurrentUser(b.user),b})).apply(this,arguments)}class Vc extends A.g{constructor(d,u,p,b){var I;super(u.code,u.message),this.operationType=p,this.user=b,Object.setPrototypeOf(this,Vc.prototype),this.customData={appName:d.name,tenantId:null!==(I=d.tenantId)&&void 0!==I?I:void 0,_serverResponse:u.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(d,u,p,b){return new Vc(d,u,p,b)}}function Bc(f,d,u,p){return("reauthenticate"===d?u._getReauthenticationResolver(f):u._getIdTokenResponse(f)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?Vc._fromErrorAndOperation(f,I,d,p):I})}function Ab(f){return new Set(f.map(({providerId:d})=>d).filter(d=>!!d))}function fI(f,d){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,y.A)(function*(f,d){const u=(0,A.Ku)(f);yield Fu(!0,u,d);const{providerUserInfo:p}=yield function Qi(f,d){return Rn.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[d]}),b=Ab(p||[]);return u.providerData=u.providerData.filter(I=>b.has(I.providerId)),b.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),Fm.apply(this,arguments)}function Nm(f,d){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,y.A)(function*(f,d,u=!1){const p=yield vt(f,d._linkToIdToken(f.auth,yield f.getIdToken()),u);return V._forOperation(f,"link",p)})).apply(this,arguments)}function Fu(f,d,u){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,y.A)(function*(f,d,u){yield bn(d);const b=!1===f?"provider-already-linked":"no-such-provider";k(Ab(d.providerData).has(u)===f,d.auth,b)})).apply(this,arguments)}function Db(f,d){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,y.A)(function*(f,d,u=!1){const{auth:p}=f;if((0,xe._isFirebaseServerApp)(p.app))return Promise.reject(at(p));const b="reauthenticate";try{const I=yield vt(f,Bc(p,b,d,f),u);k(I.idToken,p,"internal-error");const N=Vn(I.idToken);k(N,p,"internal-error");const{sub:j}=N;return k(f.uid===j,p,"user-mismatch"),V._forOperation(f,b,I)}catch(I){throw"auth/user-not-found"===I?.code&&Nt(p,"user-mismatch"),I}})).apply(this,arguments)}function Sb(f,d){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,y.A)(function*(f,d,u=!1){if((0,xe._isFirebaseServerApp)(f.app))return Promise.reject(at(f));const p="signIn",b=yield Bc(f,p,d),I=yield V._fromIdTokenResponse(f,p,b);return u||(yield f._updateCurrentUser(I.user)),I})).apply(this,arguments)}function Bs(f,d){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,y.A)(function*(f,d){return Sb(tr(f),d)})).apply(this,arguments)}function td(f,d){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,y.A)(function*(f,d){const u=(0,A.Ku)(f);return yield Fu(!1,u,d.providerId),Nm(u,d)})).apply(this,arguments)}function Ou(f,d){return kb.apply(this,arguments)}function kb(){return(kb=(0,y.A)(function*(f,d){return Db((0,A.Ku)(f),d)})).apply(this,arguments)}function Mb(){return(Mb=(0,y.A)(function*(f,d){return Re(f,"POST","/v1/accounts:signInWithCustomToken",te(f,d))})).apply(this,arguments)}function vo(f,d){return nd.apply(this,arguments)}function nd(){return nd=(0,y.A)(function*(f,d){if((0,xe._isFirebaseServerApp)(f.app))return Promise.reject(at(f));const u=tr(f),p=yield function Rb(f,d){return Mb.apply(this,arguments)}(u,{token:d,returnSecureToken:!0}),b=yield V._fromIdTokenResponse(u,"signIn",p);return yield u._updateCurrentUser(b.user),b}),nd.apply(this,arguments)}class gs{constructor(d,u){this.factorId=d,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(d,u){return"phoneInfo"in u?Pb._fromServerResponse(d,u):"totpInfo"in u?Lu._fromServerResponse(d,u):Nt(d,"internal-error")}}class Pb extends gs{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,u){return new Pb(u)}}class Lu extends gs{constructor(d){super("totp",d)}static _fromServerResponse(d,u){return new Lu(u)}}function yo(f,d,u){var p;k((null===(p=u.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),k(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),d.continueUrl=u.url,d.dynamicLinkDomain=u.dynamicLinkDomain,d.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(k(u.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),d.iOSBundleId=u.iOS.bundleId),u.android&&(k(u.android.packageName.length>0,f,"missing-android-pkg-name"),d.androidInstallApp=u.android.installApp,d.androidMinimumVersionCode=u.android.minimumVersion,d.androidPackageName=u.android.packageName)}function an(f){return Us.apply(this,arguments)}function Us(){return(Us=(0,y.A)(function*(f){const d=tr(f);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function Fb(f,d,u){return rd.apply(this,arguments)}function rd(){return(rd=(0,y.A)(function*(f,d,u){const p=tr(f),b={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};u&&yo(p,b,u),yield Au(p,b,"getOobCode",xm)})).apply(this,arguments)}function Vu(f,d,u){return zc.apply(this,arguments)}function zc(){return zc=(0,y.A)(function*(f,d,u){yield _e((0,A.Ku)(f),{oobCode:d,newPassword:u}).catch(function(){var p=(0,y.A)(function*(b){throw"auth/password-does-not-meet-requirements"===b.code&&an(f),b});return function(b){return p.apply(this,arguments)}}())}),zc.apply(this,arguments)}function Yo(f,d){return ie.apply(this,arguments)}function ie(){return ie=(0,y.A)(function*(f,d){yield function cI(f,d){return Fc.apply(this,arguments)}((0,A.Ku)(f),{oobCode:d})}),ie.apply(this,arguments)}function Nb(f,d){return id.apply(this,arguments)}function id(){return(id=(0,y.A)(function*(f,d){const u=(0,A.Ku)(f),p=yield _e(u,{oobCode:d}),b=p.requestType;switch(k(b,u,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(p.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(p.mfaInfo,u,"internal-error");default:k(p.email,u,"internal-error")}let I=null;return p.mfaInfo&&(I=gs._fromServerResponse(tr(u),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:I},operation:b}})).apply(this,arguments)}function Ob(f,d){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,y.A)(function*(f,d){const{data:u}=yield Nb((0,A.Ku)(f),d);return u.email})).apply(this,arguments)}function od(f,d,u){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,y.A)(function*(f,d,u){if((0,xe._isFirebaseServerApp)(f.app))return Promise.reject(at(f));const p=tr(f),N=yield Au(p,{returnSecureToken:!0,email:d,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ls).catch(se=>{throw"auth/password-does-not-meet-requirements"===se.code&&an(f),se}),j=yield V._fromIdTokenResponse(p,"signIn",N);return yield p._updateCurrentUser(j.user),j})).apply(this,arguments)}function Lb(f,d,u){return(0,xe._isFirebaseServerApp)(f.app)?Promise.reject(at(f)):Bs((0,A.Ku)(f),Mu.credential(d,u)).catch(function(){var p=(0,y.A)(function*(b){throw"auth/password-does-not-meet-requirements"===b.code&&an(f),b});return function(b){return p.apply(this,arguments)}}())}function mI(f,d,u){return sd.apply(this,arguments)}function sd(){return(sd=(0,y.A)(function*(f,d,u){const p=tr(f),b={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function I(N,j){k(j.handleCodeInApp,p,"argument-error"),j&&yo(p,N,j)})(b,u),yield Au(p,b,"getOobCode",Cm)})).apply(this,arguments)}function pI(f,d){const u=Nc.parseLink(d);return"EMAIL_SIGNIN"===u?.operation}function gI(f,d,u){return wo.apply(this,arguments)}function wo(){return(wo=(0,y.A)(function*(f,d,u){if((0,xe._isFirebaseServerApp)(f.app))return Promise.reject(at(f));const p=(0,A.Ku)(f),b=Mu.credentialWithLink(d,u||Oe());return k(b._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Bs(p,b)})).apply(this,arguments)}function zu(){return(zu=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:createAuthUri",te(f,d))})).apply(this,arguments)}function bI(f,d){return Om.apply(this,arguments)}function Om(){return Om=(0,y.A)(function*(f,d){const p={identifier:d,continueUri:pt()?Oe():"http://localhost"},{signinMethods:b}=yield function _I(f,d){return zu.apply(this,arguments)}((0,A.Ku)(f),p);return b||[]}),Om.apply(this,arguments)}function vI(f,d){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,y.A)(function*(f,d){const u=(0,A.Ku)(f),b={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};d&&yo(u.auth,b,d);const{email:I}=yield function ee(f,d){return Yl.apply(this,arguments)}(u.auth,b);I!==f.email&&(yield f.reload())}),Lm.apply(this,arguments)}function Vb(f,d,u){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,y.A)(function*(f,d,u){const p=(0,A.Ku)(f),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:d};u&&yo(p.auth,I,u);const{email:N}=yield function Am(f,d){return Ib.apply(this,arguments)}(p.auth,I);N!==f.email&&(yield f.reload())}),Vm.apply(this,arguments)}function Bm(){return(Bm=(0,y.A)(function*(f,d){return Z(f,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Bn(f,d){return Um.apply(this,arguments)}function Um(){return Um=(0,y.A)(function*(f,{displayName:d,photoURL:u}){if(void 0===d&&void 0===u)return;const p=(0,A.Ku)(f),I={idToken:yield p.getIdToken(),displayName:d,photoUrl:u,returnSecureToken:!0},N=yield vt(p,function yI(f,d){return Bm.apply(this,arguments)}(p.auth,I));p.displayName=N.displayName||null,p.photoURL=N.photoUrl||null;const j=p.providerData.find(({providerId:se})=>"password"===se);j&&(j.displayName=p.displayName,j.photoURL=p.photoURL),yield p._updateTokensIfNecessary(N)}),Um.apply(this,arguments)}function wI(f,d){const u=(0,A.Ku)(f);return(0,xe._isFirebaseServerApp)(u.auth.app)?Promise.reject(at(u.auth)):zm(u,d,null)}function en(f,d){return zm((0,A.Ku)(f),null,d)}function zm(f,d,u){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,y.A)(function*(f,d,u){const{auth:p}=f,I={idToken:yield f.getIdToken(),returnSecureToken:!0};d&&(I.email=d),u&&(I.password=u);const N=yield vt(f,function Qt(f,d){return Pc.apply(this,arguments)}(p,I));yield f._updateTokensIfNecessary(N,!0)}),Fe.apply(this,arguments)}class Mt{constructor(d,u,p={}){this.isNewUser=d,this.providerId=u,this.profile=p}}class Nr extends Mt{constructor(d,u,p,b){super(d,u,p),this.username=b}}class gi extends Mt{constructor(d,u){super(d,"facebook.com",u)}}class aa extends Nr{constructor(d,u){super(d,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class Ii extends Mt{constructor(d,u){super(d,"google.com",u)}}class Bb extends Nr{constructor(d,u,p){super(d,"twitter.com",u,p)}}function Ub(f){const{user:d,_tokenResponse:u}=f;return d.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function Yi(f){var d,u;if(!f)return null;const{providerId:p}=f,b=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},I=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const N=null===(u=null===(d=Vn(f.idToken))||void 0===d?void 0:d.firebase)||void 0===u?void 0:u.sign_in_provider;if(N)return new Mt(I,"anonymous"!==N&&"custom"!==N?N:null)}if(!p)return null;switch(p){case"facebook.com":return new gi(I,b);case"github.com":return new aa(I,b);case"google.com":return new Ii(I,b);case"twitter.com":return new Bb(I,b,f.screenName||null);case"custom":case"anonymous":return new Mt(I,null);default:return new Mt(I,p,b)}}(u)}class ca{constructor(d,u,p){this.type=d,this.credential=u,this.user=p}static _fromIdtoken(d,u){return new ca("enroll",d,u)}static _fromMfaPendingCredential(d){return new ca("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var u,p;if(d?.multiFactorSession){if(null!==(u=d.multiFactorSession)&&void 0!==u&&u.pendingCredential)return ca._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.idToken)return ca._fromIdtoken(d.multiFactorSession.idToken)}return null}}class zs{constructor(d,u,p){this.session=d,this.hints=u,this.signInResolver=p}static _fromError(d,u){const p=tr(d),b=u.customData._serverResponse,I=(b.mfaInfo||[]).map(j=>gs._fromServerResponse(p,j));k(b.mfaPendingCredential,p,"internal-error");const N=ca._fromMfaPendingCredential(b.mfaPendingCredential);return new zs(N,I,function(){var j=(0,y.A)(function*(se){const be=yield se._process(p,N);delete b.mfaInfo,delete b.mfaPendingCredential;const Xe=Object.assign(Object.assign({},b),{idToken:be.idToken,refreshToken:be.refreshToken});switch(u.operationType){case"signIn":const nn=yield V._fromIdTokenResponse(p,u.operationType,Xe);return yield p._updateCurrentUser(nn.user),nn;case"reauthenticate":return k(u.user,p,"internal-error"),V._forOperation(u.user,u.operationType,Xe);default:Nt(p,"internal-error")}});return function(se){return j.apply(this,arguments)}}())}resolveSignIn(d){var u=this;return(0,y.A)(function*(){return u.signInResolver(d)})()}}function xI(f,d){var u;const p=(0,A.Ku)(f),b=d;return k(d.customData.operationType,p,"argument-error"),k(null===(u=b.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,p,"argument-error"),zs._fromError(p,b)}class Oi{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(p=>gs._fromServerResponse(d.auth,p)))})}static _fromUser(d){return new Oi(d)}getSession(){var d=this;return(0,y.A)(function*(){return ca._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,u){var p=this;return(0,y.A)(function*(){const b=d,I=yield p.getSession(),N=yield vt(p.user,b._process(p.user.auth,I,u));return yield p.user._updateTokensIfNecessary(N),p.user.reload()})()}unenroll(d){var u=this;return(0,y.A)(function*(){const p="string"==typeof d?d:d.uid,b=yield u.user.getIdToken();try{const I=yield vt(u.user,function Hu(f,d){return Z(f,"POST","/v2/accounts/mfaEnrollment:withdraw",te(f,d))}(u.user.auth,{idToken:b,mfaEnrollmentId:p}));u.enrolledFactors=u.enrolledFactors.filter(({uid:N})=>N!==p),yield u.user._updateTokensIfNecessary(I),yield u.user.reload()}catch(I){throw I}})()}}const la=new WeakMap;function Gm(f){const d=(0,A.Ku)(f);return la.has(d)||la.set(d,Oi._fromUser(d)),la.get(d)}const qu="__sak";class $b{constructor(d,u){this.storageRetriever=d,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(qu,"1"),this.storage.removeItem(qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,u){return this.storage.setItem(d,JSON.stringify(u)),Promise.resolve()}_get(d){const u=this.storage.getItem(d);return Promise.resolve(u?JSON.parse(u):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const qb=(()=>{class f extends $b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,p)=>this.onStorageEvent(u,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hb(){const f=(0,A.ZQ)();return $r(f)||Lo(f)}()&&function mt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ae(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const p of Object.keys(this.listeners)){const b=this.storage.getItem(p),I=this.localCache[p];b!==I&&u(p,I,b)}}onStorageEvent(u,p=!1){if(!u.key)return void this.forAllChangedKeys((j,se,be)=>{this.notifyListeners(j,be)});const b=u.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const j=this.storage.getItem(b);if(u.newValue!==j)null!==u.newValue?this.storage.setItem(b,u.newValue):this.storage.removeItem(b);else if(this.localCache[b]===u.newValue&&!p)return}const I=()=>{const j=this.storage.getItem(b);!p&&this.localCache[b]===j||this.notifyListeners(b,j)},N=this.storage.getItem(b);!function re(){return(0,A.lT)()&&10===document.documentMode}()||N===u.newValue||u.newValue===u.oldValue?I():setTimeout(I,10)}notifyListeners(u,p){this.localCache[u]=p;const b=this.listeners[u];if(b)for(const I of Array.from(b))I(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,p,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:p,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(p)}_removeListener(u,p){this.listeners[u]&&(this.listeners[u].delete(p),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,p){var b=()=>super._set,I=this;return(0,y.A)(function*(){yield b().call(I,u,p),I.localCache[u]=JSON.stringify(p)})()}_get(u){var p=()=>super._get,b=this;return(0,y.A)(function*(){const I=yield p().call(b,u);return b.localCache[u]=JSON.stringify(I),I})()}_remove(u){var p=()=>super._remove,b=this;return(0,y.A)(function*(){yield p().call(b,u),delete b.localCache[u]})()}}return f.type="LOCAL",f})(),Xo=(()=>{class f extends $b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,p){}_removeListener(u,p){}}return f.type="SESSION",f})();let Wu=(()=>{class f{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const p=this.receivers.find(I=>I.isListeningto(u));if(p)return p;const b=new f(u);return this.receivers.push(b),b}isListeningto(u){return this.eventTarget===u}handleEvent(u){var p=this;return(0,y.A)(function*(){const b=u,{eventId:I,eventType:N,data:j}=b.data,se=p.handlersMap[N];if(!se?.size)return;b.ports[0].postMessage({status:"ack",eventId:I,eventType:N});const be=Array.from(se).map(function(){var nn=(0,y.A)(function*(Li){return Li(b.origin,j)});return function(Li){return nn.apply(this,arguments)}}()),Xe=yield function Gb(f){return Promise.all(f.map(function(){var d=(0,y.A)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(p){return{fulfilled:!1,reason:p}}});return function(u){return d.apply(this,arguments)}}()))}(be);b.ports[0].postMessage({status:"done",eventId:I,eventType:N,response:Xe})})()}_subscribe(u,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(p)}_unsubscribe(u,p){this.handlersMap[u]&&p&&this.handlersMap[u].delete(p),(!p||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function _s(f="",d=10){let u="";for(let p=0;p<d;p++)u+=Math.floor(10*Math.random());return f+u}class TI{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,u,p=50){var b=this;return(0,y.A)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let N,j;return new Promise((se,be)=>{const Xe=_s("",20);I.port1.start();const nn=setTimeout(()=>{be(new Error("unsupported_event"))},p);j={messageChannel:I,onMessage(Li){const ma=Li;if(ma.data.eventId===Xe)switch(ma.data.status){case"ack":clearTimeout(nn),N=setTimeout(()=>{be(new Error("timeout"))},3e3);break;case"done":clearTimeout(N),se(ma.data.response);break;default:clearTimeout(nn),clearTimeout(N),be(new Error("invalid_response"))}}},b.handlers.add(j),I.port1.addEventListener("message",j.onMessage),b.target.postMessage({eventType:d,eventId:Xe,data:u},[I.port2])}).finally(()=>{j&&b.removeMessageHandler(j)})})()}}function Or(){return window}function Gu(){return typeof Or().WorkerGlobalScope<"u"&&"function"==typeof Or().importScripts}function Ga(){return(Ga=(0,y.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Kb="firebaseLocalStorageDb",Ku="firebaseLocalStorage",Qb="fbase_key";class Ka{constructor(d){this.request=d}toPromise(){return new Promise((d,u)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function Qa(f,d){return f.transaction([Ku],d?"readwrite":"readonly").objectStore(Ku)}function ye(){const f=indexedDB.open(Kb,1);return new Promise((d,u)=>{f.addEventListener("error",()=>{u(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Ku,{keyPath:Qb})}catch(b){u(b)}}),f.addEventListener("success",(0,y.A)(function*(){const p=f.result;p.objectStoreNames.contains(Ku)?d(p):(p.close(),yield function ar(){const f=indexedDB.deleteDatabase(Kb);return new Ka(f).toPromise()}(),d(yield ye()))}))})}function tt(f,d,u){return pr.apply(this,arguments)}function pr(){return(pr=(0,y.A)(function*(f,d,u){const p=Qa(f,!0).put({[Qb]:d,value:u});return new Ka(p).toPromise()})).apply(this,arguments)}function ni(){return(ni=(0,y.A)(function*(f,d){const u=Qa(f,!1).get(d),p=yield new Ka(u).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Xi(f,d){const u=Qa(f,!0).delete(d);return new Ka(u).toPromise()}const Vo=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,y.A)(function*(){return u.db||(u.db=yield ye()),u.db})()}_withRetries(u){var p=this;return(0,y.A)(function*(){let b=0;for(;;)try{const I=yield p._openDb();return yield u(I)}catch(I){if(b++>3)throw I;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,y.A)(function*(){return Gu()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,y.A)(function*(){u.receiver=Wu._getInstance(function SI(){return Gu()?self:null}()),u.receiver._subscribe("keyChanged",function(){var p=(0,y.A)(function*(b,I){return{keyProcessed:(yield u._poll()).includes(I.key)}});return function(b,I){return p.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var p=(0,y.A)(function*(b,I){return["keyChanged"]});return function(b,I){return p.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,y.A)(function*(){var p,b;if(u.activeServiceWorker=yield function AI(){return Ga.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new TI(u.activeServiceWorker);const I=yield u.sender._send("ping",{},800);I&&null!==(p=I[0])&&void 0!==p&&p.fulfilled&&null!==(b=I[0])&&void 0!==b&&b.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var p=this;return(0,y.A)(function*(){if(p.sender&&p.activeServiceWorker&&function DI(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:u},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.A)(function*(){try{if(!indexedDB)return!1;const u=yield ye();return yield tt(u,qu,"1"),yield Xi(u,qu),!0}catch{}return!1})()}_withPendingWrite(u){var p=this;return(0,y.A)(function*(){p.pendingWrites++;try{yield u()}finally{p.pendingWrites--}})()}_set(u,p){var b=this;return(0,y.A)(function*(){return b._withPendingWrite((0,y.A)(function*(){return yield b._withRetries(I=>tt(I,u,p)),b.localCache[u]=p,b.notifyServiceWorker(u)}))})()}_get(u){var p=this;return(0,y.A)(function*(){const b=yield p._withRetries(I=>function Zo(f,d){return ni.apply(this,arguments)}(I,u));return p.localCache[u]=b,b})()}_remove(u){var p=this;return(0,y.A)(function*(){return p._withPendingWrite((0,y.A)(function*(){return yield p._withRetries(b=>Xi(b,u)),delete p.localCache[u],p.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,y.A)(function*(){const p=yield u._withRetries(N=>{const j=Qa(N,!1).getAll();return new Ka(j).toPromise()});if(!p)return[];if(0!==u.pendingWrites)return[];const b=[],I=new Set;if(0!==p.length)for(const{fbase_key:N,value:j}of p)I.add(N),JSON.stringify(u.localCache[N])!==JSON.stringify(j)&&(u.notifyListeners(N,j),b.push(N));for(const N of Object.keys(u.localCache))u.localCache[N]&&!I.has(N)&&(u.notifyListeners(N,null),b.push(N));return b})()}notifyListeners(u,p){this.localCache[u]=p;const b=this.listeners[u];if(b)for(const I of Array.from(b))I(p)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,y.A)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(p)}_removeListener(u,p){this.listeners[u]&&(this.listeners[u].delete(p),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),da=1e12;class Wc{constructor(d){this.auth=d,this.counter=da,this._widgets=new Map}render(d,u){const p=this.counter;return this._widgets.set(p,new js(d,this.auth.name,u||{})),this.counter++,p}reset(d){var u;const p=d||da;null===(u=this._widgets.get(p))||void 0===u||u.delete(),this._widgets.delete(p)}getResponse(d){var u;return(null===(u=this._widgets.get(d||da))||void 0===u?void 0:u.getResponse())||""}execute(d){var u=this;return(0,y.A)(function*(){var p;return null===(p=u._widgets.get(d||da))||void 0===p||p.execute(),""})()}}class js{constructor(d,u,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof d?document.getElementById(d):d;k(b,"argument-error",{appName:u}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function cd(f){const d=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)d.push(u.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":u}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qu=yb("rcb"),ua=new bt(3e4,6e4);class Yu{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Or().grecaptcha)||void 0===d||!d.render)}load(d,u=""){return k(function Ya(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(u),d,"argument-error"),this.shouldResolveImmediately(u)&&fe(Or().grecaptcha)?Promise.resolve(Or().grecaptcha):new Promise((p,b)=>{const I=Or().setTimeout(()=>{b(gn(d,"network-request-failed"))},ua.get());Or()[Qu]=()=>{Or().clearTimeout(I),delete Or()[Qu];const j=Or().grecaptcha;if(!j||!fe(j))return void b(gn(d,"internal-error"));const se=j.render;j.render=(be,Xe)=>{const nn=se(be,Xe);return this.counter++,nn},this.hostLanguage=u,p(j)},dt(`${function Tu(){return Wl.recaptchaV2Script}()}?${(0,A.Am)({onload:Qu,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(I),b(gn(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var u;return!(null===(u=Or().grecaptcha)||void 0===u||!u.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dt{load(d){return(0,y.A)(function*(){return new Wc(d)})()}clearedOneInstance(){}}const Xu="recaptcha",ld={theme:"light",type:"image"};class bs{constructor(d,u,p=Object.assign({},ld)){this.parameters=p,this.type=Xu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tr(d),this.isInvisible="invisible"===this.parameters.size,k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof u?document.getElementById(u):u;k(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dt:new Yu,this.validateStartingState()}verify(){var d=this;return(0,y.A)(function*(){d.assertNotDestroyed();const u=yield d.render(),p=d.getAssertedRecaptcha();return p.getResponse(u)||new Promise(I=>{const N=j=>{j&&(d.tokenChangeListeners.delete(N),I(j))};d.tokenChangeListeners.add(N),d.isInvisible&&p.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return u=>{if(this.tokenChangeListeners.forEach(p=>p(u)),"function"==typeof d)d(u);else if("string"==typeof d){const p=Or()[d];"function"==typeof p&&p(u)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,y.A)(function*(){if(yield d.init(),!d.widgetId){let u=d.container;if(!d.isInvisible){const p=document.createElement("div");u.appendChild(p),u=p}d.widgetId=d.getAssertedRecaptcha().render(u,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,y.A)(function*(){k(pt()&&!Gu(),d.auth,"internal-error"),yield function Zu(){let f=null;return new Promise(d=>{"complete"!==document.readyState?(f=()=>d(),window.addEventListener("load",f)):d()}).catch(d=>{throw f&&window.removeEventListener("load",f),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const u=yield function fo(f){return Ni.apply(this,arguments)}(d.auth);k(u,d.auth,"internal-error"),d.parameters.sitekey=u})()}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ha{constructor(d,u){this.verificationId=d,this.onConfirmation=u}confirm(d){const u=Fs._fromVerification(this.verificationId,d);return this.onConfirmation(u)}}function Ar(f,d,u){return dd.apply(this,arguments)}function dd(){return(dd=(0,y.A)(function*(f,d,u){if((0,xe._isFirebaseServerApp)(f.app))return Promise.reject(at(f));const p=tr(f),b=yield Xa(p,d,(0,A.Ku)(u));return new ha(b,I=>Bs(p,I))})).apply(this,arguments)}function Ci(f,d,u){return ri.apply(this,arguments)}function ri(){return(ri=(0,y.A)(function*(f,d,u){const p=(0,A.Ku)(f);yield Fu(!1,p,"phone");const b=yield Xa(p.auth,d,(0,A.Ku)(u));return new ha(b,I=>td(p,I))})).apply(this,arguments)}function Km(f,d,u){return $s.apply(this,arguments)}function $s(){return($s=(0,y.A)(function*(f,d,u){const p=(0,A.Ku)(f);if((0,xe._isFirebaseServerApp)(p.auth.app))return Promise.reject(at(p.auth));const b=yield Xa(p.auth,d,(0,A.Ku)(u));return new ha(b,I=>Ou(p,I))})).apply(this,arguments)}function Xa(f,d,u){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,y.A)(function*(f,d,u){var p;const b=yield u.verify();try{let I;if(k("string"==typeof b,f,"argument-error"),k(u.type===Xu,f,"argument-error"),I="string"==typeof d?{phoneNumber:d}:d,"session"in I){const N=I.session;if("phoneNumber"in I)return k("enroll"===N.type,f,"internal-error"),(yield function qm(f,d){return Z(f,"POST","/v2/accounts/mfaEnrollment:start",te(f,d))}(f,{idToken:N.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{k("signin"===N.type,f,"internal-error");const j=(null===(p=I.multiFactorHint)||void 0===p?void 0:p.uid)||I.multiFactorUid;return k(j,f,"missing-multi-factor-info"),(yield function yt(f,d){return Z(f,"POST","/v2/accounts/mfaSignIn:start",te(f,d))}(f,{mfaPendingCredential:N.credential,mfaEnrollmentId:j,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:N}=yield function Jl(f,d){return Ru.apply(this,arguments)}(f,{phoneNumber:I.phoneNumber,recaptchaToken:b});return N}}finally{u._reset()}}),Eo.apply(this,arguments)}function Qm(f,d){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,y.A)(function*(f,d){const u=(0,A.Ku)(f);if((0,xe._isFirebaseServerApp)(u.auth.app))return Promise.reject(at(u.auth));yield Nm(u,d)})).apply(this,arguments)}let RI=(()=>{class f{constructor(u){this.providerId=f.PROVIDER_ID,this.auth=tr(u)}verifyPhoneNumber(u,p){return Xa(this.auth,u,(0,A.Ku)(p))}static credential(u,p){return Fs._fromVerification(u,p)}static credentialFromResult(u){return f.credentialFromTaggedObject(u)}static credentialFromError(u){return f.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:p,temporaryProof:b}=u;return p&&b?Fs._fromTokenResponse(p,b):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Hs(f,d){return d?me(d):(k(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Ju extends Gl{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Qo(d,this._buildIdpRequest())}_linkToIdToken(d,u){return Qo(d,this._buildIdpRequest(u))}_getReauthenticationResolver(d){return Qo(d,this._buildIdpRequest())}_buildIdpRequest(d){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(u.idToken=d),u}}function MI(f){return Sb(f.auth,new Ju(f),f.bypassAuthState)}function Xm(f){const{auth:d,user:u}=f;return k(u,d,"internal-error"),Db(u,new Ju(f),f.bypassAuthState)}function XM(f){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,y.A)(function*(f){const{auth:d,user:u}=f;return k(u,d,"internal-error"),Nm(u,new Ju(f),f.bypassAuthState)})).apply(this,arguments)}class PI{constructor(d,u,p,b,I=!1){this.auth=d,this.resolver=p,this.user=b,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var d=this;return new Promise(function(){var u=(0,y.A)(function*(p,b){d.pendingPromise={resolve:p,reject:b};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(I){d.reject(I)}});return function(p,b){return u.apply(this,arguments)}}())}onAuthEvent(d){var u=this;return(0,y.A)(function*(){const{urlResponse:p,sessionId:b,postBody:I,tenantId:N,error:j,type:se}=d;if(j)return void u.reject(j);const be={auth:u.auth,requestUri:p,sessionId:b,tenantId:N||void 0,postBody:I||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(se)(be))}catch(Xe){u.reject(Xe)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return MI;case"linkViaPopup":case"linkViaRedirect":return XM;case"reauthViaPopup":case"reauthViaRedirect":return Xm;default:Nt(this.auth,"internal-error")}}resolve(d){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZM=new bt(2e3,1e4);function JM(f,d,u){return Zb.apply(this,arguments)}function Zb(){return(Zb=(0,y.A)(function*(f,d,u){if((0,xe._isFirebaseServerApp)(f.app))return Promise.reject(gn(f,"operation-not-supported-in-this-environment"));const p=tr(f);ct(f,d,sa);const b=Hs(p,u);return new tv(p,"signInViaPopup",d,b).executeNotNull()})).apply(this,arguments)}function e1(f,d,u){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,y.A)(function*(f,d,u){const p=(0,A.Ku)(f);if((0,xe._isFirebaseServerApp)(p.auth.app))return Promise.reject(gn(p.auth,"operation-not-supported-in-this-environment"));ct(p.auth,d,sa);const b=Hs(p.auth,u);return new tv(p.auth,"reauthViaPopup",d,b,p).executeNotNull()})).apply(this,arguments)}function t1(f,d,u){return ev.apply(this,arguments)}function ev(){return(ev=(0,y.A)(function*(f,d,u){const p=(0,A.Ku)(f);ct(p.auth,d,sa);const b=Hs(p.auth,u);return new tv(p.auth,"linkViaPopup",d,b,p).executeNotNull()})).apply(this,arguments)}let tv=(()=>{class f extends PI{constructor(u,p,b,I,N){super(u,p,I,N),this.provider=b,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var u=this;return(0,y.A)(function*(){const p=yield u.execute();return k(p,u.auth,"internal-error"),p})()}onExecution(){var u=this;return(0,y.A)(function*(){Ce(1===u.filter.length,"Popup operations only handle one event");const p=_s();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],p),u.authWindow.associatedEvent=p,u.resolver._originValidation(u.auth).catch(b=>{u.reject(b)}),u.resolver._isIframeWebStorageSupported(u.auth,b=>{b||u.reject(gn(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const u=()=>{var p,b;this.pollId=null!==(b=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,ZM.get())};u()}}return f.currentPopupAction=null,f})();const n1="pendingRedirect",Gc=new Map;class nv extends PI{constructor(d,u,p=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,p),this.eventId=null}execute(){var d=()=>super.execute,u=this;return(0,y.A)(function*(){let p=Gc.get(u.auth._key());if(!p){try{const I=(yield function r1(f,d){return rv.apply(this,arguments)}(u.resolver,u.auth))?yield d().call(u):null;p=()=>Promise.resolve(I)}catch(b){p=()=>Promise.reject(b)}Gc.set(u.auth._key(),p)}return u.bypassAuthState||Gc.set(u.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(d){var u=()=>super.onAuthEvent,p=this;return(0,y.A)(function*(){if("signInViaRedirect"===d.type)return u().call(p,d);if("unknown"!==d.type){if(d.eventId){const b=yield p.auth._redirectUserForId(d.eventId);if(b)return p.user=b,u().call(p,d);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,y.A)(function*(){})()}cleanUp(){}}function rv(){return(rv=(0,y.A)(function*(f,d){const u=Jm(d),p=Wr(f);if(!(yield p._isAvailable()))return!1;const b="true"===(yield p._get(u));return yield p._remove(u),b})).apply(this,arguments)}function iv(f,d){return ov.apply(this,arguments)}function ov(){return(ov=(0,y.A)(function*(f,d){return Wr(f)._set(Jm(d),"true")})).apply(this,arguments)}function FI(){Gc.clear()}function Zm(f,d){Gc.set(f._key(),d)}function Wr(f){return me(f._redirectPersistence)}function Jm(f){return vn(n1,f.config.apiKey,f.name)}function NI(f,d,u){return function OI(f,d,u){return eh.apply(this,arguments)}(f,d,u)}function eh(){return(eh=(0,y.A)(function*(f,d,u){if((0,xe._isFirebaseServerApp)(f.app))return Promise.reject(at(f));const p=tr(f);ct(f,d,sa),yield p._initializationPromise;const b=Hs(p,u);return yield iv(b,p),b._openRedirect(p,d,"signInViaRedirect")})).apply(this,arguments)}function sv(f,d,u){return function LI(f,d,u){return ud.apply(this,arguments)}(f,d,u)}function ud(){return(ud=(0,y.A)(function*(f,d,u){const p=(0,A.Ku)(f);if(ct(p.auth,d,sa),(0,xe._isFirebaseServerApp)(p.auth.app))return Promise.reject(at(p.auth));yield p.auth._initializationPromise;const b=Hs(p.auth,u);yield iv(b,p.auth);const I=yield Pn(p);return b._openRedirect(p.auth,d,"reauthViaRedirect",I)})).apply(this,arguments)}function VI(f,d,u){return function vs(f,d,u){return th.apply(this,arguments)}(f,d,u)}function th(){return(th=(0,y.A)(function*(f,d,u){const p=(0,A.Ku)(f);ct(p.auth,d,sa),yield p.auth._initializationPromise;const b=Hs(p.auth,u);yield Fu(!1,p,d.providerId),yield iv(b,p.auth);const I=yield Pn(p);return b._openRedirect(p.auth,d,"linkViaRedirect",I)})).apply(this,arguments)}function av(f,d){return nh.apply(this,arguments)}function nh(){return(nh=(0,y.A)(function*(f,d){return yield tr(f)._initializationPromise,ep(f,d,!1)})).apply(this,arguments)}function ep(f,d){return cv.apply(this,arguments)}function cv(){return(cv=(0,y.A)(function*(f,d,u=!1){if((0,xe._isFirebaseServerApp)(f.app))return Promise.reject(at(f));const p=tr(f),b=Hs(p,d),N=yield new nv(p,b,u).execute();return N&&!u&&(delete N.user._redirectEventId,yield p._persistUserIfCurrent(N.user),yield p._setRedirectUser(null,d)),N})).apply(this,arguments)}function Pn(f){return hd.apply(this,arguments)}function hd(){return(hd=(0,y.A)(function*(f){const d=_s(`${f.uid}:::`);return f._redirectEventId=d,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),d})).apply(this,arguments)}class Ti{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let u=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(d,p)&&(u=!0,this.sendToConsumer(d,p),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Qc(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kc(f);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=d,u=!0)),u}sendToConsumer(d,u){var p;if(d.error&&!Kc(d)){const b=(null===(p=d.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";u.onError(gn(this.auth,b))}else u.onAuthEvent(d)}isEventForConsumer(d,u){const p=null===u.eventId||!!d.eventId&&d.eventId===u.eventId;return u.filter.includes(d.type)&&p}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(d))}saveEventToCache(d){this.cachedEventUids.add(lv(d)),this.lastProcessedEventTime=Date.now()}}function lv(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(d=>d).join("-")}function Kc({type:f,error:d}){return"unknown"===f&&"auth/no-auth-event"===d?.code}function Zi(f){return tp.apply(this,arguments)}function tp(){return(tp=(0,y.A)(function*(f,d={}){return Z(f,"GET","/v1/projects",d)})).apply(this,arguments)}const np=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BI=/^https?/;function rh(){return(rh=(0,y.A)(function*(f){if(f.config.emulator)return;const{authorizedDomains:d}=yield Zi(f);for(const u of d)try{if(UI(u))return}catch{}Nt(f,"unauthorized-domain")})).apply(this,arguments)}function UI(f){const d=Oe(),{protocol:u,hostname:p}=new URL(d);if(f.startsWith("chrome-extension://")){const N=new URL(f);return""===N.hostname&&""===p?"chrome-extension:"===u&&f.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===u&&N.hostname===p}if(!BI.test(u))return!1;if(np.test(f))return p===f;const b=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(p)}const dv=new bt(3e4,6e4);function ih(){const f=Or().___jsl;if(f?.H)for(const d of Object.keys(f.H))if(f.H[d].r=f.H[d].r||[],f.H[d].L=f.H[d].L||[],f.H[d].r=[...f.H[d].L],f.CP)for(let u=0;u<f.CP.length;u++)f.CP[u]=null}let fa=null;const ip=new bt(5e3,15e3),Za="__/auth/iframe",wt="emulator/auth/iframe",uv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(f){const d=f.config;k(d.authDomain,f,"auth-domain-config-required");const u=d.emulator?U(d,wt):`https://${f.config.authDomain}/${Za}`,p={apiKey:d.apiKey,appName:f.name,v:xe.SDK_VERSION},b=o1.get(f.config.apiHost);b&&(p.eid=b);const I=f._getFrameworks();return I.length&&(p.fw=I.join(",")),`${u}?${(0,A.Am)(p).slice(1)}`}function op(){return op=(0,y.A)(function*(f){const d=yield function oh(f){return fa=fa||function rp(f){return new Promise((d,u)=>{var p,b,I;function N(){ih(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{ih(),u(gn(f,"network-request-failed"))},timeout:dv.get()})}if(null!==(b=null===(p=Or().gapi)||void 0===p?void 0:p.iframes)&&void 0!==b&&b.Iframe)d(gapi.iframes.getContext());else{if(null===(I=Or().gapi)||void 0===I||!I.load){const j=yb("iframefcb");return Or()[j]=()=>{gapi.load?N():u(gn(f,"network-request-failed"))},dt(`${function OM(){return Wl.gapiScript}()}?onload=${j}`).catch(se=>u(se))}N()}}).catch(d=>{throw fa=null,d})}(f),fa}(f),u=Or().gapi;return k(u,f,"internal-error"),d.open({where:document.body,url:zI(f),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uv,dontclear:!0},p=>new Promise(function(){var b=(0,y.A)(function*(I,N){yield p.restyle({setHideOnLeave:!1});const j=gn(f,"network-request-failed"),se=Or().setTimeout(()=>{N(j)},ip.get());function be(){Or().clearTimeout(se),I(p)}p.ping(be).then(be,()=>{N(j)})});return function(I,N){return b.apply(this,arguments)}}()))}),op.apply(this,arguments)}const hv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fv{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tn="__/auth/handler",cn="emulator/auth/handler",ln=encodeURIComponent("fac");function An(f,d,u,p,b,I){return sh.apply(this,arguments)}function sh(){return(sh=(0,y.A)(function*(f,d,u,p,b,I){k(f.config.authDomain,f,"auth-domain-config-required"),k(f.config.apiKey,f,"invalid-api-key");const N={apiKey:f.config.apiKey,appName:f.name,authType:u,redirectUrl:p,v:xe.SDK_VERSION,eventId:b};if(d instanceof sa){d.setDefaultLanguage(f.languageCode),N.providerId=d.providerId||"",(0,A.Im)(d.getCustomParameters())||(N.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Xe,nn]of Object.entries(I||{}))N[Xe]=nn}if(d instanceof ed){const Xe=d.getScopes().filter(nn=>""!==nn);Xe.length>0&&(N.scopes=Xe.join(","))}f.tenantId&&(N.tid=f.tenantId);const j=N;for(const Xe of Object.keys(j))void 0===j[Xe]&&delete j[Xe];const se=yield f._getAppCheckToken(),be=se?`#${ln}=${encodeURIComponent(se)}`:"";return`${function md({config:f}){return f.emulator?U(f,cn):`https://${f.authDomain}/${tn}`}(f)}?${(0,A.Am)(j).slice(1)}${be}`})).apply(this,arguments)}const Bo="webStorageSupport",ah=class sp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xo,this._completeRedirectFn=ep,this._overrideRedirectResult=Zm}_openPopup(d,u,p,b){var I=this;return(0,y.A)(function*(){var N;Ce(null===(N=I.eventManagers[d._key()])||void 0===N?void 0:N.manager,"_initialize() not called before _openPopup()");const j=yield An(d,u,p,Oe(),b);return function WI(f,d,u,p=500,b=600){const I=Math.max((window.screen.availHeight-b)/2,0).toString(),N=Math.max((window.screen.availWidth-p)/2,0).toString();let j="";const se=Object.assign(Object.assign({},hv),{width:p.toString(),height:b.toString(),top:I,left:N}),be=(0,A.ZQ)().toLowerCase();u&&(j=ia(be)?"_blank":u),Tt(be)&&(d=d||"http://localhost",se.scrollbars="yes");const Xe=Object.entries(se).reduce((Li,[ma,pd])=>`${Li}${ma}=${pd},`,"");if(function L(f=(0,A.ZQ)()){var d;return Lo(f)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(be)&&"_self"!==j)return function ne(f,d){const u=document.createElement("a");u.href=f,u.target=d;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(p)}(d||"",j),new fv(null);const nn=window.open(d||"",j,Xe);k(nn,f,"popup-blocked");try{nn.focus()}catch{}return new fv(nn)}(d,j,_s())})()}_openRedirect(d,u,p,b){var I=this;return(0,y.A)(function*(){return yield I._originValidation(d),function qr(f){Or().location.href=f}(yield An(d,u,p,Oe(),b)),new Promise(()=>{})})()}_initialize(d){const u=d._key();if(this.eventManagers[u]){const{manager:b,promise:I}=this.eventManagers[u];return b?Promise.resolve(b):(Ce(I,"If manager is not set, promise should be"),I)}const p=this.initAndGetManager(d);return this.eventManagers[u]={promise:p},p.catch(()=>{delete this.eventManagers[u]}),p}initAndGetManager(d){var u=this;return(0,y.A)(function*(){const p=yield function jI(f){return op.apply(this,arguments)}(d),b=new Ti(d);return p.register("authEvent",I=>(k(I?.authEvent,d,"invalid-auth-event"),{status:b.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[d._key()]={manager:b},u.iframes[d._key()]=p,b})()}_isIframeWebStorageSupported(d,u){this.iframes[d._key()].send(Bo,{type:Bo},b=>{var I;const N=null===(I=b?.[0])||void 0===I?void 0:I[Bo];void 0!==N&&u(!!N),Nt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const u=d._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function ys(f){return rh.apply(this,arguments)}(d)),this.originValidationPromises[u]}get _shouldInitProactively(){return Ae()||$r()||Lo()}};class mv{constructor(d){this.factorId=d}_process(d,u,p){switch(u.type){case"enroll":return this._finalizeEnroll(d,u.credential,p);case"signin":return this._finalizeSignIn(d,u.credential);default:return ve("unexpected MultiFactorSessionType")}}}class pv extends mv{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new pv(d)}_finalizeEnroll(d,u,p){return function $u(f,d){return Z(f,"POST","/v2/accounts/mfaEnrollment:finalize",te(f,d))}(d,{idToken:u,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,u){return function ad(f,d){return Z(f,"POST","/v2/accounts/mfaSignIn:finalize",te(f,d))}(d,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gv=(()=>{class f{constructor(){}static assertion(u){return pv._fromCredential(u)}}return f.FACTOR_ID="phone",f})();var ws="@firebase/auth";class bv{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var u=this;return(0,y.A)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const u=this.auth.onIdTokenChanged(p=>{d(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,u),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const u=this.internalListeners.get(d);u&&(this.internalListeners.delete(d),u(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const lp=(0,A.XA)("authIdTokenMaxAge")||300;let ch=null;const lh=f=>function(){var d=(0,y.A)(function*(u){const p=u&&(yield u.getIdTokenResult()),b=p&&((new Date).getTime()-Date.parse(p.issuedAtTime))/1e3;if(b&&b>lp)return;const I=p?.token;ch!==I&&(ch=I,yield fetch(f,{method:I?"POST":"DELETE",headers:I?{Authorization:`Bearer ${I}`}:{}}))});return function(u){return d.apply(this,arguments)}}();function QI(f=(0,xe.getApp)()){const d=(0,xe._getProvider)(f,"auth");if(d.isInitialized())return d.getImmediate();const u=function BM(f,d){const u=(0,xe._getProvider)(f,"auth");if(u.isInitialized()){const b=u.getImmediate(),I=u.getOptions();if((0,A.bD)(I,d??{}))return b;Nt(b,"already-initialized")}return u.initialize({options:d})}(f,{popupRedirectResolver:ah,persistence:[Vo,qb,Xo]}),p=(0,A.XA)("authTokenSyncURL");if(p&&"boolean"==typeof isSecureContext&&isSecureContext){const I=new URL(p,location.origin);if(location.origin===I.origin){const N=lh(I.toString());(function $m(f,d,u){(0,A.Ku)(f).beforeAuthStateChanged(d,u)})(u,N,()=>N(u.currentUser)),function EI(f,d,u,p){(0,A.Ku)(f).onIdTokenChanged(d,u,p)}(u,j=>N(j))}}const b=(0,A.Tj)("auth");return b&&ut(u,`http://${b}`),u}(function Tn(f){Wl=f})({loadJS:f=>new Promise((d,u)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=d,p.onerror=b=>{const I=gn("internal-error");I.customData=b,u(I)},p.type="text/javascript",p.charset="UTF-8",function vv(){var f,d;return null!==(d=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==d?d:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function KI(f){(0,xe._registerComponent)(new Sn.uA("auth",(d,{options:u})=>{const p=d.getProvider("app").getImmediate(),b=d.getProvider("heartbeat"),I=d.getProvider("app-check-internal"),{apiKey:N,authDomain:j}=p.options;k(N&&!N.includes(":"),"invalid-api-key",{appName:p.name});const se={apiKey:N,authDomain:j,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rt(f)},be=new Tr(p,b,I,se);return function _o(f,d){const u=d?.persistence||[],p=(Array.isArray(u)?u:[u]).map(me);d?.errorMap&&f._updateErrorMap(d.errorMap),f._initializeWithPersistence(p,d?.popupRedirectResolver)}(be,u),be},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,u,p)=>{d.getProvider("auth-internal").initialize()})),(0,xe._registerComponent)(new Sn.uA("auth-internal",d=>{const u=tr(d.getProvider("auth").getImmediate());return new bv(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,xe.registerVersion)(ws,"1.7.2",function GI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,xe.registerVersion)(ws,"1.7.2","esm2017")}("Browser")},76:(Fi,Pr,rt)=>{"use strict";rt.d(Pr,{Am:()=>mo,Bd:()=>ve,FA:()=>Z,Fy:()=>at,I9:()=>Fr,Im:()=>zr,Ku:()=>Jn,Ll:()=>k,T9:()=>Nt,Tj:()=>fr,Uj:()=>kn,XA:()=>gn,ZQ:()=>ct,bD:()=>Ni,cY:()=>Er,eX:()=>H,g:()=>te,gR:()=>fe,hp:()=>Qi,jZ:()=>Bt,lT:()=>ke,lV:()=>Oe,nr:()=>bt,sr:()=>Ce,tD:()=>Hn,u:()=>ae,yU:()=>$n,zW:()=>U,zw:()=>Ge});const je=function(S){const D=[];let E=0;for(let C=0;C<S.length;C++){let w=S.charCodeAt(C);w<128?D[E++]=w:w<2048?(D[E++]=w>>6|192,D[E++]=63&w|128):55296==(64512&w)&&C+1<S.length&&56320==(64512&S.charCodeAt(C+1))?(w=65536+((1023&w)<<10)+(1023&S.charCodeAt(++C)),D[E++]=w>>18|240,D[E++]=w>>12&63|128,D[E++]=w>>6&63|128,D[E++]=63&w|128):(D[E++]=w>>12|224,D[E++]=w>>6&63|128,D[E++]=63&w|128)}return D},Sn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(S,D){if(!Array.isArray(S))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let w=0;w<S.length;w+=3){const O=S[w],Y=w+1<S.length,me=Y?S[w+1]:0,Ct=w+2<S.length,de=Ct?S[w+2]:0;let z=(15&me)<<2|de>>6,Tt=63&de;Ct||(Tt=64,Y||(z=64)),C.push(E[O>>2],E[(3&O)<<4|me>>4],E[z],E[Tt])}return C.join("")},encodeString(S,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(S):this.encodeByteArray(je(S),D)},decodeString(S,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(S):function(S){const D=[];let E=0,C=0;for(;E<S.length;){const w=S[E++];if(w<128)D[C++]=String.fromCharCode(w);else if(w>191&&w<224){const O=S[E++];D[C++]=String.fromCharCode((31&w)<<6|63&O)}else if(w>239&&w<365){const Ct=((7&w)<<18|(63&S[E++])<<12|(63&S[E++])<<6|63&S[E++])-65536;D[C++]=String.fromCharCode(55296+(Ct>>10)),D[C++]=String.fromCharCode(56320+(1023&Ct))}else{const O=S[E++],Y=S[E++];D[C++]=String.fromCharCode((15&w)<<12|(63&O)<<6|63&Y)}}return D.join("")}(this.decodeStringToByteArray(S,D))},decodeStringToByteArray(S,D){this.init_();const E=D?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let w=0;w<S.length;){const O=E[S.charAt(w++)],me=w<S.length?E[S.charAt(w)]:0;++w;const de=w<S.length?E[S.charAt(w)]:64;++w;const lt=w<S.length?E[S.charAt(w)]:64;if(++w,null==O||null==me||null==de||null==lt)throw new Ye;C.push(O<<2|me>>4),64!==de&&(C.push(me<<4&240|de>>2),64!==lt&&C.push(de<<6&192|lt))}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let S=0;S<this.ENCODED_VALS.length;S++)this.byteToCharMap_[S]=this.ENCODED_VALS.charAt(S),this.charToByteMap_[this.byteToCharMap_[S]]=S,this.byteToCharMapWebSafe_[S]=this.ENCODED_VALS_WEBSAFE.charAt(S),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[S]]=S,S>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(S)]=S,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(S)]=S)}}};class Ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kn=function(S){return function(S){const D=je(S);return Sn.encodeByteArray(D,!0)}(S).replace(/\./g,"")},ae=function(S){try{return Sn.decodeString(S,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function Ge(S,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===S&&(S={});break;case Array:S=[];break;default:return D}for(const E in D)!D.hasOwnProperty(E)||!it(E)||(S[E]=Ge(S[E],D[E]));return S}function it(S){return"__proto__"!==S}const _t=()=>{try{return function Ft(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const S=process.env.__FIREBASE_DEFAULTS__;return S?JSON.parse(S):void 0})()||(()=>{if(typeof document>"u")return;let S;try{S=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=S&&ae(S[1]);return D&&JSON.parse(D)})()}catch(S){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${S}`)}},fr=S=>{var D,E;return null===(E=null===(D=_t())||void 0===D?void 0:D.emulatorHosts)||void 0===E?void 0:E[S]},$n=S=>{const D=fr(S);if(!D)return;const E=D.lastIndexOf(":");if(E<=0||E+1===D.length)throw new Error(`Invalid host ${D} with no separate hostname and port!`);const C=parseInt(D.substring(E+1),10);return"["===D[0]?[D.substring(1,E-1),C]:[D.substring(0,E),C]},Nt=()=>{var S;return null===(S=_t())||void 0===S?void 0:S.config},gn=S=>{var D;return null===(D=_t())||void 0===D?void 0:D[`_${S}`]};class Er{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,E)=>{this.resolve=D,this.reject=E})}wrapCallback(D){return(E,C)=>{E?this.reject(E):this.resolve(C),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(E):D(E,C))}}}function at(S,D){if(S.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const C=D||"demo-project",w=S.iat||0,O=S.sub||S.user_id;if(!O)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Y=Object.assign({iss:`https://securetoken.google.com/${C}`,aud:C,iat:w,exp:w+3600,auth_time:w,sub:O,user_id:O,firebase:{sign_in_provider:"custom",identities:{}}},S);return[kn(JSON.stringify({alg:"none",type:"JWT"})),kn(JSON.stringify(Y)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function k(){var S;const D=null===(S=_t())||void 0===S?void 0:S.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ve(){return"object"==typeof self&&self.self===self}function Ce(){const S="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof S&&void 0!==S.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){const S=ct();return S.indexOf("MSIE ")>=0||S.indexOf("Trident/")>=0}function bt(){return!k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){try{return"object"==typeof indexedDB}catch{return!1}}function H(){return new Promise((S,D)=>{try{let E=!0;const C="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(C);w.onsuccess=()=>{w.result.close(),E||self.indexedDB.deleteDatabase(C),S(!0)},w.onupgradeneeded=()=>{E=!1},w.onerror=()=>{var O;D((null===(O=w.error)||void 0===O?void 0:O.message)||"")}}catch(E){D(E)}})}class te extends Error{constructor(D,E,C){super(E),this.code=D,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(D,E,C){this.service=D,this.serviceName=E,this.errors=C}create(D,...E){const C=E[0]||{},w=`${this.service}/${D}`,O=this.errors[D],Y=O?function Se(S,D){return S.replace(We,(E,C)=>{const w=D[C];return null!=w?String(w):`<${C}?>`})}(O,C):"Error";return new te(w,`${this.serviceName}: ${Y} (${w}).`,C)}}const We=/\{\$([^}]+)}/g;function fe(S,D){return Object.prototype.hasOwnProperty.call(S,D)}function zr(S){for(const D in S)if(Object.prototype.hasOwnProperty.call(S,D))return!1;return!0}function Ni(S,D){if(S===D)return!0;const E=Object.keys(S),C=Object.keys(D);for(const w of E){if(!C.includes(w))return!1;const O=S[w],Y=D[w];if(Cn(O)&&Cn(Y)){if(!Ni(O,Y))return!1}else if(O!==Y)return!1}for(const w of C)if(!E.includes(w))return!1;return!0}function Cn(S){return null!==S&&"object"==typeof S}function mo(S){const D=[];for(const[E,C]of Object.entries(S))Array.isArray(C)?C.forEach(w=>{D.push(encodeURIComponent(E)+"="+encodeURIComponent(w))}):D.push(encodeURIComponent(E)+"="+encodeURIComponent(C));return D.length?"&"+D.join("&"):""}function Fr(S){const D={};return S.replace(/^\?/,"").split("&").forEach(C=>{if(C){const[w,O]=C.split("=");D[decodeURIComponent(w)]=decodeURIComponent(O)}}),D}function Qi(S){const D=S.indexOf("?");if(!D)return"";const E=S.indexOf("#",D);return S.substring(D,E>0?E:void 0)}function Hn(S,D){const E=new Ue(S,D);return E.subscribe.bind(E)}class Ue{constructor(D,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then(()=>{D(this)}).catch(C=>{this.error(C)})}next(D){this.forEachObserver(E=>{E.next(D)})}error(D){this.forEachObserver(E=>{E.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,E,C){let w;if(void 0===D&&void 0===E&&void 0===C)throw new Error("Missing Observer.");w=function kt(S,D){if("object"!=typeof S||null===S)return!1;for(const E of D)if(E in S&&"function"==typeof S[E])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:E,complete:C},void 0===w.next&&(w.next=Ut),void 0===w.error&&(w.error=Ut),void 0===w.complete&&(w.complete=Ut);const O=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch{}}),this.observers.push(w),O}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,D)}sendOne(D,E){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{E(this.observers[D])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ut(){}function Jn(S){return S&&S._delegate?S._delegate:S}},57:(Fi,Pr,rt)=>{"use strict";var y=rt(467);let A=null,je=!1,rn=1;const Sn=Symbol("SIGNAL");function Ye(n){const e=A;return A=n,e}const R={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ft(n){if((!at(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==rn)){if(!n.producerMustRecompute(n)&&!$n(n))return n.dirty=!1,void(n.lastCleanEpoch=rn);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=rn}}function xt(n){n.dirty=!0,function Xn(n){if(void 0===n.liveConsumerNode)return;const e=je;je=!0;try{for(const t of n.liveConsumerNode)t.dirty||xt(t)}finally{je=e}}(n),n.consumerMarkedDirty?.(n)}function _t(n){return n&&(n.nextProducerIndex=0),Ye(n)}function fr(n,e){if(Ye(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(at(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Er(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $n(n){ct(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Ft(t),r!==t.version))return!0}return!1}function Nt(n){if(ct(n),at(n))for(let e=0;e<n.producerNode.length;e++)Er(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Er(n,e){if(function Bt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ct(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Er(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ct(i),i.producerIndexOfThis[r]=e}}function at(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ct(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Lt=null;const Re=()=>{},ft={...R,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Re};function Pe(n){return"function"==typeof n}function pe(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const he=pe(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function fe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ge{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(o){e=o instanceof he?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Ni(o)}catch(s){e=e??[],s instanceof he?e=[...e,...s.errors]:e.push(s)}}if(e)throw new he(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ni(e);else{if(e instanceof ge){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&fe(t,e)}remove(e){const{_finalizers:t}=this;t&&fe(t,e),e instanceof ge&&e._removeParent(this)}}ge.EMPTY=(()=>{const n=new ge;return n.closed=!0,n})();const zr=ge.EMPTY;function fo(n){return n instanceof ge||n&&"closed"in n&&Pe(n.remove)&&Pe(n.add)&&Pe(n.unsubscribe)}function Ni(n){Pe(n)?n():n.unsubscribe()}const Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},jr={setTimeout(n,e,...t){const{delegate:r}=jr;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=jr;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function mo(n){jr.setTimeout(()=>{const{onUnhandledError:e}=Cn;if(!e)throw n;e(n)})}function Fr(){}const Qi=Ue("C",void 0,void 0);function Ue(n,e,t){return{kind:n,value:e,error:t}}let $e=null;function kt(n){if(Cn.useDeprecatedSynchronousErrorHandling){const e=!$e;if(e&&($e={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=$e;if($e=null,t)throw r}}else n()}class rr extends ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fo(e)&&e.add(this)):this.destination=_n}static create(e,t,r){return new vt(e,t,r)}next(e){this.isStopped?qn(function Hn(n){return Ue("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?qn(function Rn(n){return Ue("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qn(Qi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ir=Function.prototype.bind;function Vn(n,e){return ir.call(n,e)}class or{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Mn(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Mn(r)}else Mn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Mn(t)}}}class vt extends rr{constructor(e,t,r){let i;if(super(),Pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vn(e.next,o),error:e.error&&Vn(e.error,o),complete:e.complete&&Vn(e.complete,o)}):i=e}this.destination=new or(i)}}function Mn(n){Cn.useDeprecatedSynchronousErrorHandling?function Ut(n){Cn.useDeprecatedSynchronousErrorHandling&&$e&&($e.errorThrown=!0,$e.error=n)}(n):mo(n)}function qn(n,e){const{onStoppedNotification:t}=Cn;t&&jr.setTimeout(()=>t(n,e))}const _n={closed:!0,next:Fr,error:function on(n){throw n},complete:Fr},bn="function"==typeof Symbol&&Symbol.observable||"@@observable";function fn(n){return n}function Zn(n){return 0===n.length?fn:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ot=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function S(n){return n&&n instanceof rr||function Jn(n){return n&&Pe(n.next)&&Pe(n.error)&&Pe(n.complete)}(n)&&fo(n)}(t)?t:new vt(t,r,i);return kt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Wn(r))((i,o)=>{const s=new vt({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[bn](){return this}pipe(...t){return Zn(t)(this)}toPromise(t){return new(t=Wn(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Wn(n){var e;return null!==(e=n??Cn.Promise)&&void 0!==e?e:Promise}const D=pe(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let E=(()=>{class n extends ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new C(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new D}next(t){kt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){kt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){kt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?zr:(this.currentObservers=null,o.push(t),new ge(()=>{this.currentObservers=null,fe(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ot;return t.source=this,t}}return n.create=(e,t)=>new C(e,t),n})();class C extends E{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:zr}}class w extends E{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function O(n){return Pe(n?.lift)}function Y(n){return e=>{if(O(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new Ct(n,e,t,r,i)}class Ct extends rr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function de(n,e){return Y((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(n.call(e,o,i++))}))})}const lt="https://g.co/ng/security#xss";class z extends Error{constructor(e,t){super(function Tt(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function po(n){return{toString:n}.toString()}const q="__parameters__";function mt(n,e,t){return po(()=>{const r=function Ae(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,h){const m=c.hasOwnProperty(q)?c[q]:Object.defineProperty(c,q,{value:[]})[q];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const Ve=globalThis;function zt(n){for(let e in n)if(n[e]===zt)return e;throw Error("Could not find renamed property on target object.")}function qa(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Tr(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Tr).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function tr(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Wl=zt({__forward_ref__:zt});function Tn(n){return n.__forward_ref__=Tn,n.toString=function(){return Tr(this())},n}function dt(n){return Tu(n)?n():n}function Tu(n){return"function"==typeof n&&n.hasOwnProperty(Wl)&&n.__forward_ref__===Tn}function _e(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pc(n){return Du(n,Su)||Du(n,Ql)}function Du(n,e){return n.hasOwnProperty(e)?n[e]:null}function Fc(n){return n&&(n.hasOwnProperty(Kl)||n.hasOwnProperty(Im))?n[Kl]:null}const Su=zt({\u0275prov:zt}),Kl=zt({\u0275inj:zt}),Ql=zt({ngInjectableDef:zt}),Im=zt({ngInjectorDef:zt});class ee{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=_e({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xl(n){return n&&!!n.\u0275providers}const Ps=zt({\u0275cmp:zt}),Qo=zt({\u0275dir:zt}),Zl=zt({\u0275pipe:zt}),Cb=zt({\u0275mod:zt}),ti=zt({\u0275fac:zt}),Jl=zt({__NG_ELEMENT_ID__:zt}),Ru=zt({__NG_ENV_ID__:zt});function At(n){return"string"==typeof n?n:null==n?"":String(n)}function Fs(n,e){throw new z(-201,!1)}var Jt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Jt||{});let km;function Nc(){return km}function bo(n){const e=km;return km=n,e}function Mu(n,e,t){const r=Pc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Jt.Optional?null:void 0!==e?e:void Fs()}const Ns={},Rm="__NG_DI_FLAG__",Pu="ngTempTokenPath",uI=/\n/gm,Tb="__source";let Os;function Ls(n){const e=Os;return Os=n,e}function Mm(n,e=Jt.Default){if(void 0===Os)throw new z(-203,!1);return null===Os?Mu(n,void 0,e):Os.get(n,e&Jt.Optional?null:void 0,e)}function V(n,e=Jt.Default){return(Nc()||Mm)(dt(n),e)}function oe(n,e=Jt.Default){return V(n,Lc(e))}function Lc(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vc(n){const e=[];for(let t=0;t<n.length;t++){const r=dt(n[t]);if(Array.isArray(r)){if(0===r.length)throw new z(900,!1);let i,o=Jt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Ab(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(V(i,o))}else e.push(V(r))}return e}function Bc(n,e){return n[Rm]=e,n.prototype[Rm]=e,n}function Ab(n){return n[Rm]}const Hr=Bc(mt("Optional"),8),Wa=Bc(mt("SkipSelf"),4);function Vs(n,e){return n.hasOwnProperty(ti)?n[ti]:null}function Bs(n,e){n.forEach(t=>Array.isArray(t)?Bs(t,e):e(t))}function Nu(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function td(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vo(n,e,t){let r=gs(n,e);return r>=0?n[1|r]=t:(r=~r,function Rb(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function nd(n,e){const t=gs(n,e);if(t>=0)return n[1|t]}function gs(n,e){return function Lu(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const yo={},an=[],Us=new ee(""),Fb=new ee("",-1),rd=new ee("");class Vu{get(e,t=Ns){if(t===Ns){const r=new Error(`NullInjectorError: No provider for ${Tr(e)}!`);throw r.name="NullInjectorError",r}return t}}var zc=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(zc||{}),Yo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Yo||{}),ie=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ie||{});function Nb(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function id(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Bu(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Ob(n){return 3===n||4===n||6===n}function Bu(n){return 64===n.charCodeAt(0)}function od(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Uu(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Uu(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const Lb="ng-template";function mI(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==Nb(e[i+1].toLowerCase(),t,0))return!0}else if(sd(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===t)return!0}return!1}function sd(n){return 4===n.type&&n.value!==Lb}function pI(n,e,t){return e===(4!==n.type||t?n.value:Lb)}function gI(n,e,t){let r=4;const i=n.attrs,o=null!==i?function Om(n){for(let e=0;e<n.length;e++)if(Ob(n[e]))return e;return n.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!pI(n,c,t)||""===c&&1===e.length){if(wo(r))return!1;s=!0}}else if(8&r){if(null===i||!mI(n,i,c,t)){if(wo(r))return!1;s=!0}}else{const l=e[++a],h=_I(c,i,sd(n),t);if(-1===h){if(wo(r))return!1;s=!0;continue}if(""!==l){let m;if(m=h>o?"":i[h+1].toLowerCase(),2&r&&l!==m){if(wo(r))return!1;s=!0}}}}else{if(!s&&!wo(r)&&!wo(c))return!1;if(s&&wo(c))continue;s=!1,r=c|1&r}}return wo(r)||s}function wo(n){return!(1&n)}function _I(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function vI(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function zu(n,e,t=!1){for(let r=0;r<e.length;r++)if(gI(n,e[r],t))return!0;return!1}function Lm(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Vb(n,e){return n?":not("+e.trim()+")":e}function Vm(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!wo(s)&&(e+=Vb(o,i),i=""),r=s,o=o||!wo(r);t++}return""!==i&&(e+=Vb(o,i)),e}function Bn(n){return po(()=>{const e=Bb(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Yo.Emulated,styles:n.styles||an,_:null,schemas:n.schemas||null,tView:null,id:""};Ub(t);const r=n.dependencies;return t.directiveDefs=jm(r,!1),t.pipeDefs=jm(r,!0),t.id=function GM(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function Um(n){return Mt(n)||Nr(n)}function wI(n){return null!==n}function en(n){return po(()=>({type:n.type,bootstrap:n.bootstrap||an,declarations:n.declarations||an,imports:n.imports||an,exports:n.exports||an,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zm(n,e){if(null==n)return yo;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let o,s,a=ie.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==ie.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Fe(n){return po(()=>{const e=Bb(n);return Ub(e),e})}function Yi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Mt(n){return n[Ps]||null}function Nr(n){return n[Qo]||null}function gi(n){return n[Zl]||null}function Ii(n,e){const t=n[Cb]||null;if(!t&&!0===e)throw new Error(`Type ${Tr(n)} does not have '\u0275mod' property.`);return t}function Bb(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||yo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||an,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zm(n.inputs,e),outputs:zm(n.outputs),debugInfo:null}}function Ub(n){n.features?.forEach(e=>e(n))}function jm(n,e){if(!n)return null;const t=e?gi:Um;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(wI)}function EI(...n){return{\u0275providers:$m(0,n),\u0275fromNgModule:!0}}function $m(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Bs(e,s=>{const a=s;Hm(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&II(i,o),t}function II(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];zb(i,o=>{e(o,r)})}}function Hm(n,e,t,r){if(!(n=dt(n)))return!1;let i=null,o=Fc(n);const s=!o&&Mt(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=Fc(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Hm(l,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Bs(o.imports,h=>{Hm(h,e,t,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&II(l,e)}if(!a){const l=Vs(i)||(()=>new i);e({provide:i,useFactory:l,deps:an},i),e({provide:rd,useValue:i,multi:!0},i),e({provide:Us,useValue:()=>V(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=n;zb(c,h=>{e(h,l)})}}}return i!==n&&void 0!==n.providers}function zb(n,e){for(let t of n)Xl(t)&&(t=t.\u0275providers),Array.isArray(t)?zb(t,e):e(t)}const KM=zt({provide:String,useValue:zt});function jb(n){return null!==n&&"object"==typeof n&&KM in n}function zs(n){return"function"==typeof n}const qm=new ee(""),$u={},QM={};let Wm;function Hu(){return void 0===Wm&&(Wm=new Vu),Wm}class Oi{}class la extends Oi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wb(e,s=>this.processProvider(s)),this.records.set(Fb,$c(void 0,this)),i.has("environment")&&this.records.set(Oi,$c(void 0,this));const o=this.records.get(qm);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rd,an,Jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=Ye(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ls(this),r=bo(void 0);try{return e()}finally{Ls(t),bo(r)}}get(e,t=Ns,r=Jt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ru))return e[Ru](this);r=Lc(r);const o=Ls(this),s=bo(void 0);try{if(!(r&Jt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function qb(n){return"function"==typeof n||"object"==typeof n&&n instanceof ee}(e)&&Pc(e);c=l&&this.injectableDefInScope(l)?$c(Gm(e),$u):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Jt.Self?Hu():this.parent).get(e,t=r&Jt.Optional&&t===Ns?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Pu]=a[Pu]||[]).unshift(Tr(e)),o)throw a;return function fI(n,e,t,r){const i=n[Pu];throw e[Tb]&&i.unshift(e[Tb]),n.message=function Fm(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Tr(e);if(Array.isArray(e))i=e.map(Tr).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Tr(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(uI,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Pu]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{bo(s),Ls(o)}}resolveInjectorInitializers(){const e=Ye(null),t=Ls(this),r=bo(void 0);try{const o=this.get(Us,an,Jt.Self);for(const s of o)s()}finally{Ls(t),bo(r),Ye(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Tr(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){let t=zs(e=dt(e))?e:dt(e&&e.provide);const r=function $b(n){return jb(n)?$c(void 0,n.useValue):$c(Hb(n),$u)}(e);if(!zs(e)&&!0===e.multi){let i=this.records.get(t);i||(i=$c(void 0,$u,!0),i.factory=()=>Vc(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){const r=Ye(null);try{return t.value===$u&&(t.value=QM,t.value=t.factory()),"object"==typeof t.value&&t.value&&function YM(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=dt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Gm(n){const e=Pc(n),t=null!==e?e.factory:Vs(n);if(null!==t)return t;if(n instanceof ee)throw new z(204,!1);if(n instanceof Function)return function qu(n){if(n.length>0)throw new z(204,!1);const t=function cI(n){return n&&(n[Su]||n[Ql])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new z(204,!1)}function Hb(n,e,t){let r;if(zs(n)){const i=dt(n);return Vs(i)||Gm(i)}if(jb(n))r=()=>dt(n.useValue);else if(function ca(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Vc(n.deps||[]));else if(function ju(n){return!(!n||!n.useExisting)}(n))r=()=>V(dt(n.useExisting));else{const i=dt(n&&(n.useClass||n.provide));if(!function CI(n){return!!n.deps}(n))return Vs(i)||Gm(i);r=()=>new i(...Vc(n.deps))}return r}function $c(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Wb(n,e){for(const t of n)Array.isArray(t)?Wb(t,e):t&&Xl(t)?Wb(t.\u0275providers,e):e(t)}function Xo(n,e){n instanceof la&&n.assertNotDestroyed();const r=Ls(n),i=bo(void 0);try{return e()}finally{Ls(r),bo(i)}}function Gb(){return void 0!==Nc()||null!=function hI(){return Os}()}function Wu(n){if(!Gb())throw new z(-203,!1)}const ar=0,ye=1,tt=2,pr=3,Zo=4,ni=5,Xi=6,Hc=7,Gn=8,xi=9,Vo=10,yt=11,ad=12,Yb=13,qc=14,gr=15,da=16,Wc=17,js=18,cd=19,Qu=20,ua=21,Yu=22,Ya=23,Dt=25,Xu=1,bs=7,ha=9,Ar=10;var dd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(dd||{});function Ci(n){return Array.isArray(n)&&"object"==typeof n[Xu]}function ri(n){return Array.isArray(n)&&!0===n[Xu]}function Km(n){return!!(4&n.flags)}function $s(n){return n.componentOffset>-1}function Xa(n){return!(1&~n.flags)}function Eo(n){return!!n.template}function Qm(n){return!!(512&n[tt])}class FI{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Zm(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function Wr(){return Jm}function Jm(n){return n.type.prototype.ngOnChanges&&(n.setInput=OI),NI}function NI(){const n=sv(this),e=n?.current;if(e){const t=n.previous;if(t===yo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function OI(n,e,t,r,i){const o=this.declaredInputs[r],s=sv(n)||function LI(n,e){return n[eh]=e}(n,{previous:yo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new FI(l&&l.currentValue,t,c===yo),Zm(n,e,i,t)}Wr.ngInherit=!0;const eh="__ngSimpleChanges__";function sv(n){return n[eh]||null}const vs=function(n,e,t){},th="svg";let nh=!1;function Pn(n){for(;Array.isArray(n);)n=n[ar];return n}function fd(n,e){return Pn(e[n])}function Ti(n,e){return Pn(e[n.index])}function Kc(n,e){return n.data[e]}function Qc(n,e){return n[e]}function Zi(n,e){const t=e[n];return Ci(t)?t:t[ar]}function np(n){return!(128&~n[tt])}function ys(n,e){return null==e?null:n[e]}function rh(n){n[Wc]=0}function UI(n){1024&n[tt]||(n[tt]|=1024,np(n)&&fa(n))}function ih(n){return!!(9216&n[tt]||n[Ya]?.dirty)}function rp(n){n[Vo].changeDetectionScheduler?.notify(1),ih(n)?fa(n):64&n[tt]&&(function ep(){return nh}()?(n[tt]|=1024,fa(n)):n[Vo].changeDetectionScheduler?.notify())}function fa(n){n[Vo].changeDetectionScheduler?.notify();let e=Za(n);for(;null!==e&&!(8192&e[tt])&&(e[tt]|=8192,np(e));)e=Za(e)}function oh(n,e){if(!(256&~n[tt]))throw new z(911,!1);null===n[ua]&&(n[ua]=[]),n[ua].push(e)}function Za(n){const e=n[pr];return ri(e)?e[pr]:e}const wt={lFrame:u(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hv(){return wt.bindingsEnabled}function Yc(){return null!==wt.skipHydrationRootTNode}function ne(){return wt.lFrame.lView}function tn(){return wt.lFrame.tView}function cn(n){return wt.lFrame.contextLView=n,n[Gn]}function ln(n){return wt.lFrame.contextLView=null,n}function An(){let n=sh();for(;null!==n&&64===n.type;)n=n.parent;return n}function sh(){return wt.lFrame.currentTNode}function Bo(n,e){const t=wt.lFrame;t.currentTNode=n,t.isParent=e}function sp(){return wt.lFrame.isParent}function ah(){wt.lFrame.isParent=!1}function Ji(){const n=wt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function eo(){return wt.lFrame.bindingIndex++}function ws(n){const e=wt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function GI(n,e){const t=wt.lFrame;t.bindingIndex=t.bindingRootIndex=n,cp(e)}function cp(n){wt.lFrame.currentDirectiveIndex=n}function ch(){return wt.lFrame.currentQueryIndex}function lh(n){wt.lFrame.currentQueryIndex=n}function QI(n){const e=n[ye];return 2===e.type?e.declTNode:1===e.type?n[ni]:null}function vv(n,e,t){if(t&Jt.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Jt.Host||(i=QI(o),null===i||(o=o[qc],10&i.type))););if(null===i)return!1;e=i,n=o}const r=wt.lFrame=d();return r.currentTNode=e,r.lView=n,!0}function f(n){const e=d(),t=n[ye];wt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function d(){const n=wt.lFrame,e=null===n?null:n.child;return null===e?u(n):e}function u(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function p(){const n=wt.lFrame;return wt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const b=p;function I(){const n=p();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function j(){return wt.lFrame.selectedIndex}function se(n){wt.lFrame.selectedIndex=n}function be(){const n=wt.lFrame;return Kc(n.tView,n.selectedIndex)}function Xe(){wt.lFrame.currentNamespace=th}let dp=!0;function Ja(){return dp}function es(n){dp=n}function Xc(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function gd(n,e,t){up(n,e,3,t)}function _d(n,e,t,r){(3&n[tt])===t&&up(n,e,t,r)}function bd(n,e){let t=n[tt];(3&t)===e&&(t&=16383,t+=1,n[tt]=t)}function up(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Wc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Wc]+=65536),(a<o||-1==o)&&(hp(n,t,e,c),n[Wc]=(4294901760&n[Wc])+c+2),c++}function wv(n,e){vs(4,n,e);const t=Ye(null);try{e.call(n)}finally{Ye(t),vs(5,n,e)}}function hp(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[tt]>>14<n[Wc]>>16&&(3&n[tt])===e&&(n[tt]+=16384,wv(a,o)):wv(a,o)}const Zc=-1;class fp{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function XI(n){return n!==Zc}function mp(n){return 32767&n}function pp(n,e){let t=function G8(n){return n>>16}(n),r=e;for(;t>0;)r=r[qc],t--;return r}let ZI=!0;function Ev(n){const e=ZI;return ZI=n,e}const s1=255,a1=5;let K8=0;const pa={};function Iv(n,e){const t=c1(n,e);if(-1!==t)return t;const r=e[ye];r.firstCreatePass&&(n.injectorIndex=e.length,JI(r.data,n),JI(e,null),JI(r.blueprint,null));const i=xv(n,e),o=n.injectorIndex;if(XI(i)){const s=mp(i),a=pp(i,e),c=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function JI(n,e){n.push(0,0,0,0,0,0,0,0,e)}function c1(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function xv(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=p1(i),null===r)return Zc;if(t++,i=i[qc],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Zc}function ex(n,e,t){!function Q8(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Jl)&&(r=t[Jl]),null==r&&(r=t[Jl]=K8++);const i=r&s1;e.data[n+(i>>a1)]|=1<<i}(n,e,t)}function l1(n,e,t){if(t&Jt.Optional||void 0!==n)return n;Fs()}function d1(n,e,t,r){if(t&Jt.Optional&&void 0===r&&(r=null),!(t&(Jt.Self|Jt.Host))){const i=n[xi],o=bo(void 0);try{return i?i.get(e,r,t&Jt.Optional):Mu(e,r,t&Jt.Optional)}finally{bo(o)}}return l1(r,0,t)}function u1(n,e,t,r=Jt.Default,i){if(null!==n){if(2048&e[tt]&&!(r&Jt.Self)){const s=function eq(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[tt]&&!(512&s[tt]);){const a=h1(o,s,t,r|Jt.Self,pa);if(a!==pa)return a;let c=o.parent;if(!c){const l=s[Qu];if(l){const h=l.get(t,pa,r);if(h!==pa)return h}c=p1(s),s=s[qc]}o=c}return i}(n,e,t,r,pa);if(s!==pa)return s}const o=h1(n,e,t,r,pa);if(o!==pa)return o}return d1(e,t,r,i)}function h1(n,e,t,r,i){const o=function Z8(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Jl)?n[Jl]:void 0;return"number"==typeof e?e>=0?e&s1:J8:e}(t);if("function"==typeof o){if(!vv(e,n,r))return r&Jt.Host?l1(i,0,r):d1(e,t,r,i);try{let s;if(s=o(r),null!=s||r&Jt.Optional)return s;Fs()}finally{b()}}else if("number"==typeof o){let s=null,a=c1(n,e),c=Zc,l=r&Jt.Host?e[gr][ni]:null;for((-1===a||r&Jt.SkipSelf)&&(c=-1===a?xv(n,e):e[a+8],c!==Zc&&m1(r,!1)?(s=e[ye],a=mp(c),e=pp(c,e)):a=-1);-1!==a;){const h=e[ye];if(f1(o,a,h.data)){const m=X8(a,e,t,s,r,l);if(m!==pa)return m}c=e[a+8],c!==Zc&&m1(r,e[ye].data[a+8]===l)&&f1(o,a,e)?(s=h,a=mp(c),e=pp(c,e)):a=-1}}return i}function X8(n,e,t,r,i,o){const s=e[ye],a=s.data[n+8],h=Cv(a,s,t,null==r?$s(a)&&ZI:r!=s&&!!(3&a.type),i&Jt.Host&&o===a);return null!==h?vd(e,s,h,a):pa}function Cv(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=i?a+h:n.directiveEnd;for(let _=r?a:a+h;_<g;_++){const v=s[_];if(_<c&&t===v||_>=c&&v.type===t)return _}if(i){const _=s[c];if(_&&Eo(_)&&_.type===t)return c}return null}function vd(n,e,t,r){let i=n[t];const o=e.data;if(function $8(n){return n instanceof fp}(i)){const s=i;s.resolving&&function lI(n,e){throw e&&e.join(" > "),new z(-200,n)}(function yn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():At(n)}(o[t]));const a=Ev(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?bo(s.injectImpl):null;vv(n,r,Jt.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function yv(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Jm(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&bo(l),Ev(a),s.resolving=!1,b()}}return i}function f1(n,e,t){return!!(t[e+(n>>a1)]&1<<n)}function m1(n,e){return!(n&Jt.Self||n&Jt.Host&&e)}class _i{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return u1(this._tNode,this._lView,e,Lc(r),t)}}function J8(){return new _i(An(),ne())}function ii(n){return po(()=>{const e=n.prototype.constructor,t=e[ti]||tx(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ti]||tx(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tx(n){return Tu(n)?()=>{const e=tx(dt(n));return e&&e()}:Vs(n)}function p1(n){const e=n[ye],t=e.type;return 2===t?e.declTNode:1===t?n[ni]:null}function ec(n){return function Y8(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Ob(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(An(),n)}function y1(n,e=null,t=null,r){const i=w1(n,e,t,r);return i.resolveInjectorInitializers(),i}function w1(n,e=null,t=null,r,i=new Set){const o=[t||an,EI(n)];return r=r||("object"==typeof n?void 0:Tr(n)),new la(o,e||Hu(),r||null,i)}let oi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ns;static#t=this.NULL=new Vu;static create(t,r){if(Array.isArray(t))return y1({name:""},r,t,"");{const i=t.name??"";return y1({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=_e({token:n,providedIn:"any",factory:()=>V(Fb)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function rx(n){return n.ngOriginalError}class ts{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&rx(e);for(;t&&rx(t);)t=rx(t);return t||null}}const I1=new ee("",{providedIn:"root",factory:()=>oe(ts).handleError.bind(void 0)});let hh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=lq;static#t=this.__NG_ENV_ID__=t=>t}return n})();class cq extends hh{constructor(e){super(),this._lView=e}onDestroy(e){return oh(this._lView,e),()=>function ip(n,e){if(null===n[ua])return;const t=n[ua].indexOf(e);-1!==t&&n[ua].splice(t,1)}(this._lView,e)}}function lq(){return new cq(ne())}function dq(){return fh(An(),ne())}function fh(n,e){return new qt(Ti(n,e))}let qt=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=dq}return n})();function C1(n){return n instanceof qt?n.nativeElement:n}function ix(n){return e=>{setTimeout(n,void 0,e)}}const gt=class uq extends E{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Gb()&&(this.destroyRef=oe(hh,{optional:!0})??void 0)}emit(e){const t=Ye(null);try{super.next(e)}finally{Ye(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ix(o),i&&(i=ix(i)),s&&(s=ix(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof ge&&e.add(a),a}};function hq(){return this._results[Symbol.iterator]()}class mh{static#e=Symbol.iterator;get changes(){return this._changes??=new gt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=mh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=hq)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function Ei(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Sb(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Av(n){return!(128&~n.flags)}const ox=new Map;let mq=0;const ax="__ngContext__";function to(n,e){Ci(e)?(n[ax]=e[cd],function gq(n){ox.set(n[cd],n)}(e)):n[ax]=e}function N1(n){return L1(n[ad])}function O1(n){return L1(n[Zo])}function L1(n){for(;null!==n&&!ri(n);)n=n[Zo];return n}let cx;const kv=new ee("",{providedIn:"root",factory:()=>Fq}),Fq="ng",q1=new ee(""),ns=new ee("",{providedIn:"platform",factory:()=>"unknown"}),zo=new ee(""),lx=new ee("",{providedIn:"root",factory:()=>function Jc(){if(void 0!==cx)return cx;if(typeof document<"u")return document;throw new z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let W1=()=>null;function _x(n,e,t=!1){return W1(n,e,t)}const X1=new ee("",{providedIn:"root",factory:()=>!1});let Lv,Vv;function _h(n){return function wx(){if(void 0===Lv&&(Lv=null,Ve.trustedTypes))try{Lv=Ve.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Lv}()?.createHTML(n)||n}function tP(n){return function Ex(){if(void 0===Vv&&(Vv=null,Ve.trustedTypes))try{Vv=Ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Vv}()?.createScriptURL(n)||n}class yd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}class Kq extends yd{getTypeName(){return"HTML"}}class Qq extends yd{getTypeName(){return"Style"}}class Yq extends yd{getTypeName(){return"Script"}}class Xq extends yd{getTypeName(){return"URL"}}class Zq extends yd{getTypeName(){return"ResourceURL"}}function rs(n){return n instanceof yd?n.changingThisBreaksApplicationSecurity:n}function ga(n,e){const t=function Jq(n){return n instanceof yd&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${lt})`)}return t===e}class oW{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(_h(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class sW{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=_h(e),t}}const cW=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bv(n){return(n=String(n)).match(cW)?n:"unsafe:"+n}function tc(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ep(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const rP=tc("area,br,col,hr,img,wbr"),iP=tc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oP=tc("rp,rt"),Ix=Ep(rP,Ep(iP,tc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ep(oP,tc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ep(oP,iP)),xx=tc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sP=Ep(xx,tc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lW=tc("script,style,template");class dW{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)i.push(t),t=fW(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=hW(t);if(o){t=o;break}t=i.pop()}return this.buf.join("")}startElement(e){const t=aP(e).toLowerCase();if(!Ix.hasOwnProperty(t))return this.sanitizedSomething=!0,!lW.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!sP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;xx[a]&&(c=Bv(c)),this.buf.push(" ",s,'="',lP(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=aP(e).toLowerCase();Ix.hasOwnProperty(t)&&!rP.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(lP(e))}}function hW(n){const e=n.nextSibling;if(e&&n!==e.previousSibling)throw cP(e);return e}function fW(n){const e=n.firstChild;if(e&&function uW(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,e))throw cP(e);return e}function aP(n){const e=n.nodeName;return"string"==typeof e?e:"FORM"}function cP(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const mW=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pW=/([^\#-~ |!])/g;function lP(n){return n.replace(/&/g,"&amp;").replace(mW,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(pW,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uv;function dP(n,e){let t=null;try{Uv=Uv||function nP(n){const e=new sW(n);return function aW(){try{return!!(new window.DOMParser).parseFromString(_h(""),"text/html")}catch{return!1}}()?new oW(e):e}(n);let r=e?String(e):"";t=Uv.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Uv.getInertBodyElement(r)}while(r!==o);return _h((new dW).sanitizeChildren(Cx(t)||t))}finally{if(t){const r=Cx(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Cx(n){return"content"in n&&function gW(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Vi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Vi||{});function uP(n){const e=Ip();return e?e.sanitize(Vi.URL,n)||"":ga(n,"URL")?rs(n):Bv(At(n))}function hP(n){const e=Ip();if(e)return tP(e.sanitize(Vi.RESOURCE_URL,n)||"");if(ga(n,"ResourceURL"))return tP(rs(n));throw new z(904,!1)}function Ip(){const n=ne();return n&&n[Vo].sanitizer}const IW=/^>|^->|<!--|-->|--!>|<!-$/g,xW=/(<|>)/g,CW="\u200b$1\u200b";function is(n){return n instanceof Function?n():n}var tl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(tl||{});let Sx;function kx(n,e){return Sx(n,e)}function vh(n,e,t,r,i){if(null!=r){let o,s=!1;ri(r)?o=r:Ci(r)&&(s=!0,r=r[ar]);const a=Pn(r);0===n&&null!==t?null==i?CP(e,t,a):wd(e,t,a,i||null,!0):1===n&&null!==t?wd(e,t,a,i||null,!0):2===n?function Tp(n,e,t){const r=qv(n,e);r&&function HW(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function GW(n,e,t,r,i){const o=t[bs];o!==Pn(t)&&vh(e,n,r,o,i);for(let a=Ar;a<t.length;a++){const c=t[a];Gv(c[ye],c,n,e,r,o)}}(e,n,o,t,i)}}function Mx(n,e){return n.createComment(function mP(n){return n.replace(IW,e=>e.replace(xW,CW))}(e))}function $v(n,e,t){return n.createElement(e,t)}function EP(n,e){e[Vo].changeDetectionScheduler?.notify(1),Gv(n,e,e[yt],2,null,null)}function IP(n,e){const t=n[ha],r=t.indexOf(e);t.splice(r,1)}function xp(n,e){if(n.length<=Ar)return;const t=Ar+e,r=n[t];if(r){const i=r[da];null!==i&&i!==n&&IP(i,r),e>0&&(n[t-1][Zo]=r[Zo]);const o=td(n,Ar+e);!function LW(n,e){EP(n,e),e[ar]=null,e[ni]=null}(r[ye],r);const s=o[js];null!==s&&s.detachView(o[ye]),r[pr]=null,r[Zo]=null,r[tt]&=-129}return r}function Hv(n,e){if(!(256&e[tt])){const t=e[yt];t.destroyNode&&Gv(n,e,t,3,null,null),function BW(n){let e=n[ad];if(!e)return Px(n[ye],n);for(;e;){let t=null;if(Ci(e))t=e[ad];else{const r=e[Ar];r&&(t=r)}if(!t){for(;e&&!e[Zo]&&e!==n;)Ci(e)&&Px(e[ye],e),e=e[pr];null===e&&(e=n),Ci(e)&&Px(e[ye],e),t=e&&e[Zo]}e=t}}(e)}}function Px(n,e){if(256&e[tt])return;const t=Ye(null);try{e[tt]&=-129,e[tt]|=256,e[Ya]&&Nt(e[Ya]),function $W(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof fp)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];vs(4,a,c);try{c.call(a)}finally{vs(5,a,c)}}else{vs(4,i,o);try{o.call(i)}finally{vs(5,i,o)}}}}}(n,e),function jW(n,e){const t=n.cleanup,r=e[Hc];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[Hc]=null);const i=e[ua];if(null!==i){e[ua]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[ye].type&&e[yt].destroy();const r=e[da];if(null!==r&&ri(e[pr])){r!==e[pr]&&IP(r,e);const i=e[js];null!==i&&i.detachView(n)}!function _q(n){ox.delete(n[cd])}(e)}finally{Ye(t)}}function Fx(n,e,t){return function xP(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[ar];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Yo.None||o===Yo.Emulated)return null}return Ti(r,t)}}(n,e.parent,t)}function wd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function CP(n,e,t){n.appendChild(e,t)}function TP(n,e,t,r,i){null!==r?wd(n,e,t,r,i):CP(n,e,t)}function qv(n,e){return n.parentNode(e)}function AP(n,e,t){return SP(n,e,t)}let Nx,SP=function DP(n,e,t){return 40&n.type?Ti(n,t):null};function Wv(n,e,t,r){const i=Fx(n,r,e),o=e[yt],a=AP(r.parent||e[ni],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)TP(o,i,t[c],a,!1);else TP(o,i,t,a,!1);void 0!==Nx&&Nx(o,r,e,t,i)}function Cp(n,e){if(null!==e){const t=e.type;if(3&t)return Ti(e,n);if(4&t)return Ox(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Cp(n,r);{const i=n[e.index];return ri(i)?Ox(-1,i):Pn(i)}}if(32&t)return kx(e,n)()||Pn(n[e.index]);{const r=RP(n,e);return null!==r?Array.isArray(r)?r[0]:Cp(Za(n[gr]),r):Cp(n,e.next)}}return null}function RP(n,e){return null!==e?n[gr][ni].projection[e.projection]:null}function Ox(n,e){const t=Ar+n+1;if(t<e.length){const r=e[t],i=r[ye].firstChild;if(null!==i)return Cp(r,i)}return e[bs]}function Lx(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&to(Pn(a),r),t.flags|=2),32&~t.flags)if(8&c)Lx(n,e,t.child,r,i,o,!1),vh(e,n,i,a,o);else if(32&c){const l=kx(t,r);let h;for(;h=l();)vh(e,n,i,h,o);vh(e,n,i,a,o)}else 16&c?PP(n,e,r,t,i,o):vh(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Gv(n,e,t,r,i,o){Lx(t,r,n.firstChild,e,i,o,!1)}function PP(n,e,t,r,i,o){const s=t[gr],c=s[ni].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)vh(e,n,i,c[l],o);else{let l=c;const h=s[pr];Av(r)&&(l.flags|=128),Lx(n,e,l,h,i,o,!0)}}function FP(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function NP(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&id(n,e,r),null!==i&&FP(n,e,i),null!==o&&function QW(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const Vt={};function ce(n=1){OP(tn(),ne(),j()+n,!1)}function OP(n,e,t,r){if(!r)if(3&~e[tt]){const o=n.preOrderHooks;null!==o&&_d(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&gd(e,o,t)}se(t)}function M(n,e=Jt.Default){const t=ne();return null===t?V(n,e):u1(An(),t,dt(n),e)}function Kv(){throw new Error("invalid")}function LP(n,e,t,r,i,o){const s=Ye(null);try{let a=null;i&ie.SignalBased&&(a=e[r][Sn]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&ie.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,r):Zm(e,a,r,o)}finally{Ye(s)}}function Qv(n,e,t,r,i,o,s,a,c,l,h){const m=e.blueprint.slice();return m[ar]=i,m[tt]=204|r,(null!==l||n&&2048&n[tt])&&(m[tt]|=2048),rh(m),m[pr]=m[qc]=n,m[Gn]=t,m[Vo]=s||n&&n[Vo],m[yt]=a||n&&n[yt],m[xi]=c||n&&n[xi]||null,m[ni]=o,m[cd]=function pq(){return mq++}(),m[Xi]=h,m[Qu]=l,m[gr]=2==e.type?n[gr]:m,m}function yh(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Vx(n,e,t,r,i){const o=sh(),s=sp(),c=n.data[e]=function rG(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Yc()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function _v(){return wt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function md(){const n=wt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Bo(o,!0),o}function Ap(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function VP(n,e,t,r,i){const o=j(),s=2&r;try{se(-1),s&&e.length>Dt&&OP(n,e,Dt,!1),vs(s?2:0,i),t(r,i)}finally{se(o),vs(s?3:1,i)}}function Bx(n,e,t){if(Km(e)){const r=Ye(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Ye(r)}}}function Ux(n,e,t){hv()&&(function dG(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;$s(t)&&function _G(n,e,t){const r=Ti(e,n),i=BP(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Yv(n,Qv(n,i,null,s,r,e,null,n[Vo].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Iv(t,e),to(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=vd(e,n,a,t);to(l,e),null!==s&&bG(0,a-i,l,c,0,s),Eo(c)&&(Zi(t.index,e)[Gn]=vd(e,n,a,t))}}(n,e,t,Ti(t,e)),!(64&~t.flags)&&HP(n,e,t))}function zx(n,e,t=Ti){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function BP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=jx(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function jx(n,e,t,r,i,o,s,a,c,l,h){const m=Dt+r,g=m+i,_=function XW(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vt);return t}(m,g),v="function"==typeof l?l():l;return _[ye]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:h}}let UP=()=>null;function zP(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;r??={};let a,c=ie.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==i){if(!i.hasOwnProperty(o))continue;l=i[o]}0===n?jP(r,t,l,a,c):jP(r,t,l,a)}return r}function jP(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],void 0!==i&&o.push(i)}function jo(n,e,t,r,i,o,s,a){const c=Ti(e,t);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(Gx(n,t,h,r,i),$s(e)&&function sG(n,e){const t=Zi(e,n);16&t[tt]||(t[tt]|=64)}(t,e.index)):3&e.type&&(r=function oG(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function $x(n,e,t,r){if(hv()){const i=null===r?null:{"":-1},o=function hG(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(zu(e,s.selectors,!1))if(r||(r=[]),Eo(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Hx(n,e,a.length)}else r.unshift(s),Hx(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&$P(n,e,t,s,i,a),i&&function fG(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new z(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=od(t.mergedAttrs,t.attrs)}function $P(n,e,t,r,i,o){for(let l=0;l<r.length;l++)ex(Iv(t,e),n,r[l].type);!function pG(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=Ap(n,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];t.mergedAttrs=od(t.mergedAttrs,h.hostAttrs),gG(n,t,e,c,h),mG(c,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const m=h.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function iG(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<i;h++){const m=o[h],g=t?t.get(m):null,v=g?g.outputs:null;c=zP(0,m.inputs,h,c,g?g.inputs:null),l=zP(1,m.outputs,h,l,v);const x=null===c||null===s||sd(e)?null:vG(c,h,s);a.push(x)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function HP(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function KI(){return wt.lFrame.currentDirectiveIndex}();try{se(o);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];cp(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&uG(c,l)}}finally{se(-1),cp(s)}}function uG(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Hx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function mG(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Eo(e)&&(t[""]=n)}}function gG(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Vs(i.type)),s=new fp(o,Eo(i),M);n.blueprint[r]=s,t[r]=s,function cG(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function lG(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,Ap(n,t,i.hostVars,Vt),i)}function _a(n,e,t,r,i,o){const s=Ti(n,e);!function qx(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?At(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[yt],s,o,n.value,t,r,i)}function bG(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)LP(r,t,s[a++],s[a++],s[a++],s[a++])}function vG(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function qP(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function WP(n,e){const t=n.contentQueries;if(null!==t){const r=Ye(null);try{for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=n.data[s];lh(t[i]),a.contentQueries(2,e[s],s)}}}finally{Ye(r)}}}function Yv(n,e){return n[ad]?n[Yb][Zo]=e:n[ad]=e,n[Yb]=e,e}function Wx(n,e,t){lh(0);const r=Ye(null);try{e(n,t)}finally{Ye(r)}}function GP(n){return n[Hc]||(n[Hc]=[])}function KP(n){return n.cleanup||(n.cleanup=[])}function Xv(n,e){const t=n[xi],r=t?t.get(ts,null):null;r&&r.handleError(e)}function Gx(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];LP(n.data[s],e[s],r,a,c,i)}}function yG(n,e){const t=Zi(e,n),r=t[ye];!function wG(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[ar];null!==i&&null===t[Xi]&&(t[Xi]=_x(i,t[xi])),Kx(r,t,t[Gn])}function Kx(n,e,t){f(e);try{const r=n.viewQuery;null!==r&&Wx(1,r,t);const i=n.template;null!==i&&VP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[js]?.finishViewCreation(n),n.staticContentQueries&&WP(n,e),n.staticViewQueries&&Wx(2,n.viewQuery,t);const o=n.components;null!==o&&function EG(n,e){for(let t=0;t<e.length;t++)yG(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[tt]&=-5,I()}}function Dp(n,e,t,r){const i=Ye(null);try{const o=e.tView,c=Qv(n,o,t,4096&n[tt]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[da]=n[e.index];const h=n[js];return null!==h&&(c[js]=h.createEmbeddedView(o)),Kx(o,c,t),c}finally{Ye(i)}}function YP(n,e){const t=Ar+e;if(t<n.length)return n[t]}function wh(n,e){return!e||null===e.firstChild||Av(n)}function Sp(n,e,t,r=!0){const i=e[ye];if(function UW(n,e,t,r){const i=Ar+r,o=t.length;r>0&&(t[i-1][Zo]=e),r<o-Ar?(e[Zo]=t[i],Nu(t,Ar+r,e)):(t.push(e),e[Zo]=null),e[pr]=t;const s=e[da];null!==s&&t!==s&&function zW(n,e){const t=n[ha];e[gr]!==e[pr][pr][gr]&&(n[tt]|=dd.HasTransplantedViews),null===t?n[ha]=[e]:t.push(e)}(s,e);const a=e[js];null!==a&&a.insertView(n),rp(e),e[tt]|=128}(i,e,n,t),r){const s=Ox(t,n),a=e[yt],c=qv(a,n[bs]);null!==c&&function VW(n,e,t,r,i,o){r[ar]=i,r[ni]=e,Gv(n,r,t,1,i,o)}(i,n[ni],a,e,c,s)}const o=e[Xi];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Qx(n,e){const t=xp(n,e);return void 0!==t&&Hv(t[ye],t),t}function kp(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(Pn(o)),ri(o)&&XP(o,r);const s=t.type;if(8&s)kp(n,e,t.child,r);else if(32&s){const a=kx(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=RP(e,t);if(Array.isArray(a))r.push(...a);else{const c=Za(e[gr]);kp(c[ye],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function XP(n,e){for(let t=Ar;t<n.length;t++){const r=n[t],i=r[ye].firstChild;null!==i&&kp(r[ye],r,i,e)}n[bs]!==n[ar]&&e.push(n[bs])}let ZP=[];const TG={...R,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{fa(n.lView)},consumerOnSignalRead(){this.lView[Ya]=this}},JP=100;function Zv(n,e=!0,t=0){const r=n[Vo],i=r.rendererFactory;i.begin?.();try{!function AG(n,e){Yx(n,e);let t=0;for(;ih(n);){if(t===JP)throw new z(103,!1);t++,Yx(n,1)}}(n,t)}catch(s){throw e&&Xv(n,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function DG(n,e,t,r){const i=e[tt];if(!(256&~i))return;e[Vo].inlineEffectRunner?.flush(),f(e);let s=null,a=null;(function SG(n){return 2!==n.type})(n)&&(a=function IG(n){return n[Ya]??function xG(n){const e=ZP.pop()??Object.create(TG);return e.lView=n,e}(n)}(e),s=_t(a));try{rh(e),function ap(n){return wt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&VP(n,e,t,2,r);const c=!(3&~i);if(c){const m=n.preOrderCheckHooks;null!==m&&gd(e,m,null)}else{const m=n.preOrderHooks;null!==m&&_d(e,m,0,null),bd(e,0)}if(function kG(n){for(let e=N1(n);null!==e;e=O1(e)){if(!(e[tt]&dd.HasTransplantedViews))continue;const t=e[ha];for(let r=0;r<t.length;r++){UI(t[r])}}}(e),eF(e,0),null!==n.contentQueries&&WP(n,e),c){const m=n.contentCheckHooks;null!==m&&gd(e,m)}else{const m=n.contentHooks;null!==m&&_d(e,m,1),bd(e,1)}!function YW(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)se(~i);else{const o=i,s=t[++r],a=t[++r];GI(s,o),a(2,e[o])}}}finally{se(-1)}}(n,e);const l=n.components;null!==l&&nF(e,l,0);const h=n.viewQuery;if(null!==h&&Wx(2,h,r),c){const m=n.viewCheckHooks;null!==m&&gd(e,m)}else{const m=n.viewHooks;null!==m&&_d(e,m,2),bd(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Yu]){for(const m of e[Yu])m();e[Yu]=null}e[tt]&=-73}catch(c){throw fa(e),c}finally{null!==a&&(fr(a,s),function CG(n){n.lView[Ya]!==n&&(n.lView=null,ZP.push(n))}(a)),I()}}function eF(n,e){for(let t=N1(n);null!==t;t=O1(t))for(let r=Ar;r<t.length;r++)tF(t[r],e)}function RG(n,e,t){tF(Zi(e,n),t)}function tF(n,e){np(n)&&Yx(n,e)}function Yx(n,e){const r=n[ye],i=n[tt],o=n[Ya];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!$n(o)),o&&(o.dirty=!1),n[tt]&=-9217,s)DG(r,n,r.template,n[Gn]);else if(8192&i){eF(n,1);const a=r.components;null!==a&&nF(n,a,1)}}function nF(n,e,t){for(let r=0;r<e.length;r++)RG(n,e[r],t)}function Rp(n){for(n[Vo].changeDetectionScheduler?.notify();n;){n[tt]|=64;const e=Za(n);if(Qm(n)&&!e)return n;n=e}return null}class Mp{get rootNodes(){const e=this._lView,t=e[ye];return kp(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gn]}set context(e){this._lView[Gn]=e}get destroyed(){return!(256&~this._lView[tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[pr];if(ri(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(xp(e,r),td(t,r))}this._attachedToViewContainer=!1}Hv(this._lView[ye],this._lView)}onDestroy(e){oh(this._lView,e)}markForCheck(){Rp(this._cdRefInjectingView||this._lView)}detach(){this._lView[tt]&=-129}reattach(){rp(this._lView),this._lView[tt]|=128}detectChanges(){this._lView[tt]|=1024,Zv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,EP(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e,rp(this._lView)}}let Io=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=FG}return n})();const MG=Io,PG=class extends MG{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=Dp(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Mp(i)}};function FG(){return Jv(An(),ne())}function Jv(n,e){return 4&n.type?new PG(e,n,fh(n,e)):null}let cF=()=>null;function Eh(n,e){return cF(n,e)}class iy{}class i9{}class lF{}class s9{resolveComponentFactory(e){throw function o9(n){const e=Error(`No component factory found for ${Tr(n)}.`);return e.ngComponent=n,e}(e)}}let Ed=(()=>{class n{static#e=this.NULL=new s9}return n})();class nC{}let rc=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function a9(){const n=ne(),t=Zi(An().index,n);return(Ci(t)?t:n)[yt]}()}return n})(),c9=(()=>{class n{static#e=this.\u0275prov=_e({token:n,providedIn:"root",factory:()=>null})}return n})();const rC={},uF=new Set;function qs(n){uF.has(n)||(uF.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function hF(...n){}class He{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function l9(){const n="function"==typeof Ve.requestAnimationFrame;let e=Ve[n?"requestAnimationFrame":"setTimeout"],t=Ve[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function h9(n){const e=()=>{!function u9(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ve,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,oC(n),n.isCheckStableRunning=!0,iC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),oC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function f9(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return fF(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),mF(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return fF(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),mF(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,oC(n),iC(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,d9,hF,hF);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const d9={};function iC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function oC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fF(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mF(n){n._nesting--,iC(n)}class pF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}var Id=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Id||{});const gF={destroy(){}};function _F(n,e){!e&&Wu();const t=e?.injector??oe(oi);if(!function el(n){return"browser"===(n??oe(oi)).get(ns)}(t))return gF;qs("NgAfterNextRender");const r=t.get(Lp),i=r.handler??=new vF,o=e?.phase??Id.MixedReadWrite,s=()=>{i.unregister(c),a()},a=t.get(hh).onDestroy(s),c=Xo(t,()=>new bF(o,()=>{s(),n()}));return i.register(c),{destroy:s}}class bF{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=oe(He),this.errorHandler=oe(ts,{optional:!0}),oe(iy,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class vF{constructor(){this.executingCallbacks=!1,this.buckets={[Id.EarlyRead]:new Set,[Id.Write]:new Set,[Id.MixedReadWrite]:new Set,[Id.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Lp=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=_e({token:n,providedIn:"root",factory:()=>new n})}return n})();function sy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=tr(i,a):2==o&&(r=tr(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class EF extends Ed{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Mt(e);return new Up(t,this.ngModule)}}function IF(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}class ay{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Lc(r);const i=this.injector.get(e,rC,r);return i!==rC||t===rC?i:this.parentInjector.get(e,t,r)}}class Up extends lF{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=IF(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return IF(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function yI(n){return n.map(Vm).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){const o=Ye(null);try{let s=(i=i||this.ngModule)instanceof Oi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new ay(e,s):e,c=a.get(nC,null);if(null===c)throw new z(407,!1);const l=a.get(c9,null),g={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(Lp,null),changeDetectionScheduler:a.get(iy,null)},_=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",x=r?function ZW(n,e,t,r){const o=r.get(X1,!1)||t===Yo.ShadowDom,s=n.selectRootElement(e,o);return function JW(n){UP(n)}(s),s}(_,r,this.componentDef.encapsulation,a):$v(_,v,function b9(n){const e=n.toLowerCase();return"svg"===e?th:"math"===e?"math":null}(v));let T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let P=null;null!==x&&(P=_x(x,a,!0));const F=jx(0,null,null,1,0,null,null,null,null,null,null),B=Qv(null,F,null,T,null,null,g,_,a,null,P);let X,we;f(B);try{const Me=this.componentDef;let st,Kt=null;Me.findHostDirectiveDefs?(st=[],Kt=new Map,Me.findHostDirectiveDefs(Me,st,Kt),st.push(Me)):st=[Me];const uo=function y9(n,e){const t=n[ye],r=Dt;return n[r]=e,yh(t,r,2,"#host",null)}(B,x),ra=function w9(n,e,t,r,i,o,s){const a=i[ye];!function E9(n,e,t,r){for(const i of n)e.mergedAttrs=od(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(sy(e,e.mergedAttrs,!0),null!==t&&NP(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=_x(e,i[xi]));const l=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const m=Qv(i,BP(t),null,h,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Hx(a,n,r.length-1),Yv(i,m),i[n.index]=m}(uo,x,Me,st,B,g,_);we=Kc(F,Dt),x&&function x9(n,e,t,r){if(r)id(n,t,["ng-version","17.3.3"]);else{const{attrs:i,classes:o}=function Bm(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!wo(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&id(n,t,i),o&&o.length>0&&FP(n,t,o.join(" "))}}(_,Me,x,r),void 0!==t&&function C9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(we,this.ngContentSelectors,t),X=function I9(n,e,t,r,i,o){const s=An(),a=i[ye],c=Ti(s,i);$P(a,i,s,t,null,r);for(let h=0;h<t.length;h++)to(vd(i,a,s.directiveStart+h,s),i);HP(a,i,s),c&&to(c,i);const l=vd(i,a,s.directiveStart+s.componentOffset,s);if(n[Gn]=i[Gn]=l,null!==o)for(const h of o)h(l,e);return Bx(a,s,i),l}(ra,Me,st,Kt,B,[T9]),Kx(F,B,null)}finally{I()}return new v9(this.componentType,X,fh(we,B),B,we)}finally{Ye(o)}}}class v9 extends i9{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Mp(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Gx(o[ye],o,i,e,t),this.previousInputValues.set(e,t),Rp(Zi(this._tNode.index,o))}}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function T9(){const n=An();Xc(ne()[ye],n)}let Bi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=A9}return n})();function A9(){return TF(An(),ne())}const D9=Bi,xF=class extends D9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return fh(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){const e=xv(this._hostTNode,this._hostLView);if(XI(e)){const t=pp(e,this._hostLView),r=mp(e);return new _i(t[ye].data[r+8],t)}return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=CF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ar}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=Eh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,wh(this._hostTNode,s)),a}createComponent(e,t,r,i,o){const s=e&&!function Ga(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const v=t||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}const c=s?e:new Up(Mt(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const x=(s?l:this.parentInjector).get(Oi,null);x&&(o=x)}const h=Mt(c.componentType??{}),m=Eh(this._lContainer,h?.id??null),_=c.create(l,i,m?.firstChild??null,o);return this.insertImpl(_.hostView,a,wh(this._hostTNode,m)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function BI(n){return ri(n[pr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=i[pr],l=new xF(c,c[ni],c[pr]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Sp(s,i,o,r),e.attachToViewContainerRef(),Nu(lC(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=CF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=xp(this._lContainer,t);r&&(td(lC(this._lContainer),t),Hv(r[ye],r))}detach(e){const t=this._adjustIndex(e,-1),r=xp(this._lContainer,t);return r&&null!=td(lC(this._lContainer),t)?new Mp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function CF(n){return n[8]}function lC(n){return n[8]||(n[8]=[])}function TF(n,e){let t;const r=e[n.index];return ri(r)?t=r:(t=qP(r,e,null,n),e[n.index]=t,Yv(e,t)),AF(t,e,n,r),new xF(t,n,e)}let AF=function SF(n,e,t,r){if(n[bs])return;let i;i=8&t.type?Pn(r):function S9(n,e){const t=n[yt],r=t.createComment(""),i=Ti(e,n);return wd(t,qv(t,i),r,function qW(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[bs]=i},dC=()=>!1;class uC{constructor(e){this.queryList=e,this.matches=null}clone(){return new uC(this.queryList)}setDirty(){this.queryList.setDirty()}}class hC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new hC(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==_C(e,t).matches&&this.queries[t].setDirty()}}class kF{constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function L9(n){return n.split(",").map(e=>e.trim())}(e):e}}class fC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new fC(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class mC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new mC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,P9(t,o)),this.matchTNodeWithReadOption(e,t,Cv(t,e,o,!1,!1))}else r===Io?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Cv(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===qt||i===Bi||i===Io&&4&t.type)this.addMatch(t.index,-2);else{const o=Cv(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function P9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function N9(n,e,t,r){return-1===t?function F9(n,e){return 11&n.type?fh(n,e):4&n.type?Jv(n,e):null}(e,n):-2===t?function O9(n,e,t){return t===qt?fh(e,n):t===Io?Jv(e,n):t===Bi?TF(e,n):void 0}(n,e,r):vd(n,n[ye],t,e)}function RF(n,e,t,r){const i=e[js].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:N9(e,o[l],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function pC(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=RF(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],h=e[-c];for(let m=Ar;m<h.length;m++){const g=h[m];g[da]===g[pr]&&pC(g[ye],g,l,r)}if(null!==h[ha]){const m=h[ha];for(let g=0;g<m.length;g++){const _=m[g];pC(_[ye],_,l,r)}}}}}return r}function MF(n,e,t){const r=new mh(!(4&~t));return function nG(n,e,t,r){const i=GP(e);i.push(t),n.firstCreatePass&&KP(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[js]??=new hC).queries.push(new uC(r))-1}function NF(n,e,t){null===n.queries&&(n.queries=new fC),n.queries.track(new mC(e,t))}function _C(n,e){return n.queries.getByIndex(e)}function OF(n,e){const t=n[ye],r=_C(t,e);return r.crossesNgTemplate?pC(t,n,e,[]):RF(t,n,r,e)}function cy(n){return"function"==typeof n&&void 0!==n[Sn]}function VF(n){return cy(n)&&"function"==typeof n.set}function Yt(n){let e=function QF(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Eo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=dy(n.inputs),s.inputTransforms=dy(n.inputTransforms),s.declaredInputs=dy(n.declaredInputs),s.outputs=dy(n.outputs);const a=i.hostBindings;a&&J9(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&X9(n,c),l&&Z9(n,l),Q9(n,i),qa(n.outputs,i.outputs),Eo(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Yt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Y9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=od(i.hostAttrs,t=od(t,i.hostAttrs))}}(r)}function Q9(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function dy(n){return n===yo?{}:n===an?[]:n}function X9(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Z9(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function J9(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Ai(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}class xd{}class JF{}class vC extends xd{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EF(this);const i=Ii(e);this._bootstrapComponents=is(i.bootstrap),this._r3Injector=w1(e,t,[{provide:xd,useValue:this},{provide:Ed,useValue:this.componentFactoryResolver},...r],Tr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class yC extends JF{constructor(e){super(),this.moduleType=e}create(e){return new vC(this.moduleType,e,[])}}class eN extends xd{constructor(e){super(),this.componentFactoryResolver=new EF(this),this.instance=null;const t=new la([...e.providers,{provide:xd,useValue:this},{provide:Ed,useValue:this.componentFactoryResolver}],e.parent||Hu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function uy(n,e,t=null){return new eN({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let xh=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new w(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fy(n){return!!function wC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ba(n,e,t){return n[e]=t}function Gr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Cd(n,e,t,r){const i=Gr(n,e,t);return Gr(n,e+1,r)||i}function dn(n,e,t,r,i,o,s,a){const c=ne(),l=tn(),h=n+Dt,m=l.firstCreatePass?function h7(n,e,t,r,i,o,s,a,c){const l=e.consts,h=yh(e,n,4,s||null,ys(l,a));$x(e,t,h,ys(l,c)),Xc(e,h);const m=h.tView=jx(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),m.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,t,r,i,o,s):l.data[h];Bo(m,!1);const g=tN(l,c,m,n);Ja()&&Wv(l,c,g,m),to(g,c);const _=qP(g,c,g,m);return c[h]=_,Yv(c,_),function DF(n,e,t){return dC(n,e,t)}(_,m,c),Xa(m)&&Ux(l,c,m),null!=s&&zx(c,m,a),dn}let tN=function nN(n,e,t,r){return es(!0),e[yt].createComment("")};function Fn(n,e,t,r){const i=ne();return Gr(i,eo(),e)&&(tn(),_a(be(),i,n,e,t,r)),Fn}function Mh(n,e,t,r){return Gr(n,eo(),t)?e+At(t)+r:Vt}function yy(n,e){return n<<17|e<<2}function ol(n){return n>>17&32767}function RC(n){return 2|n}function Ad(n){return(131068&n)>>2}function MC(n,e){return-131069&n|e<<2}function PC(n){return 1|n}function PN(n,e,t,r){const i=n[t+1],o=null===e;let s=r?ol(i):Ad(i),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];X7(n[s],e)&&(a=!0,n[s+1]=r?PC(l):RC(l)),s=r?ol(l):Ad(l)}a&&(n[t+1]=r?RC(i):PC(i))}function X7(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&gs(n,e)>=0}const bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function FN(n){return n.substring(bi.key,bi.keyEnd)}function NN(n,e){const t=bi.textEnd;return t===e?-1:(e=bi.keyEnd=function tK(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,bi.key=e,t),Uh(n,e,t))}function Uh(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ke(n,e,t){const r=ne();return Gr(r,eo(),e)&&jo(tn(),be(),r,n,e,r[yt],t,!1),Ke}function FC(n,e,t,r,i){const s=i?"class":"style";Gx(n,t,e.inputs[s],s,r)}function NC(n,e,t){return Ws(n,e,t,!1),NC}function In(n,e){return Ws(n,e,null,!0),In}function Dd(n){Gs(dK,ya,n,!0)}function ya(n,e){for(let t=function J7(n){return function LN(n){bi.key=0,bi.keyEnd=0,bi.value=0,bi.valueEnd=0,bi.textEnd=n.length}(n),NN(n,Uh(n,0,bi.textEnd))}(e);t>=0;t=NN(e,t))vo(n,FN(e),!0)}function Ws(n,e,t,r){const i=ne(),o=tn(),s=ws(2);o.firstUpdatePass&&zN(o,n,s,r),e!==Vt&&Gr(i,s,e)&&$N(o,o.data[j()],i,i[yt],n,i[s+1]=function hK(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Tr(rs(n)))),n}(e,t),r,s)}function Gs(n,e,t,r){const i=tn(),o=ws(2);i.firstUpdatePass&&zN(i,null,o,r);const s=ne();if(t!==Vt&&Gr(s,o,t)){const a=i.data[j()];if(qN(a,r)&&!UN(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=tr(c,t||"")),FC(i,a,s,t,r)}else!function uK(n,e,t,r,i,o,s,a){i===Vt&&(i=an);let c=0,l=0,h=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;null!==h||null!==m;){const g=c<i.length?i[c+1]:void 0,_=l<o.length?o[l+1]:void 0;let x,v=null;h===m?(c+=2,l+=2,g!==_&&(v=m,x=_)):null===m||null!==h&&h<m?(c+=2,v=h):(l+=2,v=m,x=_),null!==v&&$N(n,e,t,r,v,x,s,a),h=c<i.length?i[c]:null,m=l<o.length?o[l]:null}}(i,a,s,s[yt],s[o+1],s[o+1]=function lK(n,e,t){if(null==t||""===t)return an;const r=[],i=rs(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}function UN(n,e){return e>=n.expandoStartIndex}function zN(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[j()],s=UN(n,t);qN(o,r)&&null===e&&!s&&(e=!1),e=function oK(n,e,t,r){const i=function lp(n){const e=wt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Gp(t=OC(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=OC(i,n,e,t,r),null===o){let c=function sK(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ad(r))return n[ol(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=OC(null,n,e,c[1],r),c=Gp(c,e.attrs,r),function aK(n,e,t,r){n[ol(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function cK(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Gp(r,n[o].hostAttrs,t);return Gp(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function Q7(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ol(s),c=Ad(s);n[r]=t;let h,l=!1;if(Array.isArray(t)?(h=t[1],(null===h||gs(t,h)>0)&&(l=!0)):h=t,i)if(0!==c){const g=ol(n[a+1]);n[r+1]=yy(g,a),0!==g&&(n[g+1]=MC(n[g+1],r)),n[a+1]=function G7(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=yy(a,0),0!==a&&(n[a+1]=MC(n[a+1],r)),a=r;else n[r+1]=yy(c,0),0===a?a=r:n[c+1]=MC(n[c+1],r),c=r;l&&(n[r+1]=RC(n[r+1])),PN(n,h,r,!0),PN(n,h,r,!1),function Y7(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&gs(o,e)>=0&&(t[r+1]=PC(t[r+1]))}(e,h,n,r,o),s=yy(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function OC(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Gp(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Gp(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vo(n,s,!!t||e[++o]))}return void 0===n?null:n}function dK(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&vo(n,r,t)}function $N(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],h=function K7(n){return!(1&~n)}(l)?HN(c,e,t,i,Ad(l),s):void 0;wy(h)||(wy(o)||function W7(n){return!(2&~n)}(l)&&(o=HN(c,null,t,i,a,s)),function KW(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:tl.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=tl.Important),n.setStyle(t,r,i,o))}}(r,s,fd(j(),t),i,o))}function HN(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),h=l?c[1]:c,m=null===h;let g=t[i+1];g===Vt&&(g=m?an:void 0);let _=m?nd(g,r):h===r?g:void 0;if(l&&!wy(_)&&(_=nd(c,r)),wy(_)&&(a=_,s))return a;const v=n[i+1];i=s?ol(v):Ad(v)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=nd(c,r))}return a}function wy(n){return void 0!==n}function qN(n,e){return!!(n.flags&(e?8:16))}class EK{destroy(e){}updateValue(e,t){}swap(e,t){const r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){const s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}}function LC(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function VC(n,e,t,r){return!(void 0===e||!e.has(r)||(n.attach(t,e.get(r)),e.delete(r),0))}function GN(n,e,t,r,i){if(VC(n,e,r,t(r,i)))n.updateValue(r,i);else{const o=n.create(r,i);n.attach(r,o)}}function KN(n,e,t,r){const i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}class QN{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}}function Lr(n,e,t){qs("NgControlFlow");const r=ne(),i=eo(),o=BC(r,Dt+n);if(Gr(r,i,e)){const a=Ye(null);try{if(Qx(o,0),-1!==e){const c=UC(r[ye],Dt+e),l=Eh(o,c.tView.ssrId);Sp(o,Dp(r,c,t,{dehydratedView:l}),0,wh(c,l))}}finally{Ye(a)}}else{const a=YP(o,0);void 0!==a&&(a[Gn]=t)}}class xK{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ar}}function ic(n,e){return e}class TK{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}}function oc(n,e,t,r,i,o,s,a,c,l,h,m,g){qs("NgControlFlow");const _=void 0!==c,v=ne(),x=a?s.bind(v[gr][Gn]):s,T=new TK(_,x);v[Dt+n]=T,dn(n+1,e,t,r,i,o),_&&dn(n+2,c,l,h,m,g)}class AK extends EK{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ar}at(e){return this.getLView(e)[Gn].$implicit}attach(e,t){const r=t[Xi];this.needsIndexUpdate||=e!==this.length,Sp(this.lContainer,t,e,wh(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function DK(n,e){return xp(n,e)}(this.lContainer,e)}create(e,t){const r=Eh(this.lContainer,this.templateTNode.tView.ssrId);return Dp(this.hostLView,this.templateTNode,new xK(this.lContainer,t,e),{dehydratedView:r})}destroy(e){Hv(e[ye],e)}updateValue(e,t){this.getLView(e)[Gn].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Gn].$index=e}getLView(e){return function SK(n,e){return YP(n,e)}(this.lContainer,e)}}function sc(n){const e=Ye(null),t=j();try{const r=ne(),i=r[ye],o=r[t];if(void 0===o.liveCollection){const a=t+1,c=BC(r,a),l=UC(i,a);o.liveCollection=new AK(c,r,l)}else o.liveCollection.reset();const s=o.liveCollection;if(function IK(n,e,t){let r,i,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){const c=n.at(o),l=e[o],h=LC(o,c,o,l,t);if(0!==h){h<0&&n.updateValue(o,l),o++;continue}const m=n.at(s),g=e[a],_=LC(s,m,a,g,t);if(0!==_){_<0&&n.updateValue(s,g),s--,a--;continue}const v=t(o,c),x=t(s,m),T=t(o,l);if(Object.is(T,x)){const P=t(a,g);Object.is(P,v)?(n.swap(o,s),n.updateValue(s,g),a--,s--):n.move(s,o),n.updateValue(o,l),o++}else if(r??=new QN,i??=KN(n,o,s,t),VC(n,r,o,T))n.updateValue(o,l),o++,s++;else if(i.has(T))r.set(v,n.detach(o)),s--;else{const P=n.create(o,e[o]);n.attach(o,P),o++,s++}}for(;o<=a;)GN(n,r,t,o,e[o]),o++}else if(null!=e){const a=e[Symbol.iterator]();let c=a.next();for(;!c.done&&o<=s;){const l=n.at(o),h=c.value,m=LC(o,l,o,h,t);if(0!==m)m<0&&n.updateValue(o,h),o++,c=a.next();else{r??=new QN,i??=KN(n,o,s,t);const g=t(o,h);if(VC(n,r,o,g))n.updateValue(o,h),o++,s++,c=a.next();else if(i.has(g)){const _=t(o,l);r.set(_,n.detach(o)),s--}else n.attach(o,n.create(o,h)),o++,s++,c=a.next()}}for(;!c.done;)GN(n,r,t,n.length,c.value),c=a.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(a=>{n.destroy(a)})}(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=eo(),c=0===s.length;if(Gr(r,a,c)){const l=t+2,h=BC(r,l);if(c){const m=UC(i,l),g=Eh(h,m.tView.ssrId);Sp(h,Dp(r,m,void 0,{dehydratedView:g}),0,wh(m,g))}else Qx(h,0)}}}finally{Ye(e)}}function BC(n,e){return n[e]}function UC(n,e){return Kc(n,e)}function K(n,e,t,r){const i=ne(),o=tn(),s=Dt+n,a=i[yt],c=o.firstCreatePass?function kK(n,e,t,r,i,o){const s=e.consts,c=yh(e,n,2,r,ys(s,i));return $x(e,t,c,ys(s,o)),null!==c.attrs&&sy(c,c.attrs,!1),null!==c.mergedAttrs&&sy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],l=YN(o,i,c,a,e,n);i[s]=l;const h=Xa(c);return Bo(c,!0),NP(a,l,c),!function $p(n){return!(32&~n.flags)}(c)&&Ja()&&Wv(o,i,l,c),0===function zI(){return wt.lFrame.elementDepthCount}()&&to(l,i),function jI(){wt.lFrame.elementDepthCount++}(),h&&(Ux(o,i,c),Bx(o,c,i)),null!==r&&zx(i,c),K}function J(){let n=An();sp()?ah():(n=n.parent,Bo(n,!1));const e=n;(function $I(n){return wt.skipHydrationRootTNode===n})(e)&&function WI(){wt.skipHydrationRootTNode=null}(),function op(){wt.lFrame.elementDepthCount--}();const t=tn();return t.firstCreatePass&&(Xc(t,n),Km(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function q8(n){return!!(8&n.flags)}(e)&&FC(t,e,ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function W8(n){return!!(16&n.flags)}(e)&&FC(t,e,ne(),e.stylesWithoutHost,!1),J}function Wt(n,e,t,r){return K(n,e,t,r),J(),Wt}let YN=(n,e,t,r,i,o)=>(es(!0),$v(r,i,function pd(){return wt.lFrame.currentNamespace}()));function Ey(n,e,t){const r=ne(),i=tn(),o=n+Dt,s=i.firstCreatePass?function PK(n,e,t,r,i){const o=e.consts,s=ys(o,r),a=yh(e,n,8,"ng-container",s);return null!==s&&sy(a,s,!0),$x(e,t,a,ys(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Bo(s,!0);const a=ZN(i,r,s,n);return r[o]=a,Ja()&&Wv(i,r,a,s),to(a,r),Xa(s)&&(Ux(i,r,s),Bx(i,s,r)),null!=t&&zx(r,s),Ey}function Iy(){let n=An();const e=tn();return sp()?ah():(n=n.parent,Bo(n,!1)),e.firstCreatePass&&(Xc(e,n),Km(n)&&e.queries.elementEnd(n)),Iy}let ZN=(n,e,t,r)=>(es(!0),Mx(e[yt],""));function xo(){return ne()}function Sd(n,e,t){const r=ne();return Gr(r,eo(),e)&&jo(tn(),be(),r,n,e,r[yt],t,!0),Sd}const jh="en-US";let nO=jh;function et(n,e,t,r){const i=ne(),o=tn(),s=An();return $C(o,i,i[yt],s,n,e,r),et}function $C(n,e,t,r,i,o,s){const a=Xa(r),l=n.firstCreatePass&&KP(n),h=e[Gn],m=GP(e);let g=!0;if(3&r.type||s){const x=Ti(r,e),T=s?s(x):x,P=m.length,F=s?X=>s(Pn(X[r.index])):r.index;let B=null;if(!s&&a&&(B=function FQ(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Hc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,g=!1;else{o=kO(r,e,h,o,!1);const X=t.listen(T,i,o);m.push(o,X),l&&l.push(i,F,P,P+1)}}else o=kO(r,e,h,o,!1);const _=r.outputs;let v;if(g&&null!==_&&(v=_[i])){const x=v.length;if(x)for(let T=0;T<x;T+=2){const we=e[v[T]][v[T+1]].subscribe(o),Me=m.length;m.push(o,we),l&&l.push(i,r.index,Me,-(Me+1))}}}function SO(n,e,t,r){const i=Ye(null);try{return vs(6,e,t),!1!==t(r)}catch(o){return Xv(n,o),!1}finally{vs(7,e,t),Ye(i)}}function kO(n,e,t,r,i){return function o(s){if(s===Function)return r;Rp(n.componentOffset>-1?Zi(n.index,e):e);let c=SO(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)c=SO(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function sn(n=1){return function N(n){return(wt.lFrame.contextLView=function dv(n,e){for(;n>0;)e=e[qc],n--;return e}(n,wt.lFrame.contextLView))[Gn]}(n)}function NQ(n,e){let t=null;const r=function bI(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?zu(n,o,!0):Lm(r,o))return i}else t=i}return t}function Ho(n){const e=ne()[gr][ni];if(!e.projection){const r=e.projection=function Uc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?NQ(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Kn(n,e=0,t){const r=ne(),i=tn(),o=yh(i,Dt+n,16,null,t||null);null===o.projection&&(o.projection=e),ah(),(!r[Xi]||Yc())&&32&~o.flags&&function WW(n,e,t){PP(e[yt],0,e,t,Fx(n,t,e),AP(t.parent||e[ni],t,e))}(i,r,o)}function no(n,e,t,r){!function FF(n,e,t,r){const i=tn();if(i.firstCreatePass){const o=An();NF(i,new kF(e,t,r),o.index),function V9(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),!(2&~t)&&(i.staticContentQueries=!0)}return MF(i,ne(),t)}(n,e,t,r)}function _r(n,e,t){!function PF(n,e,t){const r=tn();return r.firstCreatePass&&(NF(r,new kF(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),MF(r,ne(),e)}(n,e,t)}function Xt(n){const e=ne(),t=tn(),r=ch();lh(r+1);const i=_C(t,r);if(n.dirty&&function tp(n){return!(4&~n[tt])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const o=OF(e,r);n.reset(o,C1),n.notifyOnChanges()}return!0}return!1}function Zt(){return function gC(n,e){return n[js].queries[e].queryList}(ne(),ch())}function sl(n){return Qc(function mv(){return wt.lFrame.contextLView}(),Dt+n)}function qe(n,e=""){const t=ne(),r=tn(),i=n+Dt,o=r.firstCreatePass?yh(r,i,1,e,null):r.data[i],s=QO(r,t,o,e,n);t[i]=s,Ja()&&Wv(r,t,s,o),Bo(o,!1)}let QO=(n,e,t,r,i)=>(es(!0),function Rx(n,e){return n.createText(e)}(e[yt],r));function Dr(n){return $h("",n,""),Dr}function $h(n,e,t){const r=ne(),i=Mh(r,n,e,t);return i!==Vt&&function nc(n,e,t){const r=fd(e,n);!function wP(n,e,t){n.setValue(e,t)}(n[yt],r,t)}(r,j(),i),$h}function Yr(n,e,t){VF(e)&&(e=e());const r=ne();return Gr(r,eo(),e)&&jo(tn(),be(),r,n,e,r[yt],t,!1),Yr}function si(n,e){const t=VF(n);return t&&n.set(e),t}function Xr(n,e){const t=ne(),r=tn(),i=An();return $C(r,t,t[yt],i,n,e),Xr}function qC(n,e,t,r,i){if(n=dt(n),Array.isArray(n))for(let o=0;o<n.length;o++)qC(n[o],e,t,r,i);else{const o=tn(),s=ne(),a=An();let c=zs(n)?n:dt(n.provide);const l=Hb(n),h=1048575&a.providerIndexes,m=a.directiveStart,g=a.providerIndexes>>20;if(zs(n)||!n.multi){const _=new fp(l,i,M),v=GC(c,e,i?h:h+g,m);-1===v?(ex(Iv(a,s),o,c),WC(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[v]=_,s[v]=_)}else{const _=GC(c,e,h+g,m),v=GC(c,e,h,h+g),T=v>=0&&t[v];if(i&&!T||!i&&!(_>=0&&t[_])){ex(Iv(a,s),o,c);const P=function eY(n,e,t,r,i){const o=new fp(n,t,M);return o.multi=[],o.index=e,o.componentProviders=0,iL(o,i,r&&!t),o}(i?JQ:ZQ,t.length,i,r,l);!i&&T&&(t[v].providerFactory=P),WC(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(P),s.push(P)}else WC(o,n,_>-1?_:v,iL(t[i?v:_],l,!i&&r));!i&&r&&T&&t[v].componentProviders++}}}function WC(n,e,t,r){const i=zs(e),o=function xI(n){return!!n.useClass}(e);if(i||o){const c=(o?dt(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(t);-1===h?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function iL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function GC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function ZQ(n,e,t,r){return KC(this.multi,[])}function JQ(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=vd(t,t[ye],this.providerFactory.index,r);o=a.slice(0,s),KC(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],KC(i,o);return o}function KC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function wn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function XQ(n,e,t){const r=tn();if(r.firstCreatePass){const i=Eo(n);qC(t,r.data,r.blueprint,i,!0),qC(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let tY=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=$m(0,t.type),i=r.length>0?uy([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_e({token:n,providedIn:"environment",factory:()=>new n(V(Oi))})}return n})();function Ui(n){qs("NgStandalone"),n.getStandaloneInjector=e=>e.get(tY).getOrCreateStandaloneInjector(n)}function Sy(n,e,t,r){return cL(ne(),Ji(),n,e,t,r)}function sL(n,e,t,r,i){return function lL(n,e,t,r,i,o,s){const a=e+t;return Cd(n,a,i,o)?ba(n,a+2,s?r.call(s,i,o):r(i,o)):eg(n,a+2)}(ne(),Ji(),n,e,t,r,i)}function aL(n,e,t,r,i,o){return function dL(n,e,t,r,i,o,s,a){const c=e+t;return function my(n,e,t,r,i){const o=Cd(n,e,t,r);return Gr(n,e+2,i)||o}(n,c,i,o,s)?ba(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):eg(n,c+3)}(ne(),Ji(),n,e,t,r,i,o)}function eg(n,e){const t=n[e];return t===Vt?void 0:t}function cL(n,e,t,r,i,o){const s=e+t;return Gr(n,s,i)?ba(n,s+1,o?r.call(o,i):r(i)):eg(n,s+1)}function zi(n,e){const t=tn();let r;const i=n+Dt;t.firstCreatePass?(r=function uY(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Vs(r.type)),a=bo(M);try{const c=Ev(!1),l=o();return Ev(c),function BQ(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ne(),i,l),l}finally{bo(a)}}function ji(n,e,t){const r=n+Dt,i=ne(),o=Qc(i,r);return function tg(n,e){return n[ye].data[e].pure}(i,r)?cL(i,Ji(),e,o.transform,t,o):o.transform(t)}function fL(n,e){return Jv(n,e)}class al{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const SL=new al("17.3.3");let kL=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const NL=new ee(""),My=new ee("");let nT,eT=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,nT||(function cX(n){nT=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(V(He),V(tT),V(My))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})(),tT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return nT?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ig(n){return!!n&&"function"==typeof n.then}function OL(n){return!!n&&"function"==typeof n.subscribe}const rT=new ee("");let iT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=oe(rT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(ig(o))t.push(o);else if(OL(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const oT=new ee("");function BL(n,e){return Array.isArray(e)?e.reduce(BL,n):{...n,...e}}let ac=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=oe(I1),this.afterRenderEffectManager=oe(Lp),this.externalTestViews=new Set,this.beforeRender=new E,this.afterTick=new E,this.componentTypes=[],this.components=[],this.isStable=oe(xh).hasPendingTasks.pipe(de(t=>!t)),this._injector=oe(Oi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof lF;if(!this._injector.get(iT).done)throw!i&&function aa(n){const e=Mt(n)||Nr(n)||gi(n);return null!==e&&e.standalone}(t),new z(405,!1);let s;s=i?t:this._injector.get(Ed).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function lX(n){return n.isBoundToModule}(s)?void 0:this._injector.get(xd),l=s.create(oi.NULL,[],r||s.selector,a),h=l.location.nativeElement,m=l.injector.get(NL,null);return m?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Py(this.components,l),m?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new z(101,!1);const r=Ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Ye(r)}}detectChangesInAttachedViews(t){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===JP)throw new z(103,!1);if(t){const o=0===r;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)uX(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>sT(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>sT(o))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Py(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(oT,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Py(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Py(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function uX(n,e,t){!e&&!sT(n)||function hX(n,e,t){let r;t?(r=0,n[tt]|=1024):r=64&n[tt]?0:1,Zv(n,e,r)}(n,t,e)}function sT(n){return ih(n)}class fX{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let UL=(()=>{class n{compileModuleSync(t){return new yC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=is(Ii(t).declarations).reduce((s,a)=>{const c=Mt(a);return c&&s.push(new Up(c)),s},[]);return new fX(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gX=(()=>{class n{constructor(){this.zone=oe(He),this.applicationRef=oe(ac)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _X(){const n=oe(He),e=oe(ts);return t=>n.runOutsideAngular(()=>e.handleError(t))}let vX=(()=>{class n{constructor(){this.subscription=new ge,this.initialized=!1,this.zone=oe(He),this.pendingTasks=oe(xh)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wa=new ee("",{providedIn:"root",factory:()=>oe(wa,Jt.Optional|Jt.SkipSelf)||function yX(){return typeof $localize<"u"&&$localize.locale||jh}()}),aT=new ee("");let HL=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function m9(n="zone.js",e){return"noop"===n?new pF:"zone.js"===n?new He(e):n}(r?.ngZone,function $L(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function s7(n,e,t){return new vC(n,e,t)}(t.moduleType,this.injector,function jL(n){return[{provide:He,useFactory:n},{provide:Us,multi:!0,useFactory:()=>{const e=oe(gX,{optional:!0});return()=>e.initialize()}},{provide:Us,multi:!0,useFactory:()=>{const e=oe(vX);return()=>{e.initialize()}}},{provide:I1,useFactory:_X}]}(()=>i)),s=o.injector.get(ts,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Py(this._modules,o),a.unsubscribe()})}),function VL(n,e,t){try{const r=t();return ig(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(iT);return a.runInitializers(),a.donePromise.then(()=>(function rO(n){"string"==typeof n&&(nO=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(wa,jh)||jh),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=BL({},r);return function pX(n,e,t){const r=new yC(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(ac);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new z(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(aT,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(V(oi))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),cl=null;const qL=new ee("");function WL(n,e,t=[]){const r=`Platform: ${e}`,i=new ee(r);return(o=[])=>{let s=cT();if(!s||s.injector.get(qL,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function IX(n){if(cl&&!cl.get(qL,!1))throw new z(400,!1);(function LL(){!function bt(n){Lt=n}(()=>{throw new z(600,!1)})})(),cl=n;const e=n.get(HL);(function KL(n){n.get(q1,null)?.forEach(t=>t())})(n)}(function GL(n=[],e){return oi.create({name:e,providers:[{provide:qm,useValue:"platform"},{provide:aT,useValue:new Set([()=>cl=null])},...n]})}(a,r))}return function xX(n){const e=cT();if(!e)throw new z(401,!1);return e}()}}function cT(){return cl?.get(HL)??null}let qo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=TX}return n})();function TX(n){return function AX(n,e,t){if($s(n)&&!t){const r=Zi(n.index,e);return new Mp(r,r)}return 47&n.type?new Mp(e[gr],e):null}(An(),ne(),!(16&~n))}class eV{constructor(){}supports(e){return fy(e)}create(e){return new MX(e)}}const RX=(n,e)=>e;class MX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||RX}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<nV(r,i,o)?t:r,a=nV(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=c-i;if(l!=h){for(let g=0;g<l;g++){const _=g<o.length?o[g]:o[g]=0,v=_+g;h<=v&&v<l&&(o[g]=_+1)}o[s.previousIndex]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!fy(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function d7(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new PX(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new tV),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tV),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class PX{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class tV{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new FX,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nV(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function iV(){return new fT([new eV])}let fT=(()=>{class n{static#e=this.\u0275prov=_e({token:n,providedIn:"root",factory:iV});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||iV()),deps:[[n,new Wa,new Hr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new z(901,!1)}}return n})();const BX=WL(null,"core",[]);let UX=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(V(ac))};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({})}return n})();function St(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function ll(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function AV(n){const e=Ye(null);try{return n()}finally{Ye(e)}}const gZ=new ee("",{providedIn:"root",factory:()=>oe(_Z)});let _Z=(()=>{class n{static#e=this.\u0275prov=_e({token:n,providedIn:"root",factory:()=>new bZ})}return n})();class bZ{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=oe(xh),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),null===this.taskId){const t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){const t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,t]of this.queues)null===e?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(const t of e)e.delete(t),this.queuedEffectCount--,t.run()}}class vZ{constructor(e,t,r,i,o,s){this.scheduler=e,this.effectFn=t,this.creationZone=r,this.injector=o,this.watcher=function Be(n,e,t){const r=Object.create(ft);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=c=>{r.cleanupFn=c};return r.ref={notify:()=>xt(r),run:()=>{if(null===r.fn)return;if(function kn(){return je}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!$n(r))return;r.hasRun=!0;const c=_t(r);try{r.cleanupFn(),r.cleanupFn=Re,r.fn(i)}finally{fr(r,c)}},cleanup:()=>r.cleanupFn(),destroy:()=>function s(c){(function o(c){return null===c.fn&&null===c.schedule})(c)||(Nt(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Re)}(r),[Sn]:r},r.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(ts,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let SV=null;function dl(){return SV}class EZ{}const un=new ee("");let gT=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:()=>oe(xZ),providedIn:"platform"})}return n})();const IZ=new ee("");let xZ=(()=>{class n extends gT{constructor(){super(),this._doc=oe(un),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dl().getBaseHref(this._doc)}onPopState(t){const r=dl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=dl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function _T(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function kV(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function cc(n){return n&&"?"!==n[0]?"?"+n:n}let ul=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:()=>oe(MV),providedIn:"root"})}return n})();const RV=new ee("");let MV=(()=>{class n extends ul{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??oe(un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _T(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+cc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+cc(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+cc(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(V(gT),V(RV,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PV=(()=>{class n extends ul{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=_T(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(V(gT),V(RV,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})(),Gh=(()=>{class n{constructor(t){this._subject=new gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function AZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(kV(FV(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+cc(r))}normalize(t){return n.stripTrailingSlash(function TZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,FV(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=cc;static#t=this.joinWithSlash=_T;static#n=this.stripTrailingSlash=kV;static#r=this.\u0275fac=function(r){return new(r||n)(V(ul))};static#i=this.\u0275prov=_e({token:n,factory:()=>function CZ(){return new Gh(V(ul))}(),providedIn:"root"})}return n})();function FV(n){return n.replace(/\/index.html$/,"")}const AT=/\s+/,$V=[];let Qh=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=$V,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(AT):$V}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(AT):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(AT).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(rc))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[ie.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class fJ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let DT=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new fJ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),qV(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{qV(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(M(Bi),M(Io),M(fT))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function qV(n,e){n.context.$implicit=e.item}let cg=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WV("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WV("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(M(Bi),M(Io))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class mJ{constructor(){this.$implicit=null,this.ngIf=null}}function WV(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Tr(e)}'.`)}let KV=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static#e=this.\u0275fac=function(r){return new(r||n)(M(Bi))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Wr]})}return n})();class yJ{createSubscription(e,t){return AV(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){AV(()=>e.unsubscribe())}}class wJ{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const EJ=new wJ,IJ=new yJ;let lg=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(ig(t))return EJ;if(OL(t))return IJ;throw function Qs(n,e){return new z(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(M(qo,16))};static#t=this.\u0275pipe=Yi({name:"async",type:n,pure:!1,standalone:!0})}return n})(),PT=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({})}return n})();const YV="browser";function XV(n){return n===YV}function e0(n){return"server"===n}let HJ=(()=>{class n{static#e=this.\u0275prov=_e({token:n,providedIn:"root",factory:()=>XV(oe(ns))?new qJ(oe(un),window):new GJ})}return n})();class qJ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function WJ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class GJ{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Eee extends EZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class NT extends Eee{static makeCurrent(){!function wZ(n){SV??=n}(new NT)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Iee(){return hg=hg||document.querySelector("base"),hg?hg.getAttribute("href"):null}();return null==t?null:function xee(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){hg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function uJ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let hg=null,Tee=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();const OT=new ee("");let a2=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(V(OT),V(He))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();class c2{constructor(e){this._doc=e}}const LT="ng-app-id";let l2=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=e0(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${LT}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(LT),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(LT,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(V(un),V(kv),V(lx,8),V(ns))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();const VT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},BT=/%COMP%/g,kee=new ee("",{providedIn:"root",factory:()=>!0});function u2(n,e){return e.map(t=>t.replace(BT,n))}let UT=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=e0(a),this.defaultRenderer=new zT(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yo.ShadowDom&&(r={...r,encapsulation:Yo.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof f2?i.applyToHost(t):i instanceof jT&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Yo.Emulated:o=new f2(c,l,r,this.appId,h,s,a,m);break;case Yo.ShadowDom:return new Fee(c,l,t,r,s,a,this.nonce,m);default:o=new jT(c,l,r,h,s,a,m)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(V(a2),V(l2),V(kv),V(kee),V(un),V(ns),V(He),V(lx))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();class zT{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(VT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(h2(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(h2(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=VT[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=VT[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(tl.DashCase|tl.Important)?e.style.setProperty(t,r,i&tl.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&tl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=dl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function h2(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Fee extends zT{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=u2(i.id,i.styles);for(const h of l){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jT extends zT{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?u2(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class f2 extends jT{constructor(e,t,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=function Ree(n){return"_ngcontent-%COMP%".replace(BT,n)}(l),this.hostAttr=function Mee(n){return"_nghost-%COMP%".replace(BT,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Nee=(()=>{class n extends c2{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(V(un))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();const m2=["alt","control","meta","shift"],Oee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lee={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vee=(()=>{class n extends c2{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dl().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),m2.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Oee[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),m2.forEach(s=>{s!==i&&(0,Lee[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(V(un))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();const g2=[{provide:ns,useValue:YV},{provide:q1,useValue:function Bee(){NT.makeCurrent()},multi:!0},{provide:un,useFactory:function zee(){return function Pq(n){cx=n}(document),document},deps:[]}],jee=WL(BX,"browser",g2),$ee=new ee(""),_2=[{provide:My,useClass:class Cee{addToWindow(e){Ve.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new z(5103,!1);return o},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements(),Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(r=>{const i=Ve.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?dl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:NL,useClass:eT,deps:[He,tT,My]},{provide:eT,useClass:eT,deps:[He,tT,My]}],b2=[{provide:qm,useValue:"root"},{provide:ts,useFactory:function Uee(){return new ts},deps:[]},{provide:OT,useClass:Nee,multi:!0,deps:[un,He,ns]},{provide:OT,useClass:Vee,multi:!0,deps:[un]},UT,l2,a2,{provide:nC,useExisting:UT},{provide:class KJ{},useClass:Tee,deps:[]},[]];let v2=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:kv,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(V($ee,12))};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({providers:[...b2,..._2],imports:[PT,UX]})}return n})(),Hee=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(V(un))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$T=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:function(r){let i=null;return i=r?new(r||n):V(Kee),i},providedIn:"root"})}return n})(),Kee=(()=>{class n extends $T{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Vi.NONE:return r;case Vi.HTML:return ga(r,"HTML")?rs(r):dP(this._doc,String(r)).toString();case Vi.STYLE:return ga(r,"Style")?rs(r):r;case Vi.SCRIPT:if(ga(r,"Script"))return rs(r);throw new z(5200,!1);case Vi.URL:return ga(r,"URL")?rs(r):Bv(String(r));case Vi.RESOURCE_URL:if(ga(r,"ResourceURL"))return rs(r);throw new z(5201,!1);default:throw new z(5202,!1)}}bypassSecurityTrustHtml(t){return function eW(n){return new Kq(n)}(t)}bypassSecurityTrustStyle(t){return function tW(n){return new Qq(n)}(t)}bypassSecurityTrustScript(t){return function nW(n){return new Yq(n)}(t)}bypassSecurityTrustUrl(t){return function rW(n){return new Xq(n)}(t)}bypassSecurityTrustResourceUrl(t){return function iW(n){return new Zq(n)}(t)}static#e=this.\u0275fac=function(r){return new(r||n)(V(un))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var li=rt(852);(0,li.registerVersion)("firebase","10.11.1","app");class Xee extends ge{constructor(e,t){super()}schedule(e,t=0){return this}}const o0={setInterval(n,e,...t){const{delegate:r}=o0;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=o0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class s0 extends Xee{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return o0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&o0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,fe(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const HT={now:()=>(HT.delegate||Date).now(),delegate:void 0};class mg{constructor(e,t=mg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}mg.now=HT.now;class a0 extends mg{constructor(e,t=mg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const ete=new class Jee extends a0{}(class Zee extends s0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Yh=new a0(s0),tte=Yh;function di(n,e,t){const r=Pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Y((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(me(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):fn}function uc(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function hc(n,e=0){return Y((t,r)=>{t.subscribe(me(r,i=>uc(r,n,()=>r.next(i),e),()=>uc(r,n,()=>r.complete(),e),i=>uc(r,n,()=>r.error(i),e)))})}function Md(n,e=0){return Y((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}const fc=new al("ANGULARFIRE2_VERSION");function I2(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const qT=(n,e)=>{const t=e?[e]:(0,li.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class pg{constructor(){return qT(nte)}}const nte="app-check";function Xh(){}class x2{zone;delegate;constructor(e,t=ete){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class rte{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xh,{},Xh,Xh)),t.pipe(di({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zh=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new x2(Zone.current)),this.insideAngular=t.run(()=>new x2(Zone.current,Yh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(V(He))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Pd(n){return Jh().ngZone.run(()=>n())}function C2(n){return n.pipe(hc(Jh().outsideAngular))}function Do(n){return function ote(n){return function(t){return(t=t.lift(new rte(n.ngZone))).pipe(Md(n.outsideAngular),hc(n.insideAngular))}}(Jh())(n)}const ste=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Pd(()=>n.apply(void 0,r))},WT=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=Pd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xh,{},Xh,Xh))),r[o]=ste(r[o],t));const i=function ite(n){return Jh().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof ot){const o=Jh();return i.pipe(Md(o.outsideAngular),hc(o.insideAngular))}return Pd(()=>i)}return i instanceof ot?i.pipe(Do):i instanceof Promise?Pd(()=>new Promise((o,s)=>i.then(a=>Pd(()=>o(a)),a=>Pd(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Pd(()=>i)};class gg{constructor(e){return e}}class GT{constructor(){return(0,li.getApps)()}}const KT=new ee("angularfire2._apps"),cte={provide:gg,useFactory:function ate(n){return n&&1===n.length?n[0]:new gg((0,li.getApp)())},deps:[[new Hr,KT]]},lte={provide:GT,deps:[[new Hr,KT]]};function dte(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gg(r)}}let ute=(()=>{class n{constructor(t){(0,li.registerVersion)("angularfire",fc.full,"core"),(0,li.registerVersion)("angularfire",fc.full,"app"),(0,li.registerVersion)("angular",SL.full,t.toString())}static \u0275fac=function(r){return new(r||n)(V(ns))};static \u0275mod=en({type:n});static \u0275inj=Qt({providers:[cte,lte]})}return n})();function hte(n,...e){return{ngModule:ute,providers:[{provide:KT,useFactory:dte(n),multi:!0,deps:[He,oi,Zh,...e]}]}}const fte=WT(li.initializeApp,!0);var mte=rt(407),jt=rt(76),Ea=rt(41),c0=rt(362);class QT{constructor(e){return e}}class A2{constructor(){return qT("auth")}}const YT=new ee("angularfire2.auth-instances");function gte(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new QT(r)}}const _te={provide:A2,deps:[[new Hr,YT]]},bte={provide:QT,useFactory:function pte(n,e){const t=I2("auth",n,e);return t&&new QT(t)},deps:[[new Hr,YT],gg]};let vte=(()=>{class n{constructor(){(0,li.registerVersion)("angularfire",fc.full,"auth")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Qt({providers:[bte,_te]})}return n})();function yte(n,...e){return{ngModule:vte,providers:[{provide:YT,useFactory:gte(n),multi:!0,deps:[He,oi,Zh,GT,[new Hr,pg],...e]}]}}const wte=WT(mte.o,!0);var Ys=rt(345);Ys.A.registerVersion("firebase","10.11.1","app-compat");const xte=["ngOnDestroy"];class D2{constructor(e){return e}}const _g=new ee("angularfire2.app.options"),bg=new ee("angularfire2.app.name");function l0(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const s=Ys.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Ys.A.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Ate("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new D2(s)}const Ate=(n,...e)=>{},Dte={provide:D2,useFactory:l0,deps:[_g,He,[new Hr,bg]]};let Ste=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:_g,useValue:t},{provide:bg,useValue:r}]}}constructor(t){Ys.A.registerVersion("angularfire",fc.full,"core"),Ys.A.registerVersion("angularfire",fc.full,"app-compat"),Ys.A.registerVersion("angular",SL.full,t.toString())}static \u0275fac=function(r){return new(r||n)(V(ns))};static \u0275mod=en({type:n});static \u0275inj=Qt({providers:[Dte]})}return n})();function XT(n,e,t,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function kte(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,s)||(S2("error",`${e} was already initialized on the ${t} Firebase App with different settings.${Rte?" You may need to reload as Firebase is not HMR aware.":""}`),S2("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const Rte=typeof module<"u"&&!!module.hot,S2=(n,...e)=>{};function k2(n){return n&&Pe(n.schedule)}function ZT(n){return n[n.length-1]}function R2(n){return Pe(ZT(n))?n.pop():void 0}function vg(n){return k2(ZT(n))?n.pop():void 0}globalThis.\u0275AngularfireInstanceCache||=[],rt(438);var ef=rt(635);const JT=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function M2(n){return Pe(n?.then)}function P2(n){return Pe(n[bn])}function F2(n){return Symbol.asyncIterator&&Pe(n?.[Symbol.asyncIterator])}function N2(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const O2=function Pte(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function L2(n){return Pe(n?.[O2])}function V2(n){return(0,ef.AQ)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,ef.N3)(t.read());if(i)return yield(0,ef.N3)(void 0);yield yield(0,ef.N3)(r)}}finally{t.releaseLock()}})}function B2(n){return Pe(n?.getReader)}function So(n){if(n instanceof ot)return n;if(null!=n){if(P2(n))return function Fte(n){return new ot(e=>{const t=n[bn]();if(Pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(JT(n))return function Nte(n){return new ot(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(M2(n))return function Ote(n){return new ot(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,mo)})}(n);if(F2(n))return U2(n);if(L2(n))return function Lte(n){return new ot(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(B2(n))return function Vte(n){return U2(V2(n))}(n)}throw N2(n)}function U2(n){return new ot(e=>{(function Bte(n,e){var t,r,i,o;return(0,ef.sH)(this,void 0,void 0,function*(){try{for(t=(0,ef.xN)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function z2(n,e){if(!n)throw new Error("Iterable cannot be null");return new ot(t=>{uc(t,e,()=>{const r=n[Symbol.asyncIterator]();uc(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Un(n,e){return e?function qte(n,e){if(null!=n){if(P2(n))return function Ute(n,e){return So(n).pipe(Md(e),hc(e))}(n,e);if(JT(n))return function jte(n,e){return new ot(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(M2(n))return function zte(n,e){return So(n).pipe(Md(e),hc(e))}(n,e);if(F2(n))return z2(n,e);if(L2(n))return function $te(n,e){return new ot(t=>{let r;return uc(t,e,()=>{r=n[O2](),uc(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(n,e);if(B2(n))return function Hte(n,e){return z2(V2(n),e)}(n,e)}throw N2(n)}(n,e):So(n)}function Qe(...n){return Un(n,vg(n))}function $i(n,e,t=1/0){return Pe(e)?$i((r,i)=>de((o,s)=>e(r,o,i,s))(So(n(r,i))),t):("number"==typeof e&&(t=e),Y((r,i)=>function Wte(n,e,t,r,i,o,s,a){const c=[];let l=0,h=0,m=!1;const g=()=>{m&&!c.length&&!l&&e.complete()},_=x=>l<r?v(x):c.push(x),v=x=>{o&&e.next(x),l++;let T=!1;So(t(x,h++)).subscribe(me(e,P=>{i?.(P),o?_(P):e.next(P)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){const P=c.shift();s?uc(e,s,()=>v(P)):v(P)}g()}catch(P){e.error(P)}}))};return n.subscribe(me(e,_,()=>{m=!0,g()})),()=>{a?.()}}(r,i,n,t)))}function tf(n=1/0){return $i(fn,n)}const as=new ot(n=>n.complete());function mc(...n){const e=vg(n),t=function Mte(n,e){return"number"==typeof ZT(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?So(r[0]):tf(t)(Un(r,e)):as}function Sr(n,e){return Y((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(me(r,c=>{i?.unsubscribe();let l=0;const h=o++;So(n(c,h)).subscribe(i=me(r,m=>r.next(e?e(c,m,h,l++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}class Kte extends E{constructor(e=1/0,t=1/0,r=HT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}function j2(n={}){const{connector:e=(()=>new E),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,h=!1,m=!1;const g=()=>{a?.unsubscribe(),a=void 0},_=()=>{g(),s=c=void 0,h=m=!1},v=()=>{const x=s;_(),x?.unsubscribe()};return Y((x,T)=>{l++,!m&&!h&&g();const P=c=c??e();T.add(()=>{l--,0===l&&!m&&!h&&(a=eA(v,i))}),P.subscribe(T),!s&&l>0&&(s=new vt({next:F=>P.next(F),error:F=>{m=!0,g(),a=eA(_,t,F),P.error(F)},complete:()=>{h=!0,g(),a=eA(_,r),P.complete()}}),So(x).subscribe(s))})(o)}}function eA(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new vt({next:()=>{r.unsubscribe(),n()}});return So(e(...t)).subscribe(r)}function tA(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,j2({connector:()=>new Kte(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const d0=pe(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kr(n,e){return Y((t,r)=>{let i=0;t.subscribe(me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Cs(n){return n<=0?()=>as:Y((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function u0(n){return Y((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $2(n=Qte){return Y((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Qte(){return new d0}function hl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?kr((i,o)=>n(i,o,r)):fn,Cs(1),t?u0(e):$2(()=>new d0))}function H2(n,e){return Pe(e)?Sr(()=>n,e):Sr(()=>n)}const q2=new ee("angularfire2.auth.use-emulator"),W2=new ee("angularfire2.auth.settings"),G2=new ee("angularfire2.auth.tenant-id"),K2=new ee("angularfire2.auth.langugage-code"),Q2=new ee("angularfire2.auth.use-device-language"),Y2=new ee("angularfire.auth.persistence"),X2=(n,e,t,r,i,o,s,a)=>XT(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[t,r,i,o,s,a]);let nA=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,c,l,h,m,g,_){const v=new E,x=Qe(void 0).pipe(hc(s.outsideAngular),Sr(()=>o.runOutsideAngular(()=>Promise.resolve().then(rt.bind(rt,438)))),de(()=>l0(t,o,r)),de(T=>X2(T,o,a,l,h,m,c,g)),tA({bufferSize:1,refCount:!1}));if(e0(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{x.pipe(hl()).subscribe();const T=x.pipe(Sr(B=>B.getRedirectResult().then(X=>X,()=>null)),Do,tA({bufferSize:1,refCount:!1})),P=x.pipe(Sr(B=>new ot(X=>({unsubscribe:o.runOutsideAngular(()=>B.onAuthStateChanged(we=>X.next(we),we=>X.error(we),()=>X.complete()))})))),F=x.pipe(Sr(B=>new ot(X=>({unsubscribe:o.runOutsideAngular(()=>B.onIdTokenChanged(we=>X.next(we),we=>X.error(we),()=>X.complete()))}))));this.authState=T.pipe(H2(P),Md(s.outsideAngular),hc(s.insideAngular)),this.user=T.pipe(H2(F),Md(s.outsideAngular),hc(s.insideAngular)),this.idToken=this.user.pipe(Sr(B=>B?Un(B.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(Sr(B=>B?Un(B.getIdTokenResult()):Qe(null))),this.credential=mc(T,v,this.authState.pipe(kr(B=>!B))).pipe(de(B=>B?.user?B:null),Md(s.outsideAngular),hc(s.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(xte.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{const m=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,m),m})})})}))(this,x,o,{spy:{apply:(T,P,F)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&F.then(B=>v.next(B))}}})}static \u0275fac=function(r){return new(r||n)(V(_g),V(bg,8),V(ns),V(He),V(Zh),V(q2,8),V(W2,8),V(G2,8),V(K2,8),V(Q2,8),V(Y2,8),V(pg,8))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Xte=(()=>{class n{constructor(){Ys.A.registerVersion("angularfire",fc.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Qt({providers:[nA]})}return n})();function h0(...n){return function Zte(){return tf(1)}()(Un(n,vg(n)))}function Ia(...n){const e=vg(n);return Y((t,r)=>{(e?h0(n,t,e):h0(n,t)).subscribe(r)})}function rA(){return Y((n,e)=>{let t,r=!1;n.subscribe(me(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}function f0(n,e){return Y(function Jte(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(me(s,h=>{const m=l++;c=a?n(c,h,m):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function yg(n,e=fn){return n=n??ene,Y((t,r)=>{let i,o=!0;t.subscribe(me(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function ene(n,e){return n===e}var Ne,tne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xs={},iA=iA||{},Ot=tne||self;function m0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var oA="closure_uid_"+(1e9*Math.random()>>>0),rne=0;function ine(n,e,t){return n.call.apply(n.bind,arguments)}function one(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ro(n,e,t){return(ro=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ine:one).apply(null,arguments)}function p0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Di(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function fl(){this.s=this.s,this.o=this.o}fl.prototype.s=!1,fl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function nne(n){Object.prototype.hasOwnProperty.call(n,oA)&&n[oA]||(n[oA]=++rne)}(this)},fl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Z2=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function J2(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(m0(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function io(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}io.prototype.h=function(){this.defaultPrevented=!0};var ane=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};Ot.addEventListener("test",t,e),Ot.removeEventListener("test",t,e)}catch{}return n}();function Eg(n){return/^[\s\xa0]*$/.test(n)}function g0(){var n=Ot.navigator;return n&&(n=n.userAgent)?n:""}function xa(n){return-1!=g0().indexOf(n)}function aA(n){return aA[" "](n),n}aA[" "]=function(){};var lA,n,lne=xa("Opera"),nf=xa("Trident")||xa("MSIE"),eB=xa("Edge"),cA=eB||nf,tB=xa("Gecko")&&!(-1!=g0().toLowerCase().indexOf("webkit")&&!xa("Edge"))&&!(xa("Trident")||xa("MSIE"))&&!xa("Edge"),dne=-1!=g0().toLowerCase().indexOf("webkit")&&!xa("Edge");function nB(){var n=Ot.document;return n?n.documentMode:void 0}e:{var dA="",uA=(n=g0(),tB?/rv:([^\);]+)(\)|;)/.exec(n):eB?/Edge\/([\d\.]+)/.exec(n):nf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dne?/WebKit\/(\S+)/.exec(n):lne?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(uA&&(dA=uA?uA[1]:""),nf){var hA=nB();if(null!=hA&&hA>parseFloat(dA)){lA=String(hA);break e}}lA=dA}var une=Ot.document&&nf&&(nB()||parseInt(lA,10))||void 0;function Ig(n,e){if(io.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tB){e:{try{aA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:hne[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ig.$.h.call(this)}}Di(Ig,io);var hne={2:"touch",3:"pen",4:"mouse"};Ig.prototype.h=function(){Ig.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xg="closure_listenable_"+(1e6*Math.random()|0),fne=0;function mne(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++fne,this.fa=this.ia=!1}function _0(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function mA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function iB(n){const e={};for(const t in n)e[t]=n[t];return e}const oB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sB(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<oB.length;o++)t=oB[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function b0(n){this.src=n,this.g={},this.h=0}function pA(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=Z2(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(_0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function gA(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}b0.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=gA(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new mne(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var _A="closure_lm_"+(1e6*Math.random()|0),bA={};function aB(n,e,t,r,i){if(r&&r.once)return lB(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)aB(n,e[o],t,r,i);return null}return t=EA(t),n&&n[xg]?n.O(e,t,wg(r)?!!r.capture:!!r,i):cB(n,e,t,!1,r,i)}function cB(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=wg(i)?!!i.capture:!!i,a=yA(n);if(a||(n[_A]=a=new b0(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function gne(){const e=_ne;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ane||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(uB(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function lB(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)lB(n,e[o],t,r,i);return null}return t=EA(t),n&&n[xg]?n.P(e,t,wg(r)?!!r.capture:!!r,i):cB(n,e,t,!0,r,i)}function dB(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dB(n,e[o],t,r,i);else r=wg(r)?!!r.capture:!!r,t=EA(t),n&&n[xg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=gA(o=n.g[e],t,r,i))&&(_0(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=yA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=gA(e,t,r,i)),(t=-1<n?e[n]:null)&&vA(t))}function vA(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[xg])pA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(uB(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yA(e))?(pA(t,n),0==t.h&&(t.src=null,e[_A]=null)):_0(n)}}}function uB(n){return n in bA?bA[n]:bA[n]="on"+n}function _ne(n,e){if(n.fa)n=!0;else{e=new Ig(e,this);var t=n.listener,r=n.la||n.src;n.ia&&vA(n),n=t.call(r,e)}return n}function yA(n){return(n=n[_A])instanceof b0?n:null}var wA="__closure_events_fn_"+(1e9*Math.random()>>>0);function EA(n){return"function"==typeof n?n:(n[wA]||(n[wA]=function(e){return n.handleEvent(e)}),n[wA])}function Si(){fl.call(this),this.i=new b0(this),this.S=this,this.J=null}function Hi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new io(e,n);else if(e instanceof io)e.target=e.target||n;else{var i=e;sB(e=new io(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=v0(s,r,!0,e)&&i}if(i=v0(s=e.g=n,r,!0,e)&&i,i=v0(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=v0(s=e.g=t[o],r,!1,e)&&i}function v0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&pA(n.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Di(Si,fl),Si.prototype[xg]=!0,Si.prototype.removeEventListener=function(n,e,t,r){dB(this,n,e,t,r)},Si.prototype.N=function(){if(Si.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_0(t[r]);delete n.g[e],n.h--}}this.J=null},Si.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Si.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var IA=Ot.JSON.stringify;function vne(){var n=xA;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var hB=new class bne{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new wne,n=>n.reset());class wne{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ene(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Ine(n){Ot.setTimeout(()=>{throw n},0)}let Cg,Tg=!1,xA=new class yne{constructor(){this.h=this.g=null}add(e,t){const r=hB.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},fB=()=>{const n=Ot.Promise.resolve(void 0);Cg=()=>{n.then(xne)}};var xne=()=>{for(var n;n=vne();){try{n.h.call(n.g)}catch(t){Ine(t)}var e=hB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Tg=!1};function y0(n,e){Si.call(this),this.h=n||1,this.g=e||Ot,this.j=ro(this.qb,this),this.l=Date.now()}function CA(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function TA(n,e,t){if("function"==typeof n)t&&(n=ro(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ro(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function mB(n){n.g=TA(()=>{n.g=null,n.i&&(n.i=!1,mB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Di(y0,Si),(Ne=y0.prototype).ga=!1,Ne.T=null,Ne.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hi(this,"tick"),this.ga&&(CA(this),this.start()))}},Ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ne.N=function(){y0.$.N.call(this),CA(this),delete this.g};class Cne extends fl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mB(this)}N(){super.N(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ag(n){fl.call(this),this.h=n,this.g={}}Di(Ag,fl);var pB=[];function gB(n,e,t,r){Array.isArray(t)||(t&&(pB[0]=t.toString()),t=pB);for(var i=0;i<t.length;i++){var o=aB(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function _B(n){mA(n.g,function(e,t){this.g.hasOwnProperty(t)&&vA(e)},n),n.g={}}function w0(){this.g=!0}function rf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Sne(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return IA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ag.prototype.N=function(){Ag.$.N.call(this),_B(this)},Ag.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},w0.prototype.Ea=function(){this.g=!1},w0.prototype.info=function(){};var Fd={},bB=null;function E0(){return bB=bB||new Si}function vB(n){io.call(this,Fd.Ta,n)}function Dg(n){const e=E0();Hi(e,new vB(e))}function yB(n,e){io.call(this,Fd.STAT_EVENT,n),this.stat=e}function ko(n){const e=E0();Hi(e,new yB(e,n))}function wB(n,e){io.call(this,Fd.Ua,n),this.size=e}function Sg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}Fd.Ta="serverreachability",Di(vB,io),Fd.STAT_EVENT="statevent",Di(yB,io),Fd.Ua="timingevent",Di(wB,io);var I0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},EB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function AA(){}function xB(){}AA.prototype.h=null;var kA,kg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function DA(){io.call(this,"d")}function SA(){io.call(this,"c")}function x0(){}function Rg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Ag(this),this.P=kne,this.V=new y0(n=cA?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CB}function CB(){this.i=null,this.g="",this.h=!1}Di(DA,io),Di(SA,io),Di(x0,AA),x0.prototype.g=function(){return new XMLHttpRequest},x0.prototype.i=function(){return{}},kA=new x0;var kne=45e3,TB={},RA={};function MA(n,e,t){n.L=1,n.A=D0(pc(e)),n.u=t,n.S=!0,AB(n,null)}function AB(n,e){n.G=Date.now(),Mg(n),n.B=pc(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),LB(t.i,"t",r),n.o=0,t=n.l.J,n.h=new CB,n.g=aU(n.l,t?e:null,!n.u),0<n.O&&(n.M=new Cne(ro(n.Pa,n,n.g),n.O)),gB(n.U,n.g,"readystatechange",n.nb),e=n.I?iB(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Dg(),function Tne(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var m=h.split("_");s=2<=m.length&&"type"==m[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function DB(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function SB(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=Rne(n,t),i==RA){4==e&&(n.s=4,ko(14),r=!1),rf(n.j,n.m,null,"[Incomplete Response]");break}if(i==TB){n.s=4,ko(15),rf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rf(n.j,n.m,i,null),PA(n,i)}DB(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,ko(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),UA(e),e.M=!0,ko(11))):(rf(n.j,n.m,t,"[Invalid Chunked Response]"),Nd(n),Pg(n))}function Rne(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?RA:(t=Number(e.substring(t,r)),isNaN(t)?TB:(r+=1)+t>e.length?RA:(e=e.slice(r,r+t),n.o=r+t,e))}function Mg(n){n.Y=Date.now()+n.P,kB(n,n.P)}function kB(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Sg(ro(n.lb,n),e)}function C0(n){n.C&&(Ot.clearTimeout(n.C),n.C=null)}function Pg(n){0==n.l.H||n.J||rU(n.l,n)}function Nd(n){C0(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,CA(n.V),_B(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function PA(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||FA(t.i,n)))if(!n.K&&FA(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;F0(t),M0(t)}BA(t),ko(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Sg(ro(t.ib,t),6e3));if(1>=UB(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ld(t,11)}else if((n.K||t.g==n)&&F0(t),!Eg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const h=l[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const m=l[4];null!=m&&(t.Ga=m,t.l.info("SVER="+t.Ga));const g=l[5];null!=g&&"number"==typeof g&&0<g&&(t.L=r=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const _=n.g;if(_){const v=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||-1==v.indexOf("spdy")&&-1==v.indexOf("quic")&&-1==v.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(NA(o,o.h),o.h=null))}if(r.F){const x=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,br(r.I,r.F,x))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=sU(r,r.J?r.pa:null,r.Y),s.K){zB(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(C0(a),Mg(a)),r.g=s}else tU(r);0<t.j.length&&P0(t)}else"stop"!=l[0]&&"close"!=l[0]||Ld(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ld(t,7):VA(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Dg()}catch{}}function RB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(m0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Pne(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(m0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Mne(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(m0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(Ne=Rg.prototype).setTimeout=function(n){this.P=n},Ne.nb=function(n){n=n.target;const e=this.M;e&&3==Ca(n)?e.l():this.Pa(n)},Ne.Pa=function(n){try{if(n==this.g)e:{const h=Ca(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||cA||this.g&&(this.h.h||this.g.ja()||QB(this.g)))){this.J||4!=h||7==e||Dg(),C0(this);var t=this.g.da();this.ca=t;t:if(DB(this)){var r=QB(this.g);n="";var i=r.length,o=4==Ca(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Nd(this),Pg(this);var s="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Ane(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.s=3,ko(12),Nd(this),Pg(this);break e}rf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,PA(this,t)}this.S?(SB(this,h,s),cA&&this.i&&3==h&&(gB(this.U,this.V,"tick",this.mb),this.V.start())):(rf(this.j,this.m,s,null),PA(this,s)),4==h&&Nd(this),this.i&&!this.J&&(4==h?rU(this.l,this):(this.i=!1,Mg(this)))}else(function Xne(n){const e={};n=(n.g&&2<=Ca(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Eg(n[r]))continue;var t=Ene(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function pne(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,ko(12)):(this.s=0,ko(13)),Nd(this),Pg(this)}}}catch{}},Ne.mb=function(){if(this.g){var n=Ca(this.g),e=this.g.ja();this.o<e.length&&(C0(this),SB(this,n,e),this.i&&4!=n&&Mg(this))}},Ne.cancel=function(){this.J=!0,Nd(this)},Ne.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function Dne(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Dg(),ko(17)),Nd(this),this.s=2,Pg(this)):kB(this,this.Y-n)};var MB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Od(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Od){this.h=n.h,T0(this,n.j),this.s=n.s,this.g=n.g,A0(this,n.m),this.l=n.l;var e=n.i,t=new Og;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),PB(this,t),this.o=n.o}else n&&(e=String(n).match(MB))?(this.h=!1,T0(this,e[1]||"",!0),this.s=Fg(e[2]||""),this.g=Fg(e[3]||"",!0),A0(this,e[4]),this.l=Fg(e[5]||"",!0),PB(this,e[6]||"",!0),this.o=Fg(e[7]||"")):(this.h=!1,this.i=new Og(null,this.h))}function pc(n){return new Od(n)}function T0(n,e,t){n.j=t?Fg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function A0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function PB(n,e,t){e instanceof Og?(n.i=e,function Une(n,e){e&&!n.j&&(ml(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(NB(this,r),LB(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ng(e,Vne)),n.i=new Og(e,n.h))}function br(n,e,t){n.i.set(e,t)}function D0(n){return br(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ng(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Nne),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Nne(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Od.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ng(e,FB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ng(e,FB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ng(t,"/"==t.charAt(0)?Lne:One,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ng(t,Bne)),n.join("")};var FB=/[#\/\?@]/g,One=/[#\?:]/g,Lne=/[#\?]/g,Vne=/[#\?@]/g,Bne=/#/g;function Og(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ml(n){n.g||(n.g=new Map,n.h=0,n.i&&function Fne(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function NB(n,e){ml(n),e=sf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function OB(n,e){return ml(n),e=sf(n,e),n.g.has(e)}function LB(n,e,t){NB(n,e),0<t.length&&(n.i=null,n.g.set(sf(n,e),sA(t)),n.h+=t.length)}function sf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(Ne=Og.prototype).add=function(n,e){ml(this),this.i=null,n=sf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ne.forEach=function(n,e){ml(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ne.ta=function(){ml(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},Ne.Z=function(n){ml(this);let e=[];if("string"==typeof n)OB(this,n)&&(e=e.concat(this.g.get(sf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ne.set=function(n,e){return ml(this),this.i=null,OB(this,n=sf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ne.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var zne=class{constructor(n,e){this.g=n,this.map=e}};function VB(n){this.l=n||jne,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ka&&Ot.g.Ka()&&Ot.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jne=10;function BB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function UB(n){return n.h?1:n.g?n.g.size:0}function FA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function NA(n,e){n.g?n.g.add(e):n.h=e}function zB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jB(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return sA(n.i)}VB.prototype.cancel=function(){if(this.i=jB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var $ne=class{stringify(n){return Ot.JSON.stringify(n,void 0)}parse(n){return Ot.JSON.parse(n,void 0)}};function Hne(){this.g=new $ne}function qne(n,e,t){const r=t||"";try{RB(n,function(i,o){let s=i;wg(i)&&(s=IA(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function S0(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Lg(n){this.l=n.ec||null,this.j=n.ob||!1}function k0(n,e){Si.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=OA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Di(Lg,AA),Lg.prototype.g=function(){return new k0(this.l,this.j)},Lg.prototype.i=function(n){return function(){return n}}({}),Di(k0,Si);var OA=0;function $B(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Vg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bg(n)}function Bg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ne=k0.prototype).open=function(n,e){if(this.readyState!=OA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Bg(this)},Ne.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ot).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vg(this)),this.readyState=OA},Ne.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bg(this)),this.g&&(this.readyState=3,Bg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ot.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$B(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ne.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vg(this):Bg(this),3==this.readyState&&$B(this)}},Ne.Za=function(n){this.g&&(this.response=this.responseText=n,Vg(this))},Ne.Ya=function(n){this.g&&(this.response=n,Vg(this))},Ne.ka=function(){this.g&&Vg(this)},Ne.setRequestHeader=function(n,e){this.v.append(n,e)},Ne.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ne.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(k0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Gne=Ot.JSON.parse;function Vr(n){Si.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HB,this.L=this.M=!1}Di(Vr,Si);var HB="",Kne=/^https?$/i,Qne=["POST","PUT"];function qB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,WB(n),R0(n)}function WB(n){n.F||(n.F=!0,Hi(n,"complete"),Hi(n,"error"))}function GB(n){if(n.h&&typeof iA<"u"&&(!n.C[1]||4!=Ca(n)||2!=n.da()))if(n.v&&4==Ca(n))TA(n.La,0,n);else if(Hi(n,"readystatechange"),4==Ca(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match(MB)[1]||null;!i&&Ot.self&&Ot.self.location&&(i=Ot.self.location.protocol.slice(0,-1)),r=!Kne.test(i?i.toLowerCase():"")}t=r}if(t)Hi(n,"complete"),Hi(n,"success");else{n.m=6;try{var o=2<Ca(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",WB(n)}}finally{R0(n)}}}function R0(n,e){if(n.g){KB(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Hi(n,"ready");try{t.onreadystatechange=r}catch{}}}function KB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function Ca(n){return n.g?n.g.readyState:0}function QB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case HB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function YB(n){let e="";return mA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function LA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=YB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):br(n,e,t))}function Ug(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function XB(n){this.Ga=0,this.j=[],this.l=new w0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ug("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ug("baseRetryDelayMs",5e3,n),this.hb=Ug("retryDelaySeedMs",1e4,n),this.eb=Ug("forwardChannelMaxRetries",2,n),this.xa=Ug("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new VB(n&&n.concurrentRequestLimit),this.Ja=new Hne,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function VA(n){if(ZB(n),3==n.H){var e=n.W++,t=pc(n.I);if(br(t,"SID",n.K),br(t,"RID",e),br(t,"TYPE","terminate"),zg(n,t),(e=new Rg(n,n.l,e)).L=2,e.A=D0(pc(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon)try{t=Ot.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&Ot.Image&&((new Image).src=e.A,t=!0),t||(e.g=aU(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Mg(e)}oU(n)}function M0(n){n.g&&(UA(n),n.g.cancel(),n.g=null)}function ZB(n){M0(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),F0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function P0(n){if(!BB(n.i)&&!n.m){n.m=!0;var e=n.Na;Cg||fB(),Tg||(Cg(),Tg=!0),xA.add(e,n),n.C=0}}function JB(n,e){var t;t=e?e.m:n.W++;const r=pc(n.I);br(r,"SID",n.K),br(r,"RID",t),br(r,"AID",n.V),zg(n,r),n.o&&n.s&&LA(r,n.o,n.s),t=new Rg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=eU(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),NA(n.i,t),MA(t,r,e)}function zg(n,e){n.na&&mA(n.na,function(t,r){br(e,r,t)}),n.h&&RB({},function(t,r){br(e,r,t)})}function eU(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ro(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=i[c].g;const h=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{qne(h,s,"req"+l+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function tU(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Cg||fB(),Tg||(Cg(),Tg=!0),xA.add(e,n),n.A=0}}function BA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Sg(ro(n.Ma,n),iU(n,n.A)),n.A++,0))}function UA(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function nU(n){n.g=new Rg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=pc(n.wa);br(e,"RID","rpc"),br(e,"SID",n.K),br(e,"AID",n.V),br(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&br(e,"TO",n.qa),br(e,"TYPE","xmlhttp"),zg(n,e),n.o&&n.s&&LA(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=D0(pc(e)),t.u=null,t.S=!0,AB(t,n)}function F0(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function rU(n,e){var t=null;if(n.g==e){F0(n),UA(n),n.g=null;var r=2}else{if(!FA(n.i,e))return;t=e.F,zB(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Hi(r=E0(),new wB(r,t)),P0(n)}else tU(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function Zne(n,e){return!(UB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Sg(ro(n.Na,n,e),iU(n,n.C)),n.C++,0)))}(n,e)||2==r&&BA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ld(n,5);break;case 4:Ld(n,10);break;case 3:Ld(n,6);break;default:Ld(n,2)}}function iU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ld(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ro(n.pb,n);t||(t=new Od("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||T0(t,"https"),D0(t)),function Wne(n,e){const t=new w0;if(Ot.Image){const r=new Image;r.onload=p0(S0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=p0(S0,t,r,"TestLoadImage: error",!1,e),r.onabort=p0(S0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=p0(S0,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ko(2);n.H=0,n.h&&n.h.za(e),oU(n),ZB(n)}function oU(n){if(n.H=0,n.ma=[],n.h){const e=jB(n.i);(0!=e.length||0!=n.j.length)&&(J2(n.ma,e),J2(n.ma,n.j),n.i.i.length=0,sA(n.j),n.j.length=0),n.h.ya()}}function sU(n,e,t){var r=t instanceof Od?pc(t):new Od(t);if(""!=r.g)e&&(r.g=e+"."+r.g),A0(r,r.m);else{var i=Ot.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Od(null);r&&T0(o,r),e&&(o.g=e),i&&A0(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&br(r,t,e),br(r,"VER",n.ra),zg(n,r),r}function aU(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(n.Ha&&!n.va?new Lg({ob:t}):n.va)).Oa(n.J),e}function cU(){}function N0(){if(nf&&!(10<=Number(une)))throw Error("Environmental error: no available transport.")}function cs(n,e){Si.call(this),this.g=new XB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Eg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new af(this)}function lU(n){DA.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dU(){SA.call(this),this.status=1}function af(n){this.g=n}function Zs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zA(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function zn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(Ne=Vr.prototype).Oa=function(n){this.M=n},Ne.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kA.g(),this.C=function IB(n){return n.h||(n.h=n.i())}(this.u?this.u:kA),this.g.onreadystatechange=ro(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void qB(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Ot.FormData&&n instanceof Ot.FormData,!(0<=Z2(Qne,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KB(this),0<this.B&&((this.L=function Yne(n){return nf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ro(this.ua,this)):this.A=TA(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){qB(this,o)}},Ne.ua=function(){typeof iA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hi(this,"timeout"),this.abort(8))},Ne.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hi(this,"complete"),Hi(this,"abort"),R0(this))},Ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R0(this,!0)),Vr.$.N.call(this)},Ne.La=function(){this.s||(this.G||this.v||this.l?GB(this):this.kb())},Ne.kb=function(){GB(this)},Ne.isActive=function(){return!!this.g},Ne.da=function(){try{return 2<Ca(this)?this.g.status:-1}catch{return-1}},Ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ne.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Gne(e)}},Ne.Ia=function(){return this.m},Ne.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ne=XB.prototype).ra=8,Ne.H=1,Ne.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Rg(this,this.l,n);let o=this.s;if(this.U&&(o?(o=iB(o),sB(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eU(this,i,e),br(t=pc(this.I),"RID",n),br(t,"CVER",22),this.F&&br(t,"X-HTTP-Session-Id",this.F),zg(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(YB(o)))+"&"+e:this.o&&LA(t,this.o,o)),NA(this.i,i),this.bb&&br(t,"TYPE","init"),this.P?(br(t,"$req",e),br(t,"SID","null"),i.aa=!0,MA(i,t,null)):MA(i,t,e),this.H=2}}else 3==this.H&&(n?JB(this,n):0==this.j.length||BB(this.i)||JB(this))},Ne.Ma=function(){if(this.u=null,nU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Sg(ro(this.jb,this),n)}},Ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ko(10),M0(this),nU(this))},Ne.ib=function(){null!=this.v&&(this.v=null,M0(this),BA(this),ko(19))},Ne.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ko(2)):(this.l.info("Failed to ping google.com"),ko(1))},Ne.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ne=cU.prototype).Ba=function(){},Ne.Aa=function(){},Ne.za=function(){},Ne.ya=function(){},Ne.isActive=function(){return!0},Ne.Va=function(){},N0.prototype.g=function(n,e){return new cs(n,e)},Di(cs,Si),cs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ko(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=sU(n,null,n.Y),P0(n)},cs.prototype.close=function(){VA(this.g)},cs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=IA(n),n=t);e.j.push(new zne(e.fb++,n)),3==e.H&&P0(e)},cs.prototype.N=function(){this.g.h=null,delete this.j,VA(this.g),delete this.g,cs.$.N.call(this)},Di(lU,DA),Di(dU,SA),Di(af,cU),af.prototype.Ba=function(){Hi(this.g,"a")},af.prototype.Aa=function(n){Hi(this.g,new lU(n))},af.prototype.za=function(n){Hi(this.g,new dU)},af.prototype.ya=function(){Hi(this.g,"b")},Di(Zs,function Jne(){this.blockSize=-1}),Zs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)zA(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){zA(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){zA(this,r),i=0;break}}this.h=i,this.i+=e},Zs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var ere={};function jA(n){return-128<=n&&128>n?function cne(n,e){var t=ere;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new zn([0|e],0>e?-1:0)}):new zn([0|n],0>n?-1:0)}function Ta(n){if(isNaN(n)||!isFinite(n))return cf;if(0>n)return qi(Ta(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=$A;return new zn(e,0)}var $A=4294967296,cf=jA(0),HA=jA(1),hU=jA(16777216);function gc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ts(n){return-1==n.h}function qi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new zn(t,~n.h).add(HA)}function O0(n,e){return n.add(qi(e))}function L0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function jg(n,e){this.g=n,this.h=e}function V0(n,e){if(gc(e))throw Error("division by zero");if(gc(n))return new jg(cf,cf);if(Ts(n))return e=V0(qi(n),e),new jg(qi(e.g),qi(e.h));if(Ts(e))return e=V0(n,qi(e)),new jg(qi(e.g),e.h);if(30<n.g.length){if(Ts(n)||Ts(e))throw Error("slowDivide_ only works with positive integers.");for(var t=HA,r=e;0>=r.X(n);)t=fU(t),r=fU(r);var i=lf(t,1),o=lf(r,1);for(r=lf(r,2),t=lf(t,2);!gc(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=lf(r,1),t=lf(t,1)}return e=O0(n,i.R(e)),new jg(i,e)}for(i=cf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Ta(t)).R(e);Ts(s)||0<s.X(n);)s=(o=Ta(t-=r)).R(e);gc(o)&&(o=HA),i=i.add(o),n=O0(n,s)}return new jg(i,n)}function fU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new zn(t,n.h)}function lf(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new zn(i,n.h)}(Ne=zn.prototype).ea=function(){if(Ts(this))return-qi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:$A+r)*e,e*=$A}return n},Ne.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(gc(this))return"0";if(Ts(this))return"-"+qi(this).toString(n);for(var e=Ta(Math.pow(n,6)),t=this,r="";;){var i=V0(t,e).g,o=((0<(t=O0(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(gc(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ne.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ne.X=function(n){return Ts(n=O0(this,n))?-1:gc(n)?0:1},Ne.abs=function(){return Ts(this)?qi(this):this},Ne.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new zn(t,-2147483648&t[t.length-1]?-1:0)},Ne.R=function(n){if(gc(this)||gc(n))return cf;if(Ts(this))return Ts(n)?qi(this).R(qi(n)):qi(qi(this).R(n));if(Ts(n))return qi(this.R(qi(n)));if(0>this.X(hU)&&0>n.X(hU))return Ta(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=s*c,L0(t,2*r+2*i),t[2*r+2*i+1]+=o*c,L0(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,L0(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,L0(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new zn(t,0)},Ne.gb=function(n){return V0(this,n).h},Ne.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new zn(t,this.h&n.h)},Ne.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new zn(t,this.h|n.h)},Ne.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new zn(t,this.h^n.h)},N0.prototype.createWebChannel=N0.prototype.g,cs.prototype.send=cs.prototype.u,cs.prototype.open=cs.prototype.m,cs.prototype.close=cs.prototype.close,I0.NO_ERROR=0,I0.TIMEOUT=8,I0.HTTP_ERROR=6,EB.COMPLETE="complete",xB.EventType=kg,kg.OPEN="a",kg.CLOSE="b",kg.ERROR="c",kg.MESSAGE="d",Si.prototype.listen=Si.prototype.O,Vr.prototype.listenOnce=Vr.prototype.P,Vr.prototype.getLastError=Vr.prototype.Sa,Vr.prototype.getLastErrorCode=Vr.prototype.Ia,Vr.prototype.getStatus=Vr.prototype.da,Vr.prototype.getResponseJson=Vr.prototype.Wa,Vr.prototype.getResponseText=Vr.prototype.ja,Vr.prototype.send=Vr.prototype.ha,Vr.prototype.setWithCredentials=Vr.prototype.Oa,Zs.prototype.digest=Zs.prototype.l,Zs.prototype.reset=Zs.prototype.reset,Zs.prototype.update=Zs.prototype.j,zn.prototype.add=zn.prototype.add,zn.prototype.multiply=zn.prototype.R,zn.prototype.modulo=zn.prototype.gb,zn.prototype.compare=zn.prototype.X,zn.prototype.toNumber=zn.prototype.ea,zn.prototype.toString=zn.prototype.toString,zn.prototype.getBits=zn.prototype.D,zn.fromNumber=Ta,zn.fromString=function uU(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return qi(uU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ta(Math.pow(e,8)),r=cf,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=Ta(Math.pow(e,o)),r=r.R(o).add(Ta(s))):r=(r=r.R(t)).add(Ta(s))}return r};var tre=Xs.createWebChannelTransport=function(){return new N0},nre=Xs.getStatEventTarget=function(){return E0()},qA=Xs.ErrorCode=I0,rre=Xs.EventType=EB,ire=Xs.Event=Fd,mU=Xs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ore=Xs.FetchXmlHttpFactory=Lg,B0=Xs.WebChannel=xB,sre=Xs.XhrIo=Vr,are=Xs.Md5=Zs,df=Xs.Integer=zn;const pU="@firebase/firestore";class ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let uf="10.11.1";const pl=new Ea.Vy("@firebase/firestore");function hf(){return pl.logLevel}function ue(n,...e){if(pl.logLevel<=Ea.$b.DEBUG){const t=e.map(WA);pl.debug(`Firestore (${uf}): ${n}`,...t)}}function Zr(n,...e){if(pl.logLevel<=Ea.$b.ERROR){const t=e.map(WA);pl.error(`Firestore (${uf}): ${n}`,...t)}}function Wo(n,...e){if(pl.logLevel<=Ea.$b.WARN){const t=e.map(WA);pl.warn(`Firestore (${uf}): ${n}`,...t)}}function WA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ze(n="Unexpected state"){const e=`FIRESTORE (${uf}) INTERNAL ASSERTION FAILED: `+n;throw Zr(e),new Error(e)}function Je(n,e){n||ze()}function Te(n,e){return n}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends jt.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ki.UNAUTHENTICATED))}shutdown(){}}class ure{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hre{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,y.A)(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je("string"==typeof r.accessToken),new gU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Je(null===e||"string"==typeof e),new ki(e)}}class fre{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mre{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new fre(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _U{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pre{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je("string"==typeof t.token),this.R=t.token,new _U(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gre(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class bU{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=gre(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function ff(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function vU(n){return n+"\0"}class Ir{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ir(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nt(e)}static min(){return new nt(new Ir(0,0))}static max(){return new nt(new Ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $g{constructor(e,t,r){void 0===t?t=0:t>e.length&&ze(),void 0===r?r=e.length-t:r>e.length-t&&ze(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===$g.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $g?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends $g{construct(e,t,r){return new mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const _re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends $g{construct(e,t,r){return new vr(e,t,r)}static isValidIdentifier(e){return _re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(t)}static emptyPath(){return new vr([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(mn.fromString(e))}static fromName(e){return new De(mn.fromString(e).popFirst(5))}static empty(){return new De(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new mn(e.slice()))}}class mf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function GA(n){return n.fields.find(e=>2===e.kind)}function Vd(n){return n.fields.filter(e=>2!==e.kind)}mf.UNKNOWN_ID=-1;class Bd{constructor(e,t){this.fieldPath=e,this.kind=t}}class pf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new pf(0,ls.min())}}function yU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=nt.fromTimestamp(1e9===r?new Ir(t+1,0):new Ir(t,r));return new ls(i,De.empty(),e)}function wU(n){return new ls(n.readTime,n.key,-1)}class ls{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ls(nt.min(),De.empty(),-1)}static max(){return new ls(nt.max(),De.empty(),-1)}}function KA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=De.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const EU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gl(n){return QA.apply(this,arguments)}function QA(){return QA=(0,y.A)(function*(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==EU)throw n;ue("LocalStore","Unexpectedly lost primary lease")}),QA.apply(this,arguments)}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $?t:$.resolve(t)}catch(t){return $.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$.reject(t)}static resolve(e){return new $((t,r)=>{t(e)})}static reject(e){return new $((t,r)=>{r(e)})}static waitFor(e){return new $((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=$.resolve(!1);for(const r of e)t=t.next(i=>i?$.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new $((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new $((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class U0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new yi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Hg(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=YA(r.target.error);this.V.reject(new Hg(e,i))}}static open(e,t,r,i){try{return new U0(t,e.transaction(i,r))}catch(o){throw new Hg(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wre(t)}}class Aa{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Aa.S((0,jt.ZQ)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ue("SimpleDb","Removing database:",e),Ud(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,jt.zW)())return!1;if(Aa.C())return!0;const e=(0,jt.ZQ)(),t=Aa.S(e),r=0<t&&t<10,i=xU(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var t=this;return(0,y.A)(function*(){return t.db||(ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Hg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new le(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new le(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Hg(e,a))},o.onupgradeneeded=s=>{ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=r=>t.N(r)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,y.A)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.M(e);const c=U0.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),$.reject(h))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,h="FirebaseError"!==l.name&&a<3;if(ue("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),o.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function xU(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class yre{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ud(this.B.delete())}}class Hg extends le{constructor(e,t){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function _l(n){return"IndexedDbTransactionError"===n.name}class wre{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ud(r)}add(e){return ue("SimpleDb","ADD",this.store.name,e,e),Ud(this.store.add(e))}get(e){return Ud(this.store.get(e)).next(t=>(void 0===t&&(t=null),ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ue("SimpleDb","DELETE",this.store.name,e),Ud(this.store.delete(e))}count(){return ue("SimpleDb","COUNT",this.store.name),Ud(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new $((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new $((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new $((r,i)=>{t.onerror=o=>{const s=YA(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){const r=[];return new $((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new yre(a),l=t(a.primaryKey,a.value,c);if(l instanceof $){const h=l.catch(m=>(c.done(),$.reject(m)));r.push(h)}c.isDone?i():null===c.K?a.continue():a.continue(c.K)}}).next(()=>$.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ud(n){return new $((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=YA(r.target.error);t(i)}})}let CU=!1;function YA(n){const e=Aa.S((0,jt.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CU||(CU=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ere{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;ue("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.A)(function*(){t.task=null;try{ue("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(r){_l(r)?ue("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield gl(r)}yield t.X(6e4)}))}}class Ire{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,y.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.te(r,e))})()}te(e,t){const r=new Set;let i=t,o=!0;return $.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return ue("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(ue("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{const s=wU(o);KA(s,r)>0&&(r=s)}),new ls(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ds=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function qg(n){return null==n}function Wg(n){return 0===n&&1/n==-1/0}function TU(n){return"number"==typeof n&&Number.isInteger(n)&&!Wg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function oo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AU(e)),e=xre(n.get(t),e);return AU(e)}function xre(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function AU(n){return n+"\x01\x01"}function Da(n){const e=n.length;if(Je(e>=2),2===e)return Je("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&ze(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=n.substring(o,s),i+="\0";break;case"\x11":i+=n.substring(o,s+1);break;default:ze()}o=s+2}return new mn(r)}const DU=["userId","batchId"];function z0(n,e){return[n,oo(e)]}function SU(n,e,t){return[n,oo(e),t]}const Cre={},Tre=["prefixPath","collectionGroup","readTime","documentId"],Are=["prefixPath","collectionGroup","documentId"],Dre=["collectionGroup","readTime","prefixPath","documentId"],Sre=["canonicalId","targetId"],kre=["targetId","path"],Rre=["path","targetId"],Mre=["collectionId","parent"],Pre=["indexId","uid"],Fre=["uid","sequenceNumber"],Nre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ore=["indexId","uid","orderedDocumentKey"],Lre=["userId","collectionPath","documentId"],Vre=["userId","collectionPath","largestBatchId"],Bre=["userId","collectionGroup","largestBatchId"],kU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ure=[...kU,"documentOverlays"],RU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MU=RU,PU=[...MU,"indexConfiguration","indexState","indexEntries"],zre=PU;class XA extends IU{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Ri(n,e){const t=Te(n);return Aa.F(t._e,e)}function FU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ur{constructor(e,t){this.comparator=e,this.root=t||Wi.EMPTY}insert(e,t){return new ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new j0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new j0(this.root,e,this.comparator,!1)}getReverseIterator(){return new j0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new j0(this.root,e,this.comparator,!0)}}class j0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Wi.RED,this.left=i??Wi.EMPTY,this.right=o??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Wi(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Wi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OU(this.data.getIterator())}getIteratorFrom(e){return new OU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class OU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gf(n){return n.hasNext()?n.getNext():void 0}class Go{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new Go([])}unionWith(e){let t=new Qn(vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ff(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class LU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LU("Invalid base64 string: "+o):o}}(e);return new wi(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const $re=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _c(n){if(Je(!!n),"string"==typeof n){let e=0;const t=$re.exec(n);if(Je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bc(n){return"string"==typeof n?wi.fromBase64String(n):wi.fromUint8Array(n)}function $0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function H0(n){const e=n.mapValue.fields.__previous_value__;return $0(e)?H0(e):e}function Gg(n){const e=_c(n.mapValue.fields.__local_write_time__.timestampValue);return new Ir(e.seconds,e.nanos)}class Hre{constructor(e,t,r,i,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class vl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}const yl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},q0={nullValue:"NULL_VALUE"};function wl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$0(n)?4:zU(n)?9007199254740991:10:ze()}function Sa(n,e){if(n===e)return!0;const t=wl(n);if(t!==wl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gg(n).isEqual(Gg(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=_c(i.timestampValue),a=_c(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,bc(n.bytesValue).isEqual(bc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Br(i.geoPointValue.latitude)===Br(o.geoPointValue.latitude)&&Br(i.geoPointValue.longitude)===Br(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Br(i.integerValue)===Br(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Br(i.doubleValue),a=Br(o.doubleValue);return s===a?Wg(s)===Wg(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ff(n.arrayValue.values||[],e.arrayValue.values||[],Sa);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(FU(s)!==FU(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Sa(s[c],a[c])))return!1;return!0}(n,e);default:return ze()}var o}function Kg(n,e){return void 0!==(n.values||[]).find(t=>Sa(t,e))}function El(n,e){if(n===e)return 0;const t=wl(n),r=wl(e);if(t!==r)return Pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Br(o.integerValue||o.doubleValue),c=Br(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return VU(n.timestampValue,e.timestampValue);case 4:return VU(Gg(n),Gg(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(o,s){const a=bc(o),c=bc(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=Pt(a[l],c[l]);if(0!==h)return h}return Pt(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Pt(Br(o.latitude),Br(s.latitude));return 0!==a?a:Pt(Br(o.longitude),Br(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=El(a[l],c[l]);if(h)return h}return Pt(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===yl.mapValue&&s===yl.mapValue)return 0;if(o===yl.mapValue)return 1;if(s===yl.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const g=Pt(c[m],h[m]);if(0!==g)return g;const _=El(a[c[m]],l[h[m]]);if(0!==_)return _}return Pt(c.length,h.length)}(n.mapValue,e.mapValue);default:throw ze()}}function VU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=_c(n),r=_c(e),i=Pt(t.seconds,r.seconds);return 0!==i?i:Pt(t.nanos,r.nanos)}function _f(n){return ZA(n)}function ZA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=_c(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bc(n.bytesValue).toBase64():"referenceValue"in n?De.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=ZA(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ZA(t.fields[s])}`;return i+"}"}(n.mapValue):ze()}function zd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function JA(n){return!!n&&"integerValue"in n}function Qg(n){return!!n&&"arrayValue"in n}function BU(n){return!!n&&"nullValue"in n}function UU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function G0(n){return!!n&&"mapValue"in n}function Yg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qre(n){return"nullValue"in n?q0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?zd(vl.empty(),De.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ze()}function Wre(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?zd(vl.empty(),De.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yl:ze()}function jU(n,e){const t=El(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $U(n,e){const t=El(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Gi{constructor(e){this.value=e}static empty(){return new Gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!G0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yg(t)}setAll(e){let t=vr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Yg(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());G0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];G0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bl(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Gi(Yg(this.value))}}function HU(n){const e=[];return bl(n.fields,(t,r)=>{const i=new vr([t]);if(G0(r)){const o=HU(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Go(e)}class yr{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,nt.min(),nt.min(),nt.min(),Gi.empty(),0)}static newFoundDocument(e,t,r,i){return new yr(e,1,t,nt.min(),r,i,0)}static newNoDocument(e,t){return new yr(e,2,t,nt.min(),nt.min(),Gi.empty(),0)}static newUnknownDocument(e,t){return new yr(e,3,t,nt.min(),nt.min(),Gi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Il{constructor(e,t){this.position=e,this.inclusive=t}}function qU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?De.comparator(De.fromName(s.referenceValue),t.key):El(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function WU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sa(n.position[t],e.position[t]))return!1;return!0}class Xg{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gre(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class GU{}class pn extends GU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Kre(e,t,r):"array-contains"===t?new Xre(e,r):"in"===t?new JU(e,r):"not-in"===t?new Zre(e,r):"array-contains-any"===t?new Jre(e,r):new pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Qre(e,r):new Yre(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(El(t,this.value)):null!==t&&wl(this.value)===wl(t)&&this.matchesComparison(El(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends GU{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new jn(e,t)}matches(e){return bf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bf(n){return"and"===n.op}function eD(n){return"or"===n.op}function tD(n){return KU(n)&&bf(n)}function KU(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}function nD(n){if(n instanceof pn)return n.field.canonicalString()+n.op.toString()+_f(n.value);if(tD(n))return n.filters.map(e=>nD(e)).join(",");{const e=n.filters.map(t=>nD(t)).join(",");return`${n.op}(${e})`}}function QU(n,e){return n instanceof pn?(r=n,(i=e)instanceof pn&&r.op===i.op&&r.field.isEqual(i.field)&&Sa(r.value,i.value)):n instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&QU(s,i.filters[a]),!0)}(n,e):void ze();var r,i}function YU(n,e){const t=n.filters.concat(e);return jn.create(t,n.op)}function XU(n){return n instanceof pn?`${(t=n).field.canonicalString()} ${t.op} ${_f(t.value)}`:n instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(XU).join(" ,")+"}"}(n):"Filter";var t}class Kre extends pn{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qre extends pn{constructor(e,t){super(e,"in",t),this.keys=ZU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yre extends pn{constructor(e,t){super(e,"not-in",t),this.keys=ZU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class Xre extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qg(t)&&Kg(t.arrayValue,this.value)}}class JU extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kg(this.value.arrayValue,t)}}class Zre extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Kg(this.value.arrayValue,t)}}class Jre extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Kg(this.value.arrayValue,r))}}class eie{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function rD(n,e=null,t=[],r=[],i=null,o=null,s=null){return new eie(n,e,t,r,i,o,s)}function jd(n){const e=Te(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),qg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_f(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_f(r)).join(",")),e.ue=t}return e.ue}function Zg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Gre(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!WU(n.startAt,e.startAt)&&WU(n.endAt,e.endAt)}function K0(n){return De.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Q0(n,e){return n.filters.filter(t=>t instanceof pn&&t.field.isEqual(e))}function ez(n,e,t){let r=q0,i=!0;for(const o of Q0(n,e)){let s=q0,a=!0;switch(o.op){case"<":case"<=":s=qre(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=q0}jU({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];jU({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}function tz(n,e,t){let r=yl,i=!0;for(const o of Q0(n,e)){let s=yl,a=!0;switch(o.op){case">=":case">":s=Wre(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=yl}$U({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];$U({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}class vc{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function nz(n,e,t,r,i,o,s,a){return new vc(n,e,t,r,i,o,s,a)}function vf(n){return new vc(n)}function rz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function iD(n){return null!==n.collectionGroup}function yf(n){const e=Te(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qn(vr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xg(o,r))}),t.has(vr.keyField().canonicalString())||e.ce.push(new Xg(vr.keyField(),r))}return e.ce}function Ro(n){const e=Te(n);return e.le||(e.le=function iz(n,e){if("F"===n.limitType)return rD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Xg(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Il(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Il(n.startAt.position,n.startAt.inclusive):null;return rD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,yf(n))),e.le}function oD(n,e){const t=n.filters.concat([e]);return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Y0(n,e,t){return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jg(n,e){return Zg(Ro(n),Ro(e))&&n.limitType===e.limitType}function oz(n){return`${jd(Ro(n))}|lt:${n.limitType}`}function wf(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>XU(i)).join(", ")}]`),qg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>_f(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>_f(i)).join(",")),`Target(${r})`}(Ro(n))}; limitType=${n.limitType})`}function e_(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):De.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of yf(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,c){const l=qU(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,yf(r),i)||r.endAt&&!function(s,a,c){const l=qU(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,yf(r),i)));var r,i}function sz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function az(n){return(e,t)=>{let r=!1;for(const i of yf(n)){const o=tie(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function tie(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?El(c,l):ze()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}class yc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return NU(this.inner)}size(){return this.innerSize}}const nie=new ur(De.comparator);function Ko(){return nie}const cz=new ur(De.comparator);function t_(...n){let e=cz;for(const t of n)e=e.insert(t.key,t);return e}function lz(n){let e=cz;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ka(){return n_()}function dz(){return n_()}function n_(){return new yc(n=>n.toString(),(n,e)=>n.isEqual(e))}const rie=new ur(De.comparator),iie=new Qn(De.comparator);function $t(...n){let e=iie;for(const t of n)e=e.add(t);return e}const oie=new Qn(Pt);function sD(){return oie}function uz(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wg(e)?"-0":e}}function hz(n){return{integerValue:""+n}}function fz(n,e){return TU(e)?hz(e):uz(n,e)}class X0{constructor(){this._=void 0}}function sie(n,e,t){return n instanceof Ef?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$0(o)&&(o=H0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof $d?pz(n,e):n instanceof Hd?gz(n,e):function(i,o){const s=mz(i,o),a=_z(s)+_z(i.Pe);return JA(s)&&JA(i.Pe)?hz(a):uz(i.serializer,a)}(n,e)}function aie(n,e,t){return n instanceof $d?pz(n,e):n instanceof Hd?gz(n,e):t}function mz(n,e){return n instanceof If?JA(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Ef extends X0{}class $d extends X0{constructor(e){super(),this.elements=e}}function pz(n,e){const t=bz(e);for(const r of n.elements)t.some(i=>Sa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Hd extends X0{constructor(e){super(),this.elements=e}}function gz(n,e){let t=bz(e);for(const r of n.elements)t=t.filter(i=>!Sa(i,r));return{arrayValue:{values:t}}}class If extends X0{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function _z(n){return Br(n.integerValue||n.doubleValue)}function bz(n){return Qg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class r_{constructor(e,t){this.field=e,this.transform=t}}class lie{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Z0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class J0{}function vz(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Cf(n.key,xr.none()):new xf(n.key,n.data,xr.none());{const t=n.data,r=Gi.empty();let i=new Qn(vr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new wc(n.key,r,new Go(i.toArray()),xr.none())}}function die(n,e,t){n instanceof xf?function(i,o,s){const a=i.value.clone(),c=Ez(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof wc?function(i,o,s){if(!Z0(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Ez(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(wz(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function i_(n,e,t,r){return n instanceof xf?function(o,s,a,c){if(!Z0(o.precondition,s))return a;const l=o.value.clone(),h=Iz(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof wc?function(o,s,a,c){if(!Z0(o.precondition,s))return a;const l=Iz(o.fieldTransforms,c,s),h=s.data;return h.setAll(wz(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,Z0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function uie(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=mz(r.transform,i||null);null!=o&&(null===t&&(t=Gi.empty()),t.set(r.field,o))}return t||null}function yz(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&ff(r,i,(o,s)=>function cie(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof $d&&i instanceof $d||r instanceof Hd&&i instanceof Hd?ff(r.elements,i.elements,Sa):r instanceof If&&i instanceof If?Sa(r.Pe,i.Pe):r instanceof Ef&&i instanceof Ef);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class xf extends J0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wc extends J0{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wz(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ez(n,e,t){const r=new Map;Je(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,aie(s,a,t[i]))}return r}function Iz(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,sie(o,s,e))}return r}class Cf extends J0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aD extends J0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&die(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=i_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=i_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dz();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const c=vz(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$t())}isEqual(e){return this.batchId===e.batchId&&ff(this.mutations,e.mutations,(t,r)=>yz(t,r))&&ff(this.baseMutations,e.baseMutations,(t,r)=>yz(t,r))}}class lD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Je(e.mutations.length===r.length);let i=function(){return rie}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new lD(e,t,r,i)}}class dD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fie{constructor(e,t){this.count=e,this.unchangedNames=t}}var ui,xn;function xz(n){switch(n){default:return ze();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Cz(n){if(void 0===n)return Zr("GRPC error has no .code"),W.UNKNOWN;switch(n){case ui.OK:return W.OK;case ui.CANCELLED:return W.CANCELLED;case ui.UNKNOWN:return W.UNKNOWN;case ui.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ui.INTERNAL:return W.INTERNAL;case ui.UNAVAILABLE:return W.UNAVAILABLE;case ui.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ui.NOT_FOUND:return W.NOT_FOUND;case ui.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ui.ABORTED:return W.ABORTED;case ui.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ui.DATA_LOSS:return W.DATA_LOSS;default:return ze()}}(xn=ui||(ui={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";function Tz(){return new TextEncoder}const mie=new df([4294967295,4294967295],0);function Az(n){const e=Tz().encode(n),t=new are;return t.update(e),new Uint8Array(t.digest())}function Dz(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new df([t,r],0),new df([i,o],0)]}class uD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new o_(`Invalid padding: ${t}`);if(r<0)throw new o_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new o_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new o_(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=df.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(df.fromNumber(r)));return 1===i.compare(mie)&&(i=new df([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Az(e),[r,i]=Dz(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new uD(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=Az(e),[r,i]=Dz(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class o_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class s_{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,a_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new s_(nt.min(),i,new ur(Pt),Ko(),$t())}}class a_{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new a_(r,t,$t(),$t(),$t())}}class tw{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class Sz{constructor(e,t){this.targetId=e,this.me=t}}class kz{constructor(e,t,r=wi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Rz{constructor(){this.fe=0,this.ge=Pz(),this.pe=wi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=$t(),t=$t(),r=$t();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ze()}}),new a_(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=Pz()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pie{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ko(),this.qe=Mz(),this.Qe=new ur(Pt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(K0(o))if(0===r){const s=new De(o.path);this.Ue(t,s,yr.newNoDocument(s,nt.min()))}else Je(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),c=a?this.Xe(a,e,s):1;0!==c&&(this.je(t),this.Qe=this.Qe.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=bc(r).toUint8Array()}catch(c){if(c instanceof LU)return Wo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new uD(s,i,o)}catch(c){return Wo(c instanceof o_?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&K0(a.target)){const c=new De(a.target.path);null!==this.ke.get(c)||this.it(s,c)||this.Ue(s,c,yr.newNoDocument(c,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let r=$t();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Je(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new s_(e,t,this.Qe,this.ke,r);return this.ke=Ko(),this.qe=Mz(),this.Qe=new ur(Pt),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Rz,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Qn(Pt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Rz),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Mz(){return new ur(De.comparator)}function Pz(){return new ur(De.comparator)}const gie={asc:"ASCENDING",desc:"DESCENDING"},_ie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bie={and:"AND",or:"OR"};class vie{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hD(n,e){return n.useProto3Json||qg(e)?e:{value:e}}function Tf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fz(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yie(n,e){return Tf(n,e.toTimestamp())}function Jr(n){return Je(!!n),nt.fromTimestamp(function(t){const r=_c(t);return new Ir(r.seconds,r.nanos)}(n))}function fD(n,e){return mD(n,e).canonicalString()}function mD(n,e){const t=(i=n,new mn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function Nz(n){const e=mn.fromString(n);return Je(qz(e)),e}function c_(n,e){return fD(n.databaseId,e.path)}function Ra(n,e){const t=Nz(e);if(t.get(1)!==n.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(Vz(t))}function Oz(n,e){return fD(n.databaseId,e)}function Lz(n){const e=Nz(n);return 4===e.length?mn.emptyPath():Vz(e)}function pD(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vz(n){return Je(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Bz(n,e,t){return{name:c_(n,e),fields:t.value.mapValue.fields}}function Uz(n,e,t){const r=Ra(n,e.name),i=Jr(e.updateTime),o=e.createTime?Jr(e.createTime):nt.min(),s=new Gi({mapValue:{fields:e.fields}}),a=yr.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function l_(n,e){let t;if(e instanceof xf)t={update:Bz(n,e.key,e.value)};else if(e instanceof Cf)t={delete:c_(n,e.key)};else if(e instanceof wc)t={update:Bz(n,e.key,e.data),updateMask:Die(e.fieldMask)};else{if(!(e instanceof aD))return ze();t={verify:c_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ef)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $d)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof If)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ze()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:yie(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ze()),t;var o}function gD(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?xr.updateTime(Jr(o.updateTime)):void 0!==o.exists?xr.exists(o.exists):xr.none():xr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;"setToServerValue"in a?(Je("REQUEST_TIME"===a.setToServerValue),c=new Ef):"appendMissingElements"in a?c=new $d(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Hd(a.removeAllFromArray.values||[]):"increment"in a?c=new If(s,a.increment):ze();const l=vr.fromServerFormat(a.fieldPath);return new r_(l,c)}(n,i)):[];var o;if(e.update){const i=Ra(n,e.update.name),o=new Gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Go((e.updateMask.fieldPaths||[]).map(h=>vr.fromServerFormat(h)));return new wc(i,o,s,t,r)}return new xf(i,o,t,r)}if(e.delete){const i=Ra(n,e.delete);return new Cf(i,t)}if(e.verify){const i=Ra(n,e.verify);return new aD(i,t)}return ze()}function zz(n,e){return{documents:[Oz(n,e.path)]}}function _D(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Oz(n,i);const o=function(l){if(0!==l.length)return Hz(jn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(h=>{return{field:xl((g=h).field),direction:Cie(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=hD(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i};var l}function jz(n){let e=Lz(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Je(1===r);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(m){const g=$z(m);return g instanceof jn&&tD(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new Xg(Af((v=g).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let a=null;t.limit&&(a=function(m){let g;return g="object"==typeof m?m.value:m,qg(g)?null:g}(t.limit));let c=null;var m;t.startAt&&(c=new Il((m=t.startAt).values||[],!!m.before));let l=null;return t.endAt&&(l=function(m){return new Il(m.values||[],!m.before)}(t.endAt)),nz(e,i,s,o,a,"F",c,l)}function $z(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Af(t.unaryFilter.field);return pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Af(t.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Af(t.unaryFilter.field);return pn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Af(t.unaryFilter.field);return pn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(n):void 0!==n.fieldFilter?pn.create(Af((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return jn.create(t.compositeFilter.filters.map(r=>$z(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze()}}(t.compositeFilter.op))}(n):ze();var t}function Cie(n){return gie[n]}function Tie(n){return _ie[n]}function Aie(n){return bie[n]}function xl(n){return{fieldPath:n.canonicalString()}}function Af(n){return vr.fromServerFormat(n.fieldPath)}function Hz(n){return n instanceof pn?function(t){if("=="===t.op){if(UU(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NAN"}};if(BU(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(UU(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NAN"}};if(BU(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(t.field),op:Tie(t.op),value:t.value}}}(n):n instanceof jn?function(t){const r=t.getFilters().map(i=>Hz(i));return 1===r.length?r[0]:{compositeFilter:{op:Aie(t.op),filters:r}}}(n):ze()}function Die(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ec{constructor(e,t,r,i,o=nt.min(),s=nt.min(),a=wi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ec(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wz{constructor(e){this.ut=e}}function Gz(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:nw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:c_(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Tf(o,s.version.toTimestamp()),createTime:Tf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:qd(e.version)};else{if(!e.isUnknownDocument())return ze();r.unknownDocument={path:t.path.toArray(),version:qd(e.version)}}var o,s;return r}function nw(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function qd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wd(n){const e=new Ir(n.seconds,n.nanoseconds);return nt.fromTimestamp(e)}function Gd(n,e){const t=(e.baseMutations||[]).map(o=>gD(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>gD(n.ut,o)),i=Ir.fromMillis(e.localWriteTimeMs);return new cD(e.batchId,i,t,r)}function d_(n){const e=Wd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wd(n.lastLimboFreeSnapshotVersion):nt.min();let r;return r=void 0!==n.query.documents?(Je(1===(o=n.query).documents.length),Ro(vf(Lz(o.documents[0])))):function(o){return Ro(jz(o))}(n.query),new Ec(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,wi.fromBase64String(n.resumeToken));var o}function Kz(n,e){const t=qd(e.snapshotVersion),r=qd(e.lastLimboFreeSnapshotVersion);let i;i=K0(e.target)?zz(n.ut,e.target):_D(n.ut,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jd(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bD(n){const e=jz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Y0(e,e.limit,"L"):e}function vD(n,e){return new dD(e.largestBatchId,gD(n.ut,e.overlayMutation))}function Qz(n,e){const t=e.path.lastSegment();return[n,oo(e.path.popLast()),t]}function Yz(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:qd(r.readTime),documentKey:oo(r.documentKey.path),largestBatchId:r.largestBatchId}}class kie{getBundleMetadata(e,t){return Xz(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Wd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Xz(e).put({bundleId:(i=t).id,createTime:qd(Jr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Zz(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:bD(o.bundledQuery),readTime:Wd(o.readTime)};var o})}saveNamedQuery(e,t){return Zz(e).put({name:(i=t).name,readTime:qd(Jr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Xz(n){return Ri(n,"bundles")}function Zz(n){return Ri(n,"namedQueries")}class rw{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new rw(e,t.uid||"")}getOverlay(e,t){return u_(e).get(Qz(this.userId,t)).next(r=>r?vD(this.serializer,r):null)}getOverlays(e,t){const r=ka();return $.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,s)=>{const a=new dD(t,s);i.push(this.lt(e,a))}),$.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(s=>i.add(oo(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(u_(e).j("collectionPathOverlayIndex",a))}),$.waitFor(o)}getOverlaysForCollection(e,t,r){const i=ka(),o=oo(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return u_(e).U("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=vD(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=ka();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return u_(e).J({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{const m=vD(this.serializer,l);o.size()<i||m.largestBatchId===s?(o.set(m.getKey(),m),s=m.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return u_(e).put(function(i,o,s){const[a,c,l]=Qz(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:l_(i.ut,s.mutation)}}(this.serializer,this.userId,t))}}function u_(n){return Ri(n,"documentOverlays")}class Kd{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Br(e.integerValue));else if("doubleValue"in e){const r=Br(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Wg(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(t,20),"string"==typeof r&&(r=_c(r)),t.dt(`${r.seconds||""}`),t.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(bc(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?zU(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):ze()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),De.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Rie(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Jz(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=Rie(255&r[o]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Kd.St=new Kd;class Mie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Lt(e),r=Jz(t);this.Bt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Lt(e),r=Jz(t);this.Bt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Pie{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Fie{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class h_{constructor(){this.Wt=new Mie,this.Gt=new Pie(this.Wt),this.zt=new Fie(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Qd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Qd(this.indexId,this.documentKey,this.arrayValue,r)}}function Cl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ej(n.arrayValue,e.arrayValue),0!==t?t:(t=ej(n.directionalValue,e.directionalValue),0!==t?t:De.comparator(n.documentKey,e.documentKey)))}function ej(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class tj{constructor(e){this.Jt=new Qn((t,r)=>vr.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Je(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=GA(e);if(void 0!==t&&!this.tn(t))return!1;const r=Vd(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<r.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],r[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Qn(vr.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Bd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Bd(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Bd(r.field,"asc"===r.dir?0:1)));return new mf(mf.UNKNOWN_ID,this.collectionId,t,pf.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function nj(n){var e,t;if(Je(n instanceof pn||n instanceof jn),n instanceof pn){if(n instanceof JU){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>pn.create(n.field,"==",o)))||[];return jn.create(i,"or")}return n}const r=n.filters.map(i=>nj(i));return jn.create(r,n.op)}function Nie(n){if(0===n.getFilters().length)return[];const e=ED(nj(n));return Je(rj(e)),yD(e)||wD(e)?[e]:e.getFilters()}function yD(n){return n instanceof pn}function wD(n){return n instanceof jn&&tD(n)}function rj(n){return yD(n)||wD(n)||function(t){if(t instanceof jn&&eD(t)){for(const r of t.getFilters())if(!yD(r)&&!wD(r))return!1;return!0}return!1}(n)}function ED(n){if(Je(n instanceof pn||n instanceof jn),n instanceof pn)return n;if(1===n.filters.length)return ED(n.filters[0]);const e=n.filters.map(r=>ED(r));let t=jn.create(e,n.op);return t=iw(t),rj(t)?t:(Je(t instanceof jn),Je(bf(t)),Je(t.filters.length>1),t.filters.reduce((r,i)=>ID(r,i)))}function ID(n,e){let t;return Je(n instanceof pn||n instanceof jn),Je(e instanceof pn||e instanceof jn),t=n instanceof pn?e instanceof pn?jn.create([n,e],"and"):ij(n,e):e instanceof pn?ij(e,n):function(i,o){if(Je(i.filters.length>0&&o.filters.length>0),bf(i)&&bf(o))return YU(i,o.getFilters());const s=eD(i)?i:o,a=eD(i)?o:i,c=s.filters.map(l=>ID(l,a));return jn.create(c,"or")}(n,e),iw(t)}function ij(n,e){if(bf(e))return YU(e,n.getFilters());{const t=e.filters.map(r=>ID(n,r));return jn.create(t,"or")}}function iw(n){if(Je(n instanceof pn||n instanceof jn),n instanceof pn)return n;const e=n.getFilters();if(1===e.length)return iw(e[0]);if(KU(n))return n;const t=e.map(i=>iw(i)),r=[];return t.forEach(i=>{i instanceof pn?r.push(i):i instanceof jn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:jn.create(r,n.op)}class Oie{constructor(){this.on=new xD}addToCollectionParentIndex(e,t){return this.on.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(ls.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}}class xD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qn(mn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn(mn.comparator)).toArray()}}const ow=new Uint8Array(0);class Lie{constructor(e,t){this.databaseId=t,this._n=new xD,this.an=new yc(r=>jd(r),(r,i)=>Zg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:r,parent:oo(i)};return oj(e).put(o)}return $.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[vU(t),""],!1,!0);return oj(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==t)break;r.push(Da(s.parent))}return r})}addFieldIndex(e,t){const r=f_(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const o=r.add(i);if(t.indexState){const s=Sf(e);return o.next(a=>{s.put(Yz(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=f_(e),i=Sf(e),o=Df(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=f_(e),r=Df(e),i=Sf(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return $.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new tj(r).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Df(e);let i=!0;const o=new Map;return $.forEach(this.un(t),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=$t();const a=[];return $.forEach(o,(c,l)=>{var B;ue("IndexedDbIndexManager",`Using index ${B=c,`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(X=>`${X.fieldPath}:${X.kind}`).join(",")}`} to execute ${jd(t)}`);const h=function(B,X){const we=GA(X);if(void 0===we)return null;for(const Me of Q0(B,we.fieldPath))switch(Me.op){case"array-contains-any":return Me.value.arrayValue.values||[];case"array-contains":return[Me.value]}return null}(l,c),m=function(B,X){const we=new Map;for(const Me of Vd(X))for(const st of Q0(B,Me.fieldPath))switch(st.op){case"==":case"in":we.set(Me.fieldPath.canonicalString(),st.value);break;case"not-in":case"!=":return we.set(Me.fieldPath.canonicalString(),st.value),Array.from(we.values())}return null}(l,c),g=function(B,X){const we=[];let Me=!0;for(const st of Vd(X)){const Kt=0===st.kind?ez(B,st.fieldPath,B.startAt):tz(B,st.fieldPath,B.startAt);we.push(Kt.value),Me&&(Me=Kt.inclusive)}return new Il(we,Me)}(l,c),_=function(B,X){const we=[];let Me=!0;for(const st of Vd(X)){const Kt=0===st.kind?tz(B,st.fieldPath,B.endAt):ez(B,st.fieldPath,B.endAt);we.push(Kt.value),Me&&(Me=Kt.inclusive)}return new Il(we,Me)}(l,c),v=this.ln(c,l,g),x=this.ln(c,l,_),T=this.hn(c,l,m),P=this.Pn(c.indexId,h,v,g.inclusive,x,_.inclusive,T);return $.forEach(P,F=>r.G(F,t.limit).next(B=>{B.forEach(X=>{const we=De.fromSegments(X.documentKey);s.has(we)||(s=s.add(we),a.push(we))})}))}).next(()=>a)}return $.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Nie(jn.create(e.filters,"and")).map(r=>rD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,o,s,a){const c=(null!=t?t.length:1)*Math.max(r.length,o.length),l=c/(null!=t?t.length:1),h=[];for(let m=0;m<c;++m){const g=t?this.In(t[m/l]):ow,_=this.Tn(e,g,r[m%l],i),v=this.En(e,g,o[m%l],s),x=a.map(T=>this.Tn(e,g,T,!0));h.push(...this.createRange(_,v,x))}return h}Tn(e,t,r,i){const o=new Qd(e,De.empty(),t,r);return i?o:o.Ht()}En(e,t,r,i){const o=new Qd(e,De.empty(),t,r);return i?o.Ht():o}cn(e,t){const r=new tj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const i=this.un(t);return $.forEach(i,o=>this.cn(e,o).next(s=>{s?0!==r&&s.fields.length<function(c){let l=new Qn(vr.comparator),h=!1;for(const m of c.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:l=l.add(g.field));for(const m of c.orderBy)m.field.isKeyField()||(l=l.add(m.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new h_;for(const i of Vd(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const s=r.jt(i.kind);Kd.St.ht(o,s)}return r.Ut()}In(e){const t=new h_;return Kd.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new h_;return Kd.St.ht(zd(this.databaseId,t),r.jt(function(o){const s=Vd(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new h_);let o=0;for(const s of Vd(e)){const a=r[o++];for(const c of i)if(this.Rn(t,s.fieldPath)&&Qg(a))i=this.Vn(i,s,a);else{const l=c.jt(s.kind);Kd.St.ht(a,l)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new h_;c.seed(a.Ut()),Kd.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(r=>r instanceof pn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=f_(e),i=Sf(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{const s=[];return $.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,m){const g=m?new pf(m.sequenceNumber,new ls(Wd(m.readTime),new De(Da(m.documentKey)),m.largestBatchId)):pf.empty(),_=h.fields.map(([v,x])=>new Bd(vr.fromServerFormat(v),x));return new mf(h.indexId,h.collectionGroup,_,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Pt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=f_(e),o=Sf(e);return this.fn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>$.forEach(a,c=>o.put(Yz(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){const r=new Map;return $.forEach(t,(i,o)=>{const s=r.get(i.collectionGroup);return(s?$.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),$.forEach(a,c=>this.gn(e,i,c).next(l=>{const h=this.pn(o,c);return l.isEqual(h)?$.resolve():this.yn(e,o,c,l,h)}))))})}wn(e,t,r,i){return Df(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return Df(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=Df(e);let o=new Qn(Cl);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(s,a)=>{o=o.add(new Qd(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let r=new Qn(Cl);const i=this.dn(t,e);if(null==i)return r;const o=GA(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Qg(s))for(const a of s.arrayValue.values||[])r=r.add(new Qd(t.indexId,e.key,this.In(a),i))}else r=r.add(new Qd(t.indexId,e.key,ow,i));return r}yn(e,t,r,i,o){ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,l,h,m,g){const _=c.getIterator(),v=l.getIterator();let x=gf(_),T=gf(v);for(;x||T;){let P=!1,F=!1;if(x&&T){const B=h(x,T);B<0?F=!0:B>0&&(P=!0)}else null!=x?F=!0:P=!0;P?(m(T),T=gf(v)):F?(g(x),x=gf(_)):(x=gf(_),T=gf(v))}}(i,o,Cl,a=>{s.push(this.wn(e,t,r,a))},a=>{s.push(this.Sn(e,t,r,a))}),$.waitFor(s)}fn(e){let t=1;return Sf(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Cl(s,a)).filter((s,a,c)=>!a||0!==Cl(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=Cl(s,e),c=Cl(s,t);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(s),i.push(s.Ht());else if(c>0)break}i.push(t);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,ow,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,ow,[]]))}return o}bn(e,t){return Cl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sj)}getMinOffset(e,t){return $.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||ze())).next(sj)}}function oj(n){return Ri(n,"collectionParents")}function Df(n){return Ri(n,"indexEntries")}function f_(n){return Ri(n,"indexConfiguration")}function Sf(n){return Ri(n,"indexState")}function sj(n){Je(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;KA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ls(e.readTime,e.documentKey,t)}const aj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class so{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new so(e,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cj(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=r.J({range:s},(h,m,g)=>(a++,g.delete()));o.push(c.next(()=>{Je(1===a)}));const l=[];for(const h of t.mutations){const m=SU(e,h.key.path,t.batchId);o.push(i.delete(m)),l.push(h.key)}return $.waitFor(o).next(()=>l)}function sw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ze();e=n.noDocument}return JSON.stringify(e).length}so.DEFAULT_COLLECTION_PERCENTILE=10,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,so.DEFAULT=new so(41943040,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),so.DISABLED=new so(-1,0,0);class aw{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){Je(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new aw(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=kf(e),s=Tl(e);return s.add({}).next(a=>{Je("number"==typeof a);const c=new cD(a,t,r,i),l=function(_,v,x){const T=x.baseMutations.map(F=>l_(_.ut,F)),P=x.mutations.map(F=>l_(_.ut,F));return{userId:v,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:T,mutations:P}}(this.serializer,this.userId,c),h=[];let m=new Qn((g,_)=>Pt(g.canonicalString(),_.canonicalString()));for(const g of i){const _=SU(this.userId,g.key.path,a);m=m.add(g.key.path.popLast()),h.push(s.put(l)),h.push(o.put(_,Cre))}return m.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),$.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return Tl(e).get(t).next(r=>r?(Je(r.userId===this.userId),Gd(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?$.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Tl(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(Je(a.batchId>=r),o=Gd(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Tl(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).U("userMutationsIndex",t).next(r=>r.map(i=>Gd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=z0(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return kf(e).J({range:i},(s,a,c)=>{const[l,h,m]=s,g=Da(h);if(l===this.userId&&t.path.isEqual(g))return Tl(e).get(m).next(_=>{if(!_)throw ze();Je(_.userId===this.userId),o.push(Gd(this.serializer,_))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Pt);const i=[];return t.forEach(o=>{const s=z0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=kf(e).J({range:a},(l,h,m)=>{const[g,_,v]=l,x=Da(_);g===this.userId&&o.path.isEqual(x)?r=r.add(v):m.done()});i.push(c)}),$.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=z0(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Qn(Pt);return kf(e).J({range:s},(c,l,h)=>{const[m,g,_]=c,v=Da(g);m===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(_)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Tl(e).get(o).next(s=>{if(null===s)throw ze();Je(s.userId===this.userId),r.push(Gd(this.serializer,s))}))}),$.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return cj(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),$.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return kf(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=Da(o[1]);i.push(c)}else a.done()}).next(()=>{Je(0===i.length)})})}containsKey(e,t){return lj(e,this.userId,t)}Mn(e){return dj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lj(n,e,t){const r=z0(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return kf(n).J({range:o,H:!0},(a,c,l)=>{const[h,m,g]=a;h===e&&m===i&&(s=!0),l.done()}).next(()=>s)}function Tl(n){return Ri(n,"mutations")}function kf(n){return Ri(n,"documentMutations")}function dj(n){return Ri(n,"mutationQueues")}class Yd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Yd(0)}static Nn(){return new Yd(-1)}}class Vie{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next(t=>{const r=new Yd(t.highestTargetId);return t.highestTargetId=r.next(),this.Bn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(t=>nt.fromTimestamp(new Ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Ln(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Bn(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Ln(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Bn(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Rf(e).delete(t.targetId)).next(()=>this.Ln(e)).next(r=>(Je(r.targetCount>0),r.targetCount-=1,this.Bn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Rf(e).J((s,a)=>{const c=d_(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>$.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Rf(e).J((r,i)=>{const o=d_(i);t(o)})}Ln(e){return uj(e).get("targetGlobalKey").next(t=>(Je(null!==t),t))}Bn(e,t){return uj(e).put("targetGlobalKey",t)}kn(e,t){return Rf(e).put(Kz(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ln(e).next(t=>t.targetCount)}getTargetData(e,t){const r=jd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Rf(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=d_(a);Zg(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Al(e);return t.forEach(s=>{const a=oo(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),$.waitFor(i)}removeMatchingKeys(e,t,r){const i=Al(e);return $.forEach(t,o=>{const s=oo(o.path);return $.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Al(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Al(e);let o=$t();return i.J({range:r,H:!0},(s,a,c)=>{const l=Da(s[1]),h=new De(l);o=o.add(h)}).next(()=>o)}containsKey(e,t){const r=oo(t.path),i=IDBKeyRange.bound([r],[vU(r)],!1,!0);let o=0;return Al(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}ot(e,t){return Rf(e).get(t).next(r=>r?d_(r):null)}}function Rf(n){return Ri(n,"targets")}function uj(n){return Ri(n,"targetGlobal")}function Al(n){return Ri(n,"targetDocuments")}function hj([n,e],[t,r]){const i=Pt(n,t);return 0===i?Pt(e,r):i}class Bie{constructor(e){this.Qn=e,this.buffer=new Qn(hj),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hj(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.A)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){_l(r)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield gl(r)}yield t.Gn(3e5)}))}}class Uie{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return $.resolve(ds.oe);const r=new Bie(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(aj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aj):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,o,s,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(l=Date.now(),hf()<=Ea.$b.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${m} documents in `+(l-c)+`ms\nTotal Duration: ${l-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}}class zie{constructor(e,t){this.db=e,this.garbageCollector=function mj(n,e){return new Uie(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return cw(e,r)}removeReference(e,t,r){return cw(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return cw(e,t)}Xn(e,t){return function(i,o){let s=!1;return dj(i).Y(a=>lj(i,a,o).next(c=>(c&&(s=!0),$.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,nt.min()),Al(e).delete([0,oo(s.path)])))});i.push(c)}}).next(()=>$.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return cw(e,t)}Zn(e,t){const r=Al(e);let i,o=ds.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==ds.oe&&t(new De(Da(i)),o),o=l,i=c):o=ds.oe}).next(()=>{o!==ds.oe&&t(new De(Da(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cw(n,e){return Al(n).put((i=n.currentSequenceNumber,{targetId:0,path:oo(e.path),sequenceNumber:i}));var i}class pj{constructor(){this.changes=new yc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jie{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Xd(e).put(r)}removeEntry(e,t,r){return Xd(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],nw(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=yr.newInvalidDocument(t);return Xd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(m_(t))},(i,o)=>{r=this.tr(t,o)}).next(()=>r)}nr(e,t){let r={size:0,document:yr.newInvalidDocument(t)};return Xd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(m_(t))},(i,o)=>{r={document:this.tr(t,o),size:sw(o)}}).next(()=>r)}getEntries(e,t){let r=Ko();return this.rr(e,t,(i,o)=>{const s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,t){let r=Ko(),i=new ur(De.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,sw(s))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return $.resolve();let i=new Qn(vj);t.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(m_(i.first()),m_(i.last())),s=i.getIterator();let a=s.getNext();return Xd(e).J({index:"documentKeyIndex",range:o},(c,l,h)=>{const m=De.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&vj(a,m)<0;)r(a,null),a=s.getNext();a&&a.isEqual(m)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.$(m_(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),nw(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xd(e).U(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=Ko();for(const m of l){const g=this.tr(De.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);g.isFoundDocument()&&(e_(t,g)||i.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,r,i){let o=Ko();const s=bj(t,r),a=bj(t,ls.max());return Xd(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{const m=this.tr(De.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(m.key,m),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new $ie(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _j(e).get("remoteDocumentGlobalKey").next(t=>(Je(!!t),t))}er(e,t){return _j(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function Sie(n,e){let t;if(e.document)t=Uz(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=De.fromSegments(e.noDocument.path),i=Wd(e.noDocument.readTime);t=yr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ze();{const r=De.fromSegments(e.unknownDocument.path),i=Wd(e.unknownDocument.version);t=yr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Ir(i[0],i[1]);return nt.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(nt.min()))return r}return yr.newInvalidDocument(e)}}function gj(n){return new jie(n)}class $ie extends pj{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new yc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Qn((o,s)=>Pt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=Gz(this._r.serializer,s);i=i.add(o.path.popLast());const l=sw(c);r+=l-a.size,t.push(this._r.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=Gz(this._r.serializer,s.convertToNoDocument(nt.min()));t.push(this._r.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,r)),$.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function _j(n){return Ri(n,"remoteDocumentGlobal")}function Xd(n){return Ri(n,"remoteDocumentsV14")}function m_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bj(n,e){const t=e.documentKey.path.toArray();return[n,nw(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function vj(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Pt(t[o],r[o]),i)return i;return i=Pt(t.length,r.length),i||(i=Pt(t[t.length-2],r[r.length-2]),i||Pt(t[t.length-1],r[r.length-1]))}class Hie{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&i_(r.mutation,i,Go.empty(),Ir.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$t()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$t()){const i=ka();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=t_();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$t()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ko();const s=n_(),a=n_();return t.forEach((c,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof wc)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),i_(h.mutation,l,h.mutation.getFieldMask(),Ir.now())):s.set(l.key,Go.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var m;return a.set(l,new Hie(h,null!==(m=s.get(l))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=n_();let i=new ur((s,a)=>s-a),o=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let h=r.get(c)||Go.empty();h=a.applyToLocalView(l,h),r.set(c,h);const m=(i.get(a.batchId)||$t()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,m=dz();h.forEach(g=>{if(!o.has(g)){const _=vz(t.get(g),r.get(g));null!==_&&m.set(g,_),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,m))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return De.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):iD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):$.resolve(ka());let a=-1,c=o;return s.next(l=>$.forEach(l,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,$t())).next(h=>({batchId:a,changes:lz(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let i=t_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=t_();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,c=>{const l=(m=t,g=c.child(o),new vc(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,g;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,yr.newInvalidDocument(h)))});let a=t_();return s.forEach((c,l)=>{const h=o.get(c);void 0!==h&&i_(h.mutation,l,Go.empty(),Ir.now()),e_(t,l)&&(a=a.insert(c,l))}),a})}}class qie{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return $.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:Jr(i.createTime)}),$.resolve();var i}getNamedQuery(e,t){return $.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:bD(i.bundledQuery),readTime:Jr(i.readTime)}),$.resolve();var i}}class Wie{constructor(){this.overlays=new ur(De.comparator),this.lr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ka();return $.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.lt(e,t,o)}),$.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){const i=ka(),o=t.length+1,s=new De(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ur((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);null===h&&(h=ka(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=ka(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return $.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new dD(t,r));let o=this.lr.get(t);void 0===o&&(o=$t(),this.lr.set(t,o)),this.lr.set(t,o.add(r.key))}}class CD{constructor(){this.hr=new Qn(Mi.Pr),this.Ir=new Qn(Mi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Mi(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new De(new mn([])),r=new Mi(t,e),i=new Mi(t,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new De(new mn([])),r=new Mi(t,e),i=new Mi(t,e+1);let o=$t();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Mi(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return De.comparator(e.key,t.key)||Pt(e.gr,t.gr)}static Tr(e,t){return Pt(e.gr,t.gr)||De.comparator(e.key,t.key)}}class Gie{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Qn(Mi.Pr)}checkEmpty(e){return $.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.pr;this.pr++;const s=new cD(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Mi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,t){return $.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),i=new Mi(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Pt);return t.forEach(i=>{const o=new Mi(i,0),s=new Mi(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),$.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const s=new Mi(new De(o),0);let a=new Qn(Pt);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),$.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Je(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return $.forEach(t.mutations,i=>{const o=new Mi(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Mi(t,0),i=this.yr.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return $.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Kie{constructor(e){this.Cr=e,this.docs=new ur(De.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(t))}getEntries(e,t){let r=Ko();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():yr.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ko();const s=t.path,a=new De(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||KA(wU(h),r)<=0||(i.has(h.key)||e_(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ze()}vr(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Qie(this)}getSize(e){return $.resolve(this.size)}}class Qie extends pj{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Yie{constructor(e){this.persistence=e,this.Fr=new yc(t=>jd(t),Zg),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new CD,this.targetCount=0,this.Nr=Yd.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),$.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Yd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.kn(t),$.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),$.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.Or.containsKey(t))}}class TD{constructor(e,t){this.Lr={},this.overlays={},this.Br=new ds(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Yie(this),this.indexManager=new Oie,this.remoteDocumentCache=new Kie(r=>this.referenceDelegate.Qr(r)),this.serializer=new Wz(t),this.Kr=new qie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wie,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Lr[e.toKey()];return r||(r=new Gie(t,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new Xie(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,t){return $.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,t)))}}class Xie extends IU{constructor(e){super(),this.currentSequenceNumber=e}}class lw{constructor(e){this.persistence=e,this.Gr=new CD,this.zr=null}static jr(e){return new lw(e)}get Hr(){if(this.zr)return this.zr;throw ze()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),$.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Hr,r=>{const i=De.fromPath(r);return this.Jr(e,i).next(o=>{o||t.removeEntry(i,nt.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return $.or([()=>$.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Zie{constructor(e){this.serializer=e}O(e,t,r,i){const o=new U0("createOrUpgrade",t);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DU,{unique:!0}),c.createObjectStore("documentMutations"),wj(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=$.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),wj(e)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nt.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(c,l){return l.store("mutations").U().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DU,{unique:!0});const m=l.store("mutations"),g=h.map(_=>m.put(_));return $.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:Lre});l.createIndex("collectionPathOverlayIndex",Vre,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",Bre,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:Tre});l.createIndex("documentKeyIndex",Are),l.createIndex("collectionGroupIndex",Dre)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Pre}).createIndex("sequenceNumberIndex",Fre,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Nre}).createIndex("documentKeyIndex",Ore,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),s}Xr(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=sw(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>$.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>$.forEach(a,c=>{Je(c.userId===o.userId);const l=Gd(this.serializer,c);return cj(e,o.userId,l).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const c=new mn(s),l=[0,oo(c)];o.push(t.get(l).next(h=>h?$.resolve():t.put({targetId:0,path:oo(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>$.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Mre});const r=t.store("collectionParents"),i=new xD,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:oo(c)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{const c=new mn(s);return o(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,c],l)=>{const h=Da(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.J((r,i)=>{const o=d_(i),s=Kz(this.serializer,o);return t.put(s)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(m=s,m.document?new De(mn.fromString(m.document.name).popFirst(5)):m.noDocument?De.fromSegments(m.noDocument.path):m.unknownDocument?De.fromSegments(m.unknownDocument.path):ze()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var m;i.push(a.put(l))}).next(()=>$.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=gj(this.serializer),o=new TD(lw.jr,this.serializer.ut);return r.U().next(s=>{const a=new Map;return s.forEach(c=>{var l;let h=null!==(l=a.get(c.userId))&&void 0!==l?l:$t();Gd(this.serializer,c).keys().forEach(m=>h=h.add(m)),a.set(c.userId,h)}),$.forEach(a,(c,l)=>{const h=new ki(l),m=rw.ct(this.serializer,h),g=o.getIndexManager(h),_=aw.ct(h,this.serializer,g,o.referenceDelegate);return new yj(i,_,m,g).recalculateAndSaveOverlaysForDocumentKeys(new XA(t,ds.oe),c).next()})})}}function wj(n){n.createObjectStore("targetDocuments",{keyPath:kre}).createIndex("documentTargetsIndex",Rre,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sre,{unique:!0}),n.createObjectStore("targetGlobal")}const AD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DD{constructor(e,t,r,i,o,s,a,c,l,h,m=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=h,this.ai=m,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!DD.D())throw new le(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zie(this,i),this.Ii=t+"main",this.serializer=new Wz(c),this.Ti=new Aa(this.Ii,this.ai,new Zie(this.serializer)),this.qr=new Vie(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gj(this.serializer),this.Kr=new kie,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,AD);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new ds(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,y.A)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,y.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,y.A)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(_l(e))return ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return p_(e).get("owner").next(t=>$.resolve(this.wi(t)))}Si(e){return uw(e).delete(this.clientId)}bi(){var e=this;return(0,y.A)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ri(r,"clientMetadata");return i.U().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return $.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?$.resolve(!0):p_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,AD);return!1}}return!(!this.networkEnabled||!this.inForeground)||uw(e).U().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,y.A)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new XA(t,ds.oe);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>uw(e).U().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return aw.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Lie(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return rw.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=16===(c=this.ai)?zre:15===c?PU:14===c?MU:13===c?RU:12===c?Ure:11===c?kU:void ze();var c;let s;return this.Ti.runTransaction(e,i,o,a=>(s=new XA(a,this.Br?this.Br.next():ds.oe),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw Zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new le(W.FAILED_PRECONDITION,EU);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Bi(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Bi(e){return p_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new le(W.FAILED_PRECONDITION,AD)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return p_(e).put("owner",t)}static D(){return Aa.D()}pi(e){const t=p_(e);return t.get("owner").next(r=>this.wi(r)?(ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(Zr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,jt.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Zr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Zr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function p_(n){return Ri(n,"owner")}function uw(n){return Ri(n,"clientMetadata")}function SD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class kD{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=$t(),i=$t();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new kD(e,t.fromCache,r,i)}}class Jie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ej{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=(0,jt.nr)()?8:xU((0,jt.ZQ)())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Jie;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(hf()<=Ea.$b.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",wf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),$.resolve()):(hf()<=Ea.$b.DEBUG&&ue("QueryEngine","Query:",wf(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(hf()<=Ea.$b.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",wf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ro(t))):$.resolve())}zi(e,t){if(rz(t))return $.resolve(null);let r=Ro(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Y0(t,null,"F"),r=Ro(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=$t(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(t,a);return this.Zi(t,l,s,c.readTime)?this.zi(e,Y0(t,null,"F")):this.Xi(e,l,t,c)}))})))}ji(e,t,r,i){return rz(t)||i.isEqual(nt.min())?$.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,r,i)?$.resolve(null):(hf()<=Ea.$b.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wf(t)),this.Xi(e,s,t,yU(i,-1)).next(a=>a))})}Yi(e,t){let r=new Qn(az(e));return t.forEach((i,o)=>{e_(e,o)&&(r=r.add(o))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,t,r){return hf()<=Ea.$b.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",wf(t)),this.Gi.getDocumentsMatchingQuery(e,t,ls.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class eoe{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new ur(Pt),this.ns=new yc(o=>jd(o),Zg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yj(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function Ij(n,e,t,r){return new eoe(n,e,t,r)}function xj(n,e){return RD.apply(this,arguments)}function RD(){return RD=(0,y.A)(function*(n,e){const t=Te(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=$t();for(const l of i){s.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),RD.apply(this,arguments)}function Cj(n){const e=Te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Tj(n,e,t){let r=$t(),i=$t();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ko();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(nt.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}function roe(n,e){const t=Te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mf(n,e){const t=Te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):t.qr.allocateTargetId(r).next(s=>(i=new Ec(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function Pf(n,e,t){return MD.apply(this,arguments)}function MD(){return MD=(0,y.A)(function*(n,e,t){const r=Te(n),i=r.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!_l(s))throw s;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),MD.apply(this,arguments)}function hw(n,e,t){const r=Te(n);let i=nt.min(),o=$t();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){const m=Te(c),g=m.ns.get(h);return void 0!==g?$.resolve(m.ts.get(g)):m.qr.getTargetData(l,h)}(r,s,Ro(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,t?i:nt.min(),t?o:$t())).next(a=>(Sj(r,sz(e),a),{documents:a,ls:o})))}function Aj(n,e){const t=Te(n),r=Te(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function Dj(n,e){const t=Te(n),r=t.rs.get(e)||nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,yU(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Sj(t,e,i),i))}function Sj(n,e,t){let r=n.rs.get(e)||nt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.rs.set(e,r)}function PD(){return PD=(0,y.A)(function*(n,e,t,r){const i=Te(n);let o=$t(),s=Ko();for(const l of t){const h=e.hs(l.metadata.name);l.document&&(o=o.add(h));const m=e.Ps(l);m.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(h,m)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield Mf(i,(h=r,Ro(vf(mn.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>Tj(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),PD.apply(this,arguments)}function ooe(n,e){return FD.apply(this,arguments)}function FD(){return FD=(0,y.A)(function*(n,e,t=$t()){const r=yield Mf(n,Ro(bD(e.bundledQuery))),i=Te(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Jr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(o,e);const a=r.withResumeToken(wi.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(o,a).next(()=>i.qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.qr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(o,e))})}),FD.apply(this,arguments)}function kj(n,e){return`firestore_clients_${n}_${e}`}function Rj(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ND(n,e){return`firestore_targets_${n}_${e}`}class fw{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new le(i.error.code,i.error.message))),s?new fw(e,t,i.state,o):(Zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class g_{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new le(r.error.code,r.error.message))),o?new g_(e,r.state,i):(Zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=sD();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=TU(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new mw(e,o):(Zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class OD{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new OD(t.clientId,t.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class LD{constructor(){this.activeTargetIds=sD()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VD{constructor(e,t,r,i,o){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ur(Pt),this.started=!1,this.ps=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=kj(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new LD),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.A)(function*(){const t=yield e.syncEngine.Li();for(const i of t){if(i===e.Rs)continue;const o=e.getItem(kj(e.persistenceKey,i));if(o){const s=mw.Ts(i,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ND(this.persistenceKey,e));if(r){const i=g_.Ts(e,r);i&&(t=i.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ND(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ls(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue("SharedClientState","READ",e,t),t}setItem(e,t){ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,y.A)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(s){let a=ds.oe;if(null!=s)try{const c=JSON.parse(s);Je("number"==typeof c),a=c}catch(c){Zr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==ds.oe&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(r)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,r){const i=new fw(this.currentUser,e,t,r),o=Rj(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Ls(e){const t=Rj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=ND(this.persistenceKey,e),o=new g_(e,t,r);this.setItem(i,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return mw.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return fw.Ts(new ki(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return g_.Ts(i,t)}Ms(e){return OD.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,y.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=sD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Mj{constructor(){this.eo=new LD,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new LD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class soe{ro(e){}shutdown(){}}class Pj{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pw=null;function BD(){return null===pw?pw=268435456+Math.round(2147483648*Math.random()):pw++,"0x"+pw.toString(16)}const aoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class coe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const ao="WebChannelConnection";class loe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+t.host,this.wo=`projects/${i}/databases/${o}`,this.So="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(t,r,i,o,s){const a=BD(),c=this.Co(t,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(l,o,s),this.Fo(t,c,l,i).then(h=>(ue("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Wo("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Mo(t,r,i,o,s,a){return this.Do(t,r,i,o,s)}vo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+uf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}Co(t,r){return`${this.yo}/v1/${r}:${aoe[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,r,i){const o=BD();return new Promise((s,a)=>{const c=new sre;c.setWithCredentials(!0),c.listenOnce(rre.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case qA.NO_ERROR:const h=c.getResponseJson();ue(ao,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case qA.TIMEOUT:ue(ao,`RPC '${e}' ${o} timed out`),a(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case qA.HTTP_ERROR:const m=c.getStatus();if(ue(ao,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g?.error;if(_&&_.status&&_.message){const v=function(T){const P=T.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(P)>=0?P:W.UNKNOWN}(_.status);a(new le(v,_.message))}else a(new le(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new le(W.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{ue(ao,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);ue(ao,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",l,r,15)})}xo(e,t,r){const i=BD(),o=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tre(),a=nre(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new ore({})),this.vo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const h=o.join("");ue(ao,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);let g=!1,_=!1;const v=new coe({co:T=>{_?ue(ao,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(g||(ue(ao,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),ue(ao,`RPC '${e}' stream ${i} sending:`,T),m.send(T))},lo:()=>m.close()}),x=(T,P,F)=>{T.listen(P,B=>{try{F(B)}catch(X){setTimeout(()=>{throw X},0)}})};return x(m,B0.EventType.OPEN,()=>{_||(ue(ao,`RPC '${e}' stream ${i} transport opened.`),v.Vo())}),x(m,B0.EventType.CLOSE,()=>{_||(_=!0,ue(ao,`RPC '${e}' stream ${i} transport closed`),v.fo())}),x(m,B0.EventType.ERROR,T=>{_||(_=!0,Wo(ao,`RPC '${e}' stream ${i} transport errored:`,T),v.fo(new le(W.UNAVAILABLE,"The operation could not be completed")))}),x(m,B0.EventType.MESSAGE,T=>{var P;if(!_){const F=T.data[0];Je(!!F);const X=F.error||(null===(P=F[0])||void 0===P?void 0:P.error);if(X){ue(ao,`RPC '${e}' stream ${i} received error:`,X);const we=X.status;let Me=function(uo){const ra=ui[uo];if(void 0!==ra)return Cz(ra)}(we),st=X.message;void 0===Me&&(Me=W.INTERNAL,st="Unknown error status: "+we+" with message "+X.message),_=!0,v.fo(new le(Me,st)),m.close()}else ue(ao,`RPC '${e}' stream ${i} received:`,F),v.po(F)}}),x(a,ire.STAT_EVENT,T=>{T.stat===mU.PROXY?ue(ao,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===mU.NOPROXY&&ue(ao,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.mo()},0),v}}function Fj(){return typeof window<"u"?window:null}function gw(){return typeof document<"u"?document:null}function __(n){return new vie(n,!0)}class UD{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class Nj{constructor(e,t,r,i,o,s,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new UD(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}stop(){var e=this;return(0,y.A)(function*(){e.Yo()&&(yield e.close(0))})()}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){var e=this;return(0,y.A)(function*(){if(e.Zo())return e.close(0)})()}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,t){var r=this;return(0,y.A)(function*(){r.i_(),r.s_(),r.Jo.cancel(),r.zo++,4!==e?r.Jo.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),r.Jo.Qo()):t&&t.code===W.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.o_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===t&&this.a_(r,i)},r=>{e(()=>{const i=new le(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,t){const r=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){var e=this;this.state=5,this.Jo.Ko((0,y.A)(function*(){e.state=0,e.start()}))}u_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget(()=>this.zo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class doe extends Nj{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function Eie(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:ze(),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Je(void 0===h||"string"==typeof h),wi.fromBase64String(h||"")):(Je(void 0===h||h instanceof Buffer||h instanceof Uint8Array),wi.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?W.UNKNOWN:Cz(l.code);return new le(h,l.message||"")}(s);t=new kz(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ra(n,r.document.name),o=Jr(r.document.updateTime),s=r.document.createTime?Jr(r.document.createTime):nt.min(),a=new Gi({mapValue:{fields:r.document.fields}}),c=yr.newFoundDocument(i,o,s,a);t=new tw(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ra(n,r.document),o=r.readTime?Jr(r.readTime):nt.min(),s=yr.newNoDocument(i,o);t=new tw([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Ra(n,r.document);t=new tw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ze();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new fie(i,o);t=new Sz(r.targetId,s)}}var l;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return nt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?nt.min():s.readTime?Jr(s.readTime):nt.min()}(e);return this.listener.l_(t,r)}h_(e){const t={};t.database=pD(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=K0(c)?{documents:zz(o,c)}:{query:_D(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Fz(o,s.resumeToken);const l=hD(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(nt.min())>0){a.readTime=Tf(o,s.snapshotVersion.toTimestamp());const l=hD(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function xie(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.r_(t)}P_(e){const t={};t.database=pD(this.serializer),t.removeTarget=e,this.r_(t)}}class uoe extends Nj{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function Iie(n,e){return n&&n.length>0?(Je(void 0!==e),n.map(t=>function(i,o){let s=Jr(i.updateTime?i.updateTime:o);return s.isEqual(nt.min())&&(s=Jr(o)),new lie(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.d_(r,t)}return Je(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=pD(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>l_(this.serializer,r))};this.r_(t)}}class hoe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(e,mD(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(W.UNKNOWN,o.toString())})}Mo(e,t,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,mD(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(W.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class moe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Zr(t),this.y_=!1):ue("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class poe{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(a=>{r.enqueueAndForget((0,y.A)(function*(){var c;Dl(s)&&(ue("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,y.A)(function*(h){const m=Te(h);m.M_.add(4),yield Ff(m),m.N_.set("Unknown"),m.M_.delete(4),yield b_(m)}),function l(h){return c.apply(this,arguments)})(s))}))}),this.N_=new moe(r,i)}}function b_(n){return jD.apply(this,arguments)}function jD(){return jD=(0,y.A)(function*(n){if(Dl(n))for(const e of n.x_)yield e(!0)}),jD.apply(this,arguments)}function Ff(n){return $D.apply(this,arguments)}function $D(){return $D=(0,y.A)(function*(n){for(const e of n.x_)yield e(!1)}),$D.apply(this,arguments)}function _w(n,e){const t=Te(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),WD(t)?qD(t):Lf(t).Zo()&&HD(t,e))}function Nf(n,e){const t=Te(n),r=Lf(t);t.F_.delete(e),r.Zo()&&Oj(t,e),0===t.F_.size&&(r.Zo()?r.t_():Dl(t)&&t.N_.set("Unknown"))}function HD(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lf(n).h_(e)}function Oj(n,e){n.L_.xe(e),Lf(n).P_(e)}function qD(n){n.L_=new pie({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Lf(n).start(),n.N_.w_()}function WD(n){return Dl(n)&&!Lf(n).Yo()&&n.F_.size>0}function Dl(n){return 0===Te(n).M_.size}function Lj(n){n.L_=void 0}function goe(n){return GD.apply(this,arguments)}function GD(){return GD=(0,y.A)(function*(n){n.N_.set("Online")}),GD.apply(this,arguments)}function _oe(n){return KD.apply(this,arguments)}function KD(){return KD=(0,y.A)(function*(n){n.F_.forEach((e,t)=>{HD(n,e)})}),KD.apply(this,arguments)}function boe(n,e){return QD.apply(this,arguments)}function QD(){return QD=(0,y.A)(function*(n,e){Lj(n),WD(n)?(n.N_.D_(e),qD(n)):n.N_.set("Unknown")}),QD.apply(this,arguments)}function voe(n,e,t){return YD.apply(this,arguments)}function YD(){return YD=(0,y.A)(function*(n,e,t){if(n.N_.set("Online"),e instanceof kz&&2===e.state&&e.cause)try{yield(r=(0,y.A)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.F_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.F_.delete(c),o.L_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bw(n,r)}else if(e instanceof tw?n.L_.Ke(e):e instanceof Sz?n.L_.He(e):n.L_.We(e),!t.isEqual(nt.min()))try{const r=yield Cj(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.F_.get(l);h&&o.F_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const h=o.F_.get(c);if(!h)return;o.F_.set(c,h.withResumeToken(wi.EMPTY_BYTE_STRING,h.snapshotVersion)),Oj(o,c);const m=new Ec(h.target,c,l,h.sequenceNumber);HD(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),yield bw(n,r)}var r}),YD.apply(this,arguments)}function bw(n,e,t){return XD.apply(this,arguments)}function XD(){return XD=(0,y.A)(function*(n,e,t){if(!_l(e))throw e;n.M_.add(1),yield Ff(n),n.N_.set("Offline"),t||(t=()=>Cj(n.localStore)),n.asyncQueue.enqueueRetryable((0,y.A)(function*(){ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield b_(n)}))}),XD.apply(this,arguments)}function Vj(n,e){return e().catch(t=>bw(n,t,e))}function Of(n){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,y.A)(function*(n){const e=Te(n),t=Sl(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;yoe(e);)try{const i=yield roe(e.localStore,r);if(null===i){0===e.v_.length&&t.t_();break}r=i.batchId,woe(e,i)}catch(i){yield bw(e,i)}Bj(e)&&Uj(e)}),ZD.apply(this,arguments)}function yoe(n){return Dl(n)&&n.v_.length<10}function woe(n,e){n.v_.push(e);const t=Sl(n);t.Zo()&&t.T_&&t.E_(e.mutations)}function Bj(n){return Dl(n)&&!Sl(n).Yo()&&n.v_.length>0}function Uj(n){Sl(n).start()}function Eoe(n){return JD.apply(this,arguments)}function JD(){return JD=(0,y.A)(function*(n){Sl(n).R_()}),JD.apply(this,arguments)}function Ioe(n){return eS.apply(this,arguments)}function eS(){return eS=(0,y.A)(function*(n){const e=Sl(n);for(const t of n.v_)e.E_(t.mutations)}),eS.apply(this,arguments)}function xoe(n,e,t){return tS.apply(this,arguments)}function tS(){return tS=(0,y.A)(function*(n,e,t){const r=n.v_.shift(),i=lD.from(r,e,t);yield Vj(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Of(n)}),tS.apply(this,arguments)}function Coe(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,y.A)(function*(n,e){var t;e&&Sl(n).T_&&(yield(t=(0,y.A)(function*(i,o){if(xz(a=o.code)&&a!==W.ABORTED){const s=i.v_.shift();Sl(i).e_(),yield Vj(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Of(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),Bj(n)&&Uj(n)}),nS.apply(this,arguments)}function zj(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,y.A)(function*(n,e){const t=Te(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=Dl(t);t.M_.add(3),yield Ff(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield b_(t)}),rS.apply(this,arguments)}function iS(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,y.A)(function*(n,e){const t=Te(n);e?(t.M_.delete(2),yield b_(t)):e||(t.M_.add(2),yield Ff(t),t.N_.set("Unknown"))}),oS.apply(this,arguments)}function Lf(n){return n.B_||(n.B_=function(t,r,i){const o=Te(t);return o.m_(),new doe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:goe.bind(null,n),Io:_oe.bind(null,n),Eo:boe.bind(null,n),l_:voe.bind(null,n)}),n.x_.push(function(){var e=(0,y.A)(function*(t){t?(n.B_.e_(),WD(n)?qD(n):n.N_.set("Unknown")):(yield n.B_.stop(),Lj(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function Sl(n){return n.k_||(n.k_=function(t,r,i){const o=Te(t);return o.m_(),new uoe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{ho:()=>Promise.resolve(),Io:Eoe.bind(null,n),Eo:Coe.bind(null,n),A_:Ioe.bind(null,n),d_:xoe.bind(null,n)}),n.x_.push(function(){var e=(0,y.A)(function*(t){t?(n.k_.e_(),yield Of(n)):(yield n.k_.stop(),n.v_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class sS{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new sS(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vf(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),_l(n))return new le(W.UNAVAILABLE,`${e}: ${n}`);throw n}class Bf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=t_(),this.sortedSet=new ur(this.comparator)}static emptySet(e){return new Bf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Bf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jj{constructor(){this.q_=new ur(De.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):ze():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Uf{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Uf(e,t,Bf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Toe{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Aoe{constructor(){this.queries=new yc(e=>oz(e),Jg),this.onlineState="Unknown",this.z_=new Set}}function aS(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,y.A)(function*(n,e){const t=Te(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new Toe,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield t.onListen(i,!0);break;case 1:o.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=Vf(s,`Initialization of query '${wf(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.U_.push(e),e.j_(t.onlineState),o.K_&&e.H_(o.K_)&&uS(t)}),cS.apply(this,arguments)}function lS(n,e){return dS.apply(this,arguments)}function dS(){return dS=(0,y.A)(function*(n,e){const t=Te(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),0===o.U_.length?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),dS.apply(this,arguments)}function Doe(n,e){const t=Te(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&uS(t)}function Soe(n,e,t){const r=Te(n),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(t);r.queries.delete(e)}function uS(n){n.z_.forEach(e=>{e.next()})}var hS,$j;($j=hS||(hS={})).J_="default",$j.Cache="cache";class fS{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Uf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Uf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==hS.Cache}}class koe{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class Hj{constructor(e){this.serializer=e}hs(e){return Ra(this.serializer,e)}Ps(e){return e.metadata.exists?Uz(this.serializer,e.document,!1):yr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Jr(e)}}class Roe{constructor(e,t,r){this.oa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qj(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const r=mn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,r=new Hj(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.hs(i.metadata.name);for(const s of i.metadata.queries){const a=(t.get(s)||$t()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,y.A)(function*(){const t=yield function ioe(n,e,t,r){return PD.apply(this,arguments)}(e.localStore,new Hj(e.serializer),e.documents,e.oa.id),r=e.aa(e.documents);for(const i of e.queries)yield ooe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:t}})()}}function qj(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Wj{constructor(e){this.key=e}}class Gj{constructor(e){this.key=e}}class Kj{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=$t(),this.mutatedKeys=$t(),this.Ia=az(e),this.Ta=new Bf(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new jj,i=t?t.Ta:this.Ta;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const g=i.get(h),_=e_(this.query,m)?m:null,v=!!g&&this.mutatedKeys.has(g.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;g&&_?g.data.isEqual(_.data)?v!==x&&(r.track({type:3,doc:_}),T=!0):this.Ra(g,_)||(r.track({type:2,doc:_}),T=!0,(c&&this.Ia(_,c)>0||l&&this.Ia(_,l)<0)&&(a=!0)):!g&&_?(r.track({type:0,doc:_}),T=!0):g&&!_&&(r.track({type:1,doc:g}),T=!0,(c||l)&&(a=!0)),T&&(_?(s=s.add(_),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((h,m)=>function(_,v){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return x(_)-x(v)}(h.type,m.type)||this.Ia(h.doc,m.doc)),this.Va(r),i=null!=i&&i;const a=t&&!i?this.ma():[],c=0===this.Pa.size&&this.current&&!i?1:0,l=c!==this.ha;return this.ha=c,0!==s.length||l?{snapshot:new Uf(this.query,e.Ta,o,s,e.mutatedKeys,0===c,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new jj,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=$t(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new Gj(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new Wj(r))}),t}pa(e){this.la=e.ls,this.Pa=$t();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Uf.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Moe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Poe{constructor(e){this.key=e,this.wa=!1}}class Foe{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new yc(a=>oz(a),Jg),this.Da=new Map,this.Ca=new Set,this.va=new ur(De.comparator),this.Fa=new Map,this.Ma=new CD,this.xa={},this.Oa=new Map,this.Na=Yd.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Noe(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,y.A)(function*(n,e,t=!0){const r=vw(n);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield Qj(r,e,t,!0),i}),mS.apply(this,arguments)}function Ooe(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,y.A)(function*(n,e){const t=vw(n);yield Qj(t,e,!0,!1)}),pS.apply(this,arguments)}function Qj(n,e,t,r){return gS.apply(this,arguments)}function gS(){return gS=(0,y.A)(function*(n,e,t,r){const i=yield Mf(n.localStore,Ro(e)),o=i.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield _S(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&_w(n.remoteStore,i),a}),gS.apply(this,arguments)}function _S(n,e,t,r,i){return bS.apply(this,arguments)}function bS(){return bS=(0,y.A)(function*(n,e,t,r,i){n.Ba=(m,g,_)=>{return(v=(0,y.A)(function*(T,P,F,B){let X=P.view.da(F);X.Zi&&(X=yield hw(T.localStore,P.query,!1).then(({documents:Kt})=>P.view.da(Kt,X)));const we=B&&B.targetChanges.get(P.targetId),Me=B&&null!=B.targetMismatches.get(P.targetId),st=P.view.applyChanges(X,T.isPrimaryClient,we,Me);return SS(T,P.targetId,st.fa),st.snapshot}),function x(T,P,F,B){return v.apply(this,arguments)})(n,m,g,_);var v};const o=yield hw(n.localStore,e,!0),s=new Kj(e,o.ls),a=s.da(o.documents),c=a_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=s.applyChanges(a,n.isPrimaryClient,c);SS(n,t,l.fa);const h=new Moe(e,t,s);return n.ba.set(e,h),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),l.snapshot}),bS.apply(this,arguments)}function Loe(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,y.A)(function*(n,e,t){const r=Te(n),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Jg(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Pf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Nf(r.remoteStore,i.targetId),zf(r,i.targetId)}).catch(gl))):(zf(r,i.targetId),yield Pf(r.localStore,i.targetId,!0))}),vS.apply(this,arguments)}function Voe(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,y.A)(function*(n,e){const t=Te(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Nf(t.remoteStore,r.targetId))}),yS.apply(this,arguments)}function wS(){return wS=(0,y.A)(function*(n,e,t){const r=US(n);try{const i=yield function(s,a){const c=Te(s),l=Ir.now(),h=a.reduce((_,v)=>_.add(v.key),$t());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Ko(),x=$t();return c.ss.getEntries(_,h).next(T=>{v=T,v.forEach((P,F)=>{F.isValidDocument()||(x=x.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,v)).next(T=>{m=T;const P=[];for(const F of a){const B=uie(F,m.get(F.key).overlayedDocument);null!=B&&P.push(new wc(F.key,B,HU(B.value.mapValue),xr.exists(!0)))}return c.mutationQueue.addMutationBatch(_,l,P,a)}).next(T=>{g=T;const P=T.applyToLocalDocumentSet(m,x);return c.documentOverlayCache.saveOverlays(_,T.batchId,P)})}).then(()=>({batchId:g.batchId,changes:lz(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.xa[s.currentUser.toKey()];l||(l=new ur(Pt)),l=l.insert(a,c),s.xa[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Ic(r,i.changes),yield Of(r.remoteStore)}catch(i){const o=Vf(i,"Failed to persist write");t.reject(o)}}),wS.apply(this,arguments)}function Yj(n,e){return ES.apply(this,arguments)}function ES(){return ES=(0,y.A)(function*(n,e){const t=Te(n);try{const r=yield function noe(n,e){const t=Te(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((h,m)=>{const g=i.get(m);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,m).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,m)));let _=g.withSequenceNumber(o.currentSequenceNumber);var x,T,P;null!==e.targetMismatches.get(m)?_=_.withResumeToken(wi.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(m,_),T=_,P=h,(0===(x=g).resumeToken.approximateByteSize()||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,_))});let c=Ko(),l=$t();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Tj(o,s,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!r.isEqual(nt.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(m=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.ts=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Fa.get(o);s&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Je(s.wa):i.removedDocuments.size>0&&(Je(s.wa),s.wa=!1))}),yield Ic(t,r,e)}catch(r){yield gl(r)}}),ES.apply(this,arguments)}function Xj(n,e,t){const r=Te(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=Te(s);c.onlineState=a;let l=!1;c.queries.forEach((h,m)=>{for(const g of m.U_)g.j_(a)&&(l=!0)}),l&&uS(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Uoe(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,y.A)(function*(n,e,t){const r=Te(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new ur(De.comparator);s=s.insert(o,yr.newNoDocument(o,nt.min()));const a=$t().add(o),c=new s_(nt.min(),new Map,new ur(Pt),s,a);yield Yj(r,c),r.va=r.va.remove(o),r.Fa.delete(e),kS(r)}else yield Pf(r.localStore,e,!1).then(()=>zf(r,e,t)).catch(gl)}),IS.apply(this,arguments)}function zoe(n,e){return xS.apply(this,arguments)}function xS(){return xS=(0,y.A)(function*(n,e){const t=Te(n),r=e.batch.batchId;try{const i=yield function toe(n,e){const t=Te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const m=l.batch,g=m.keys();let _=$.resolve();return g.forEach(v=>{_=_.next(()=>h.getEntry(c,v)).next(x=>{const T=l.docVersions.get(v);Je(null!==T),x.version.compareTo(T)<0&&(m.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),h.addEntry(x)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=$t();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);DS(t,r,null),AS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ic(t,i)}catch(i){yield gl(i)}}),xS.apply(this,arguments)}function joe(n,e,t){return CS.apply(this,arguments)}function CS(){return CS=(0,y.A)(function*(n,e,t){const r=Te(n);try{const i=yield function(s,a){const c=Te(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(m=>(Je(null!==m),h=m.keys(),c.mutationQueue.removeMutationBatch(l,m))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);DS(r,e,t),AS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ic(r,i)}catch(i){yield gl(i)}}),CS.apply(this,arguments)}function TS(){return TS=(0,y.A)(function*(n,e){const t=Te(n);Dl(t.remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=Te(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Oa.get(r)||[];i.push(e),t.Oa.set(r,i)}catch(r){const i=Vf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),TS.apply(this,arguments)}function AS(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function DS(n,e,t){const r=Te(n);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function zf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Rr(e).forEach(r=>{n.Ma.containsKey(r)||Zj(n,r)})}function Zj(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(Nf(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),kS(n))}function SS(n,e,t){for(const r of t)r instanceof Wj?(n.Ma.addReference(r.key,e),Hoe(n,r)):r instanceof Gj?(ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||Zj(n,r.key)):ze()}function Hoe(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(ue("SyncEngine","New document in limbo: "+t),n.Ca.add(r),kS(n))}function kS(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new De(mn.fromString(e)),r=n.Na.next();n.Fa.set(r,new Poe(t)),n.va=n.va.insert(t,r),_w(n.remoteStore,new Ec(Ro(vf(t.path)),r,"TargetPurposeLimboResolution",ds.oe))}}function Ic(n,e,t){return RS.apply(this,arguments)}function RS(){return RS=(0,y.A)(function*(n,e,t){const r=Te(n),i=[],o=[],s=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,c)=>{s.push(r.Ba(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=kD.Qi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Sa.l_(i),yield(a=(0,y.A)(function*(l,h){const m=Te(l);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>$.forEach(h,_=>$.forEach(_.ki,v=>m.persistence.referenceDelegate.addReference(g,_.targetId,v)).next(()=>$.forEach(_.qi,v=>m.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))}catch(g){if(!_l(g))throw g;ue("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const v=m.ts.get(_),T=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);m.ts=m.ts.insert(_,T)}}}),function c(l,h){return a.apply(this,arguments)})(r.localStore,o))}),RS.apply(this,arguments)}function qoe(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,y.A)(function*(n,e){const t=Te(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=yield xj(t.localStore,e);t.currentUser=e,(o=t).Oa.forEach(a=>{a.forEach(c=>{c.reject(new le(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Oa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ic(t,r._s)}var o}),MS.apply(this,arguments)}function Woe(n,e){const t=Te(n),r=t.Fa.get(e);if(r&&r.wa)return $t().add(r.key);{let i=$t();const o=t.Da.get(e);if(!o)return i;for(const s of o){const a=t.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function Goe(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,y.A)(function*(n,e){const t=Te(n),r=yield hw(t.localStore,e.query,!0),i=e.view.pa(r);return t.isPrimaryClient&&SS(t,e.targetId,i.fa),i}),PS.apply(this,arguments)}function Koe(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,y.A)(function*(n,e){const t=Te(n);return Dj(t.localStore,e).then(r=>Ic(t,r))}),FS.apply(this,arguments)}function Qoe(n,e,t,r){return NS.apply(this,arguments)}function NS(){return NS=(0,y.A)(function*(n,e,t,r){const i=Te(n),o=yield function(a,c){const l=Te(a),h=Te(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",m=>h.Cn(m,c).next(g=>g?l.localDocuments.getDocuments(m,g):$.resolve(null)))}(i.localStore,e);var c;null!==o?("pending"===t?yield Of(i.remoteStore):"acknowledged"===t||"rejected"===t?(DS(i,e,r||null),AS(i,e),c=e,Te(Te(i.localStore).mutationQueue).Fn(c)):ze(),yield Ic(i,o)):ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),NS.apply(this,arguments)}function OS(){return OS=(0,y.A)(function*(n,e){const t=Te(n);if(vw(t),US(t),!0===e&&!0!==t.La){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Jj(t,r.toArray());t.La=!0,yield iS(t.remoteStore,!0);for(const o of i)_w(t.remoteStore,o)}else if(!1===e&&!1!==t.La){const r=[];let i=Promise.resolve();t.Da.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(zf(t,s),Pf(t.localStore,s,!0))),Nf(t.remoteStore,s)}),yield i,yield Jj(t,r),function(s){const a=Te(s);a.Fa.forEach((c,l)=>{Nf(a.remoteStore,l)}),a.Ma.Vr(),a.Fa=new Map,a.va=new ur(De.comparator)}(t),t.La=!1,yield iS(t.remoteStore,!1)}}),OS.apply(this,arguments)}function Jj(n,e,t){return LS.apply(this,arguments)}function LS(){return LS=(0,y.A)(function*(n,e,t){const r=Te(n),i=[],o=[];for(const s of e){let a;const c=r.Da.get(s);if(c&&0!==c.length){a=yield Mf(r.localStore,Ro(c[0]));for(const l of c){const h=r.ba.get(l),m=yield Goe(r,h);m.snapshot&&o.push(m.snapshot)}}else{const l=yield Aj(r.localStore,s);a=yield Mf(r.localStore,l),yield _S(r,e4(l),s,!1,a.resumeToken)}i.push(a)}return r.Sa.l_(o),i}),LS.apply(this,arguments)}function e4(n){return nz(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Xoe(n){return t=Te(n).localStore,Te(Te(t).persistence).Li();var t}function Zoe(n,e,t,r){return VS.apply(this,arguments)}function VS(){return VS=(0,y.A)(function*(n,e,t,r){const i=Te(n);if(i.La)return void ue("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield Dj(i.localStore,sz(o[0])),a=s_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,wi.EMPTY_BYTE_STRING);yield Ic(i,s,a);break}case"rejected":yield Pf(i.localStore,e,!0),zf(i,e,r);break;default:ze()}}),VS.apply(this,arguments)}function Joe(n,e,t){return BS.apply(this,arguments)}function BS(){return BS=(0,y.A)(function*(n,e,t){const r=vw(n);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue("SyncEngine","Adding an already active target "+i);continue}const o=yield Aj(r.localStore,i),s=yield Mf(r.localStore,o);yield _S(r,e4(o),s.targetId,!1,s.resumeToken),_w(r.remoteStore,s)}for(const i of t)r.Da.has(i)&&(yield Pf(r.localStore,i,!1).then(()=>{Nf(r.remoteStore,i),zf(r,i)}).catch(gl))}}),BS.apply(this,arguments)}function vw(n){const e=Te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Woe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uoe.bind(null,e),e.Sa.l_=Doe.bind(null,e.eventManager),e.Sa.ka=Soe.bind(null,e.eventManager),e}function US(n){const e=Te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=joe.bind(null,e),e}class jf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,y.A)(function*(){t.serializer=__(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ij(this.persistence,new Ej,e.initialUser,this.serializer)}createPersistence(e){return new TD(lw.jr,this.serializer)}createSharedClientState(e){return new Mj}terminate(){var e=this;return(0,y.A)(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zS extends jf{constructor(e,t,r){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,y.A)(function*(){yield t().call(r,e),yield r.Qa.initialize(r,e),yield US(r.Qa.syncEngine),yield Of(r.Qa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ij(this.persistence,new Ej,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new fj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Ire(t,this.persistence);return new Ere(e.asyncQueue,r)}createPersistence(e){const t=SD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?so.withCacheSize(this.cacheSizeBytes):so.DEFAULT;return new DD(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Fj(),gw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Mj}}class t4 extends zS{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,y.A)(function*(){yield t().call(r,e);const i=r.Qa.syncEngine;r.sharedClientState instanceof VD&&(r.sharedClientState.syncEngine={Ys:Qoe.bind(null,i),Zs:Zoe.bind(null,i),Xs:Joe.bind(null,i),Li:Xoe.bind(null,i),Js:Koe.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var o=(0,y.A)(function*(s){yield function Yoe(n,e){return OS.apply(this,arguments)}(r.Qa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Fj();if(!VD.D(t))throw new le(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=SD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new VD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class $f{initialize(e,t){var r=this;return(0,y.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Xj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=qoe.bind(null,r.syncEngine),yield iS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Aoe}createDatastore(e){const t=__(e.databaseInfo.databaseId),r=new loe(e.databaseInfo);return new hoe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>Xj(this.syncEngine,t,0),a=Pj.D()?new Pj:new soe,new poe(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,c,l,h){const m=new Foe(i,o,s,a,c,l);return h&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,y.A)(function*(){var t,r;yield(r=(0,y.A)(function*(o){const s=Te(o);ue("RemoteStore","RemoteStore shutting down."),s.M_.add(5),yield Ff(s),s.O_.shutdown(),s.N_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function n4(n,e=10240){let t=0;return{read:()=>(0,y.A)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,y.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class nse{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new yi,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,y.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,y.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,y.A)(function*(){const t=yield e.za();if(null===t)return null;const r=e.Wa.decode(t),i=Number(r);isNaN(i)&&e.ja(`length string (${r}) is not valid number`);const o=yield e.Ha(i);return new koe(JSON.parse(o),t.length+i)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,y.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const t=e.Ja();t<0&&e.ja("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ha(e){var t=this;return(0,y.A)(function*(){for(;t.buffer.length<e;)(yield t.Ya())&&t.ja("Reached the end of bundle when more is expected.");const r=t.Wa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,y.A)(function*(){const t=yield e.Ua.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,y.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new le(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(i=(0,y.A)(function*(s,a){const c=Te(s),l={documents:a.map(_=>c_(c.serializer,_))},h=yield c.Mo("BatchGetDocuments",c.serializer.databaseId,mn.emptyPath(),l,a.length),m=new Map;h.forEach(_=>{const v=function wie(n,e){return"found"in e?function(r,i){Je(!!i.found);const o=Ra(r,i.found.name),s=Jr(i.found.updateTime),a=i.found.createTime?Jr(i.found.createTime):nt.min(),c=new Gi({mapValue:{fields:i.found.fields}});return yr.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(r,i){Je(!!i.missing),Je(!!i.readTime);const o=Ra(r,i.missing),s=Jr(i.readTime);return yr.newNoDocument(o,s)}(n,e):ze()}(c.serializer,_);m.set(v.key.toString(),v)});const g=[];return a.forEach(_=>{const v=m.get(_.toString());Je(!!v),g.push(v)}),g}),function o(s,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=De.fromPath(i);e.mutations.push(new aD(o,e.precondition(o)))}),yield(r=(0,y.A)(function*(o,s){const a=Te(o),c={writes:s.map(l=>l_(a.serializer,l))};yield a.Do("Commit",a.serializer.databaseId,mn.emptyPath(),c)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ze();t=nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new le(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(nt.min())?xr.exists(!1):xr.updateTime(t):xr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nt.min()))throw new le(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xr.updateTime(t)}return xr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ise{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Za=r.maxAttempts,this.Jo=new UD(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Jo.Ko((0,y.A)(function*(){const t=new rse(e.datastore),r=e.tu(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.nu(o)}))}).catch(i=>{e.nu(i)})}))}tu(e){try{const t=this.updateFunction(e);return!qg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!xz(t)}return!1}}class ose{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ki.UNAUTHENTICATED,this.clientId=bU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,y.A)(function*(a){ue("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Vf(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ww(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,y.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,y.A)(function*(o){r.isEqual(o)||(yield xj(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),jS.apply(this,arguments)}function $S(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,y.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qS(n);ue("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zj(e.remoteStore,i)),n._onlineComponents=e}),HS.apply(this,arguments)}function r4(n){return"FirebaseError"===n.name?n.code===W.FAILED_PRECONDITION||n.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function qS(n){return WS.apply(this,arguments)}function WS(){return WS=(0,y.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ww(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!r4(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),yield ww(n,new jf)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),yield ww(n,new jf);return n._offlineComponents}),WS.apply(this,arguments)}function Ew(n){return GS.apply(this,arguments)}function GS(){return GS=(0,y.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield $S(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),yield $S(n,new $f))),n._onlineComponents}),GS.apply(this,arguments)}function o4(n){return qS(n).then(e=>e.persistence)}function Hf(n){return qS(n).then(e=>e.localStore)}function s4(n){return Ew(n).then(e=>e.remoteStore)}function KS(n){return Ew(n).then(e=>e.syncEngine)}function qf(n){return QS.apply(this,arguments)}function QS(){return QS=(0,y.A)(function*(n){const e=yield Ew(n),t=e.eventManager;return t.onListen=Noe.bind(null,e.syncEngine),t.onUnlisten=Loe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ooe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Voe.bind(null,e.syncEngine),t}),QS.apply(this,arguments)}function c4(n,e,t={}){const r=new yi;return n.asyncQueue.enqueueAndForget((0,y.A)(function*(){return function(o,s,a,c,l){const h=new yw({next:g=>{s.enqueueAndForget(()=>lS(o,m));const _=g.docs.has(a);!_&&g.fromCache?l.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&"server"===c.source?l.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),m=new fS(vf(a.path),h,{includeMetadataChanges:!0,ra:!0});return aS(o,m)}(yield qf(n),n.asyncQueue,e,t,r)})),r.promise}function l4(n,e,t={}){const r=new yi;return n.asyncQueue.enqueueAndForget((0,y.A)(function*(){return function(o,s,a,c,l){const h=new yw({next:g=>{s.enqueueAndForget(()=>lS(o,m)),g.fromCache&&"server"===c.source?l.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),m=new fS(a,h,{includeMetadataChanges:!0,ra:!0});return aS(o,m)}(yield qf(n),n.asyncQueue,e,t,r)})),r.promise}function d4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const u4=new Map;function YS(n,e,t){if(!t)throw new le(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function h4(n,e,t,r){if(!0===e&&!0===r)throw new le(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function f4(n){if(!De.isDocumentKey(n))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function m4(n){if(De.isDocumentKey(n))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Iw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ze()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Iw(n);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function p4(n,e){if(e<=0)throw new le(W.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class g4{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=d4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class v_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g4(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new dre;switch(r.type){case"firstParty":return new mre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=u4.get(t);r&&(ue("ComponentProvider","Removing Datastore"),u4.delete(t),r.terminate())}(this),Promise.resolve()}}function _4(n,e,t,r={}){var i;const o=(n=hn(n,v_))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=ki.MOCK_USER;else{a=(0,jt.Fy)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ki(l)}n._authCredentials=new ure(new gU(a,c))}}class Ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class wr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class Ma extends Ki{constructor(e,t,r){super(e,t,vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new De(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function b4(n,e,...t){if(n=(0,jt.Ku)(n),YS("collection","path",e),n instanceof v_){const r=mn.fromString(e,...t);return m4(r),new Ma(n,null,r)}{if(!(n instanceof wr||n instanceof Ma))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return m4(r),new Ma(n.firestore,null,r)}}function xw(n,e,...t){if(n=(0,jt.Ku)(n),1===arguments.length&&(e=bU.newId()),YS("doc","path",e),n instanceof v_){const r=mn.fromString(e,...t);return f4(r),new wr(n,null,new De(r))}{if(!(n instanceof wr||n instanceof Ma))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return f4(r),new wr(n.firestore,n instanceof Ma?n.converter:null,new De(r))}}function v4(n,e){return n=(0,jt.Ku)(n),e=(0,jt.Ku)(e),(n instanceof wr||n instanceof Ma)&&(e instanceof wr||e instanceof Ma)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function XS(n,e){return n=(0,jt.Ku)(n),e=(0,jt.Ku)(e),n instanceof Ki&&e instanceof Ki&&n.firestore===e.firestore&&Jg(n._query,e._query)&&n.converter===e.converter}class _se{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new UD(this,"async_queue_retry"),this.hu=()=>{const t=gw();t&&ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Jo.Uo()};const e=gw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=gw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new yi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,y.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Jo.reset()}catch(t){if(!_l(t))throw t;ue("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Jo.Ko(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=sS.createAndSchedule(this,e,t,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&ze()}verifyOperationInProgress(){}du(){var e=this;return(0,y.A)(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function ZS(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class bse{constructor(){this._progressObserver={},this._taskCompletionResolver=new yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hr extends v_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new _se,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||y4(this),this._firestoreClient.terminate()}}function yse(n,e){const t="object"==typeof n?n:(0,li.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,li._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,jt.yU)("firestore");o&&_4(i,...o)}return i}function Ur(n){return n._firestoreClient||y4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function y4(n){var e,t,r;const i=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hre(n._databaseId,c,n._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,d4(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new ose(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function w4(n,e,t){const r=new yi;return n.asyncQueue.enqueue((0,y.A)(function*(){try{yield ww(n,t),yield $S(n,e),r.resolve()}catch(i){const o=i;if(!r4(o))throw o;Wo("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function E4(n){if(n._initialized||n._terminated)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(wi.fromBase64String(e))}catch(t){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pa(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zd{constructor(e){this._methodName=e}}class Cw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const kse=/^__.*__$/;class Rse{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new wc(e,this.data,this.fieldMask,t,this.fieldTransforms):new xf(e,this.data,t,this.fieldTransforms)}}class I4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function x4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class Tw{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Tw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Sw(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(x4(this.fu)&&kse.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Mse{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||__(e)}Fu(e,t,r,i=!1){return new Tw({fu:e,methodName:t,vu:r,path:vr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jd(n){const e=n._freezeSettings(),t=__(n._databaseId);return new Mse(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Aw(n,e,t,r,i,o={}){const s=n.Fu(o.merge||o.mergeFields?2:0,e,t,i);ok("Data must be an object, but it was:",s,r);const a=A4(r,s);let c,l;if(o.merge)c=new Go(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const g=E_(e,m,t);if(!s.contains(g))throw new le(W.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);S4(h,g)||h.push(g)}c=new Go(h),l=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,l=s.fieldTransforms;return new Rse(new Gi(a),c,l)}class w_ extends Zd{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof w_}}function C4(n,e,t){return new Tw({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class JS extends Zd{_toFieldTransform(e){return new r_(e.path,new Ef)}isEqual(e){return e instanceof JS}}class ek extends Zd{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=C4(this,e,!0),r=this.Mu.map(o=>eu(o,t)),i=new $d(r);return new r_(e.path,i)}isEqual(e){return e instanceof ek&&(0,jt.bD)(this.Mu,e.Mu)}}class tk extends Zd{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=C4(this,e,!0),r=this.Mu.map(o=>eu(o,t)),i=new Hd(r);return new r_(e.path,i)}isEqual(e){return e instanceof tk&&(0,jt.bD)(this.Mu,e.Mu)}}class nk extends Zd{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new If(e.serializer,fz(e.serializer,this.xu));return new r_(e.path,t)}isEqual(e){return e instanceof nk&&this.xu===e.xu}}function rk(n,e,t,r){const i=n.Fu(1,e,t);ok("Data must be an object, but it was:",i,r);const o=[],s=Gi.empty();bl(r,(c,l)=>{const h=Dw(e,c,t);l=(0,jt.Ku)(l);const m=i.Su(h);if(l instanceof w_)o.push(h);else{const g=eu(l,m);null!=g&&(o.push(h),s.set(h,g))}});const a=new Go(o);return new I4(s,a,i.fieldTransforms)}function ik(n,e,t,r,i,o){const s=n.Fu(1,e,t),a=[E_(e,r,t)],c=[i];if(o.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(E_(e,o[g])),c.push(o[g+1]);const l=[],h=Gi.empty();for(let g=a.length-1;g>=0;--g)if(!S4(l,a[g])){const _=a[g];let v=c[g];v=(0,jt.Ku)(v);const x=s.Su(_);if(v instanceof w_)l.push(_);else{const T=eu(v,x);null!=T&&(l.push(_),h.set(_,T))}}const m=new Go(l);return new I4(h,m,s.fieldTransforms)}function T4(n,e,t,r=!1){return eu(t,n.Fu(r?4:3,e))}function eu(n,e){if(D4(n=(0,jt.Ku)(n)))return ok("Unsupported field value:",e,n),A4(n,e);if(n instanceof Zd)return function(r,i){if(!x4(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=eu(a,i.bu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=(0,jt.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return fz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Ir.fromDate(r);return{timestampValue:Tf(i.serializer,o)}}if(r instanceof Ir){const o=new Ir(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tf(i.serializer,o)}}if(r instanceof Cw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pa)return{bytesValue:Fz(i.serializer,r._byteString)};if(r instanceof wr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Iw(r)}`)}(n,e)}function A4(n,e){const t={};return NU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(n,(r,i)=>{const o=eu(i,e.pu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function D4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ir||n instanceof Cw||n instanceof Pa||n instanceof wr||n instanceof Zd)}function ok(n,e,t){if(!D4(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Iw(t);throw e.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function E_(n,e,t){if((e=(0,jt.Ku)(e))instanceof xc)return e._internalPath;if("string"==typeof e)return Dw(n,e);throw Sw("Field path arguments must be of type string or ",n,!1,void 0,t)}const Pse=new RegExp("[~\\*/\\[\\]]");function Dw(n,e,t){if(e.search(Pse)>=0)throw Sw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xc(...e.split("."))._internalPath}catch{throw Sw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sw(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new le(W.INVALID_ARGUMENT,a+n+c)}function S4(n,e){return n.some(t=>t.isEqual(e))}class I_{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Fse extends I_{data(){return super.data()}}function kw(n,e){return"string"==typeof e?Dw(n,e):e instanceof xc?e._internalPath:e._delegate._internalPath}function k4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sk{}class x_ extends sk{}function kl(n,e,...t){let r=[];e instanceof sk&&r.push(e),r=r.concat(t),function(o){const s=o.filter(c=>c instanceof Wf).length,a=o.filter(c=>c instanceof C_).length;if(s>1||s>0&&a>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class C_ extends x_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new C_(e,t,r)}_apply(e){const t=this._parse(e);return F4(e._query,t),new Ki(e.firestore,e.converter,oD(e._query,t))}_parse(e){const t=Jd(e.firestore);return function(o,s,a,c,l,h,m){let g;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){P4(m,h);const _=[];for(const v of m)_.push(M4(c,o,v));g={arrayValue:{values:_}}}else g=M4(c,o,m)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||P4(m,h),g=T4(a,"where",m,"in"===h||"not-in"===h);return pn.create(l,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Wf extends sk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wf(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)F4(s,c),s=oD(s,c)}(e._query,t),new Ki(e.firestore,e.converter,oD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ak extends x_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ak(e,t)}_apply(e){const t=function(i,o,s){if(null!==i.startAt)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xg(o,s)}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new vc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Rw extends x_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Rw(e,t,r)}_apply(e){return new Ki(e.firestore,e.converter,Y0(e._query,this._limit,this._limitType))}}class Mw extends x_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Mw(e,t,r)}_apply(e){const t=R4(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(o=t,new vc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class Pw extends x_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Pw(e,t,r)}_apply(e){const t=R4(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(o=t,new vc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function R4(n,e,t,r){if(t[0]=(0,jt.Ku)(t[0]),t[0]instanceof I_)return function(o,s,a,c,l){if(!c)throw new le(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const m of yf(o))if(m.field.isKeyField())h.push(zd(s,c.key));else{const g=c.data.field(m.field);if($0(g))throw new le(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const _=m.field.canonicalString();throw new le(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}h.push(g)}return new Il(h,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Jd(n.firestore);return function(s,a,c,l,h,m){const g=s.explicitOrderBy;if(h.length>g.length)throw new le(W.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let v=0;v<h.length;v++){const x=h[v];if(g[v].field.isKeyField()){if("string"!=typeof x)throw new le(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof x}`);if(!iD(s)&&-1!==x.indexOf("/"))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${x}' contains a slash.`);const T=s.path.child(mn.fromString(x));if(!De.isDocumentKey(T))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const P=new De(T);_.push(zd(a,P))}else{const T=T4(c,l,x);_.push(T)}}return new Il(_,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function M4(n,e,t){if("string"==typeof(t=(0,jt.Ku)(t))){if(""===t)throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iD(e)&&-1!==t.indexOf("/"))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mn.fromString(t));if(!De.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zd(n,new De(r))}if(t instanceof wr)return zd(n,t._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Iw(t)}.`)}function P4(n,e){if(!Array.isArray(n)||0===n.length)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F4(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new le(W.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ck{convertValue(e,t="none"){switch(wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ze()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bl(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new Cw(Br(e.latitude),Br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=H0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gg(e));default:return null}}convertTimestamp(e){const t=_c(e);return new Ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mn.fromString(e);Je(qz(r));const i=new vl(r.get(1),r.get(3)),o=new De(r.popFirst(5));return i.isEqual(t)||Zr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Fw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class $se extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,t)}}class tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends I_{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new T_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(kw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class T_ extends Cc{data(e={}){return super.data(e)}}class Rl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new tu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new T_(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new T_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new T_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:qse(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qse(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}function O4(n,e){return n instanceof Cc&&e instanceof Cc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rl&&e instanceof Rl&&n._firestore===e._firestore&&XS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ml extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,t)}}function L4(n,e,t){n=hn(n,wr);const r=hn(n.firestore,hr),i=Fw(n.converter,e,t);return Gf(r,[Aw(Jd(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,xr.none())])}function V4(n,e,t,...r){n=hn(n,wr);const i=hn(n.firestore,hr),o=Jd(i);let s;return s="string"==typeof(e=(0,jt.Ku)(e))||e instanceof xc?ik(o,"updateDoc",n._key,e,t,r):rk(o,"updateDoc",n._key,e),Gf(i,[s.toMutation(n._key,xr.exists(!0))])}function B4(n,...e){var t,r,i;n=(0,jt.Ku)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||ZS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ZS(e[s])){const m=e[s];e[s]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[s+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[s+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let c,l,h;if(n instanceof wr)l=hn(n.firestore,hr),h=vf(n._key.path),c={next:m=>{e[s]&&e[s](lk(l,n,m))},error:e[s+1],complete:e[s+2]};else{const m=hn(n,Ki);l=hn(m.firestore,hr),h=m._query;const g=new Ml(l);c={next:_=>{e[s]&&e[s](new Rl(l,g,m,_))},error:e[s+1],complete:e[s+2]},k4(n._query)}return function(g,_,v,x){const T=new yw(x),P=new fS(_,T,v);return g.asyncQueue.enqueueAndForget((0,y.A)(function*(){return aS(yield qf(g),P)})),()=>{T.$a(),g.asyncQueue.enqueueAndForget((0,y.A)(function*(){return lS(yield qf(g),P)}))}}(Ur(l),h,a,c)}function Gf(n,e){return function(r,i){const o=new yi;return r.asyncQueue.enqueueAndForget((0,y.A)(function*(){return function Boe(n,e,t){return wS.apply(this,arguments)}(yield KS(r),i,o)})),o.promise}(Ur(n),e)}function lk(n,e,t){const r=t.docs.get(e._key),i=new Ml(n);return new Cc(n,i,e._key,r,new tu(t.hasPendingWrites,t.fromCache),e.converter)}const lae={maxAttempts:5};class U4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jd(e)}set(e,t,r){this._verifyNotCommitted();const i=Pl(e,this._firestore),o=Fw(i.converter,t,r),s=Aw(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,xr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Pl(e,this._firestore);let s;return s="string"==typeof(t=(0,jt.Ku)(t))||t instanceof xc?ik(this._dataReader,"WriteBatch.update",o._key,t,r,i):rk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pl(e,this._firestore);return this._mutations=this._mutations.concat(new Cf(t._key,xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pl(n,e){if((n=(0,jt.Ku)(n)).firestore!==e)throw new le(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dae extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Jd(t)}get(t){const r=Pl(t,this._firestore),i=new $se(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return ze();const s=o[0];if(s.isFoundDocument())return new I_(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new I_(this._firestore,i,r._key,null,r.converter);throw ze()})}set(t,r,i){const o=Pl(t,this._firestore),s=Fw(o.converter,r,i),a=Aw(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(t,r,i,...o){const s=Pl(t,this._firestore);let a;return a="string"==typeof(r=(0,jt.Ku)(r))||r instanceof xc?ik(this._dataReader,"Transaction.update",s._key,r,i,o):rk(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){const r=Pl(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pl(e,this._firestore),r=new Ml(this._firestore);return super.get(e).then(i=>new Cc(this._firestore,r,t._key,i._document,new tu(!1,!1),t.converter))}}function uk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function H4(){if(typeof Uint8Array>"u")throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function q4(){if(!function jre(){return typeof atob<"u"}())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){uf=li.SDK_VERSION,(0,li._registerComponent)(new c0.uA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new hr(new hre(r.getProvider("auth-internal")),new pre(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,li.registerVersion)(pU,"4.6.1",e),(0,li.registerVersion)(pU,"4.6.1","esm2017")}();class A_{constructor(e){this._delegate=e}static fromBase64String(e){return q4(),new A_(Pa.fromBase64String(e))}static fromUint8Array(e){return H4(),new A_(Pa.fromUint8Array(e))}toBase64(){return q4(),this._delegate.toBase64()}toUint8Array(){return H4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hk(n){return function yae(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class wae{enableIndexedDbPersistence(e,t){return function wse(n,e){E4(n=hn(n,hr));const t=Ur(n);if(t._uninitializedComponentsProvider)throw new le(W.FAILED_PRECONDITION,"SDK cache is already specified.");Wo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new $f;return w4(t,i,new zS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ese(n){E4(n=hn(n,hr));const e=Ur(n);if(e._uninitializedComponentsProvider)throw new le(W.FAILED_PRECONDITION,"SDK cache is already specified.");Wo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new $f;return w4(e,r,new t4(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ise(n){if(n._initialized&&!n._terminated)throw new le(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,y.A)(function*(){try{yield(t=(0,y.A)(function*(i){if(!Aa.D())return Promise.resolve();const o=i+"main";yield Aa.delete(o)}),function r(i){return t.apply(this,arguments)})(SD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class W4{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof vl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){_4(this._delegate,e,t,r)}enableNetwork(){return function Cse(n){return function sse(n){return n.asyncQueue.enqueue((0,y.A)(function*(){const e=yield o4(n),t=yield s4(n);return e.setNetworkEnabled(!0),function(i){const o=Te(i);return o.M_.delete(0),b_(o)}(t)}))}(Ur(n=hn(n,hr)))}(this._delegate)}disableNetwork(){return function Tse(n){return function ase(n){return n.asyncQueue.enqueue((0,y.A)(function*(){const e=yield o4(n),t=yield s4(n);return e.setNetworkEnabled(!1),(r=(0,y.A)(function*(o){const s=Te(o);s.M_.add(0),yield Ff(s),s.N_.set("Offline")}),function i(o){return r.apply(this,arguments)})(t);var r}))}(Ur(n=hn(n,hr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,h4("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xse(n){return function(t){const r=new yi;return t.asyncQueue.enqueueAndForget((0,y.A)(function*(){return function $oe(n,e){return TS.apply(this,arguments)}(yield KS(t),r)})),r.promise}(Ur(n=hn(n,hr)))}(this._delegate)}onSnapshotsInSync(e){return function eae(n,e){return function dse(n,e){const t=new yw(e);return n.asyncQueue.enqueueAndForget((0,y.A)(function*(){return i=yield qf(n),o=t,Te(i).z_.add(o),void o.next();var i,o})),()=>{t.$a(),n.asyncQueue.enqueueAndForget((0,y.A)(function*(){return i=yield qf(n),o=t,void Te(i).z_.delete(o);var i,o}))}}(Ur(n=hn(n,hr)),ZS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Kf(this,b4(this._delegate,e))}catch(t){throw Mo(t,"collection()","Firestore.collection()")}}doc(e){try{return new As(this,xw(this._delegate,e))}catch(t){throw Mo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Po(this,function gse(n,e){if(n=hn(n,v_),YS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(n,null,(r=e,new vc(mn.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Mo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function uae(n,e,t){n=hn(n,hr);const r=Object.assign(Object.assign({},lae),t);return function(o){if(o.maxAttempts<1)throw new le(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const c=new yi;return o.asyncQueue.enqueueAndForget((0,y.A)(function*(){const l=yield function a4(n){return Ew(n).then(e=>e.datastore)}(o);new ise(o.asyncQueue,l,a,s,c).Xa()})),c.promise}(Ur(n),i=>e(new dae(n,i)),r)}(this._delegate,t=>e(new G4(this,t)))}batch(){return Ur(this._delegate),new K4(new U4(this._delegate,e=>Gf(this._delegate,e)))}loadBundle(e){return function Ase(n,e){const t=Ur(n=hn(n,hr)),r=new bse;return function use(n,e,t,r){const i=function(s,a){let c;return c="string"==typeof s?Tz().encode(s):s,h=function(h,m){if(h instanceof Uint8Array)return n4(h,m);if(h instanceof ArrayBuffer)return n4(new Uint8Array(h),m);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new nse(h,a);var h}(t,__(e));n.asyncQueue.enqueueAndForget((0,y.A)(function*(){!function ese(n,e,t){const r=Te(n);var i;(i=(0,y.A)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(v,x){const T=Te(v),P=Jr(x.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",F=>T.Kr.getBundleMetadata(F,x.id)).then(F=>!!F&&F.createTime.compareTo(P)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(v=l).totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}),Promise.resolve(new Set);c._updateProgress(qj(l));const h=new Roe(l,s.localStore,a.serializer);let m=yield a.qa();for(;m;){const _=yield h._a(m);_&&c._updateProgress(_),m=yield a.qa()}const g=yield h.complete();return yield Ic(s,g.ca,void 0),yield function(v,x){const T=Te(v);return T.persistence.runTransaction("Save bundle","readwrite",P=>T.Kr.saveBundleMetadata(P,x))}(s.localStore,l),c._completeWith(g.progress),Promise.resolve(g.ua)}catch(l){return Wo("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var v}),function o(s,a,c){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield KS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Dse(n,e){return function hse(n,e){return n.asyncQueue.enqueue((0,y.A)(function*(){return function(r,i){const o=Te(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield Hf(n),e)}))}(Ur(n=hn(n,hr)),e).then(t=>t?new Ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Po(this,t):null)}}class Ow extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new A_(new Pa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return As.forKey(t,this.firestore,null)}}class G4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ow(e)}get(e){const t=ru(e);return this._delegate.get(t).then(r=>new D_(this._firestore,new Cc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ru(e);return r?(uk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ru(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ru(e);return this._delegate.delete(t),this}}class K4{constructor(e){this._delegate=e}set(e,t,r){const i=ru(e);return r?(uk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ru(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ru(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class nu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new T_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new S_(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=nu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new nu(e,new Ow(e),t),i.set(t,o)),o}}nu.INSTANCES=new WeakMap;class As{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ow(e)}static forPath(e,t,r){if(e.length%2!=0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new As(t,new wr(t._delegate,r,new De(e)))}static forKey(e,t,r){return new As(t,new wr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Kf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Kf(this.firestore,b4(this._delegate,e))}catch(t){throw Mo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,jt.Ku)(e))instanceof wr&&v4(this._delegate,e)}set(e,t){t=uk("DocumentReference.set",t);try{return t?L4(this._delegate,e,t):L4(this._delegate,e)}catch(r){throw Mo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?V4(this._delegate,e):V4(this._delegate,e,t,...r)}catch(i){throw Mo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Zse(n){return Gf(hn(n.firestore,hr),[new Cf(n._key,xr.none())])}(this._delegate)}onSnapshot(...e){const t=Q4(e),r=Y4(e,i=>new D_(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return B4(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Gse(n){n=hn(n,wr);const e=hn(n.firestore,hr),t=Ur(e),r=new Ml(e);return function cse(n,e){const t=new yi;return n.asyncQueue.enqueueAndForget((0,y.A)(function*(){return(r=(0,y.A)(function*(o,s,a){try{const c=yield function(h,m){const g=Te(h);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new le(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=Vf(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Hf(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Cc(e,r,n._key,i,new tu(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Kse(n){n=hn(n,wr);const e=hn(n.firestore,hr);return c4(Ur(e),n._key,{source:"server"}).then(t=>lk(e,n,t))}(this._delegate):function Wse(n){n=hn(n,wr);const e=hn(n.firestore,hr);return c4(Ur(e),n._key).then(t=>lk(e,n,t))}(this._delegate),t.then(r=>new D_(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new As(this.firestore,this._delegate.withConverter(e?nu.getInstance(this.firestore,e):null))}}function Mo(n,e,t){return n.message=n.message.replace(e,t),n}function Q4(n){for(const e of n)if("object"==typeof e&&!hk(e))return e;return{}}function Y4(n,e){var t,r;let i;return i=hk(n[0])?n[0]:hk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class D_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new As(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return O4(this._delegate,e._delegate)}}class S_ extends D_{data(e){const t=this._delegate.data(e);return this._delegate._converter||function lre(n,e){n||ze()}(void 0!==t),t}}class Po{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ow(e)}where(e,t,r){try{return new Po(this.firestore,kl(this._delegate,function Nse(n,e,t){const r=e,i=kw("where",n);return C_._create(i,r,t)}(e,t,r)))}catch(i){throw Mo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Po(this.firestore,kl(this._delegate,function Ose(n,e="asc"){const t=e,r=kw("orderBy",n);return ak._create(r,t)}(e,t)))}catch(r){throw Mo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Po(this.firestore,kl(this._delegate,function Lse(n){return p4("limit",n),Rw._create("limit",n,"F")}(e)))}catch(t){throw Mo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Po(this.firestore,kl(this._delegate,function Vse(n){return p4("limitToLast",n),Rw._create("limitToLast",n,"L")}(e)))}catch(t){throw Mo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Po(this.firestore,kl(this._delegate,function Bse(...n){return Mw._create("startAt",n,!0)}(...e)))}catch(t){throw Mo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Po(this.firestore,kl(this._delegate,function Use(...n){return Mw._create("startAfter",n,!1)}(...e)))}catch(t){throw Mo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Po(this.firestore,kl(this._delegate,function zse(...n){return Pw._create("endBefore",n,!1)}(...e)))}catch(t){throw Mo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Po(this.firestore,kl(this._delegate,function jse(...n){return Pw._create("endAt",n,!0)}(...e)))}catch(t){throw Mo(t,"endAt()","Query.endAt()")}}isEqual(e){return XS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Yse(n){n=hn(n,Ki);const e=hn(n.firestore,hr),t=Ur(e),r=new Ml(e);return function lse(n,e){const t=new yi;return n.asyncQueue.enqueueAndForget((0,y.A)(function*(){return(r=(0,y.A)(function*(o,s,a){try{const c=yield hw(o,s,!0),l=new Kj(s,c.ls),h=l.da(c.documents),m=l.applyChanges(h,!1);a.resolve(m.snapshot)}catch(c){const l=Vf(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Hf(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Rl(e,r,n,i))}(this._delegate):"server"===e?.source?function Xse(n){n=hn(n,Ki);const e=hn(n.firestore,hr),t=Ur(e),r=new Ml(e);return l4(t,n._query,{source:"server"}).then(i=>new Rl(e,r,n,i))}(this._delegate):function Qse(n){n=hn(n,Ki);const e=hn(n.firestore,hr),t=Ur(e),r=new Ml(e);return k4(n._query),l4(t,n._query).then(i=>new Rl(e,r,n,i))}(this._delegate),t.then(r=>new fk(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Q4(e),r=Y4(e,i=>new fk(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return B4(this._delegate,t,r)}withConverter(e){return new Po(this.firestore,this._delegate.withConverter(e?nu.getInstance(this.firestore,e):null))}}class Iae{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new S_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new S_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Iae(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new S_(this._firestore,r))})}isEqual(e){return O4(this._delegate,e._delegate)}}class Kf extends Po{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new As(this.firestore,e):null}doc(e){try{return new As(this.firestore,void 0===e?xw(this._delegate):xw(this._delegate,e))}catch(t){throw Mo(t,"doc()","CollectionReference.doc()")}}add(e){return function Jse(n,e){const t=hn(n.firestore,hr),r=xw(n),i=Fw(n.converter,e);return Gf(t,[Aw(Jd(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new As(this.firestore,t))}isEqual(e){return v4(this._delegate,e._delegate)}withConverter(e){return new Kf(this.firestore,this._delegate.withConverter(e?nu.getInstance(this.firestore,e):null))}}function ru(n){return hn(n,wr)}class mk{constructor(...e){this._delegate=new xc(...e)}static documentId(){return new mk(vr.keyField().canonicalString())}isEqual(e){return(e=(0,jt.Ku)(e))instanceof xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class iu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fae(){return new JS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new iu(e)}static delete(){const e=function hae(){return new w_("deleteField")}();return e._methodName="FieldValue.delete",new iu(e)}static arrayUnion(...e){const t=function mae(...n){return new ek("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new iu(t)}static arrayRemove(...e){const t=function pae(...n){return new tk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new iu(t)}static increment(e){const t=function gae(n){return new nk("increment",n)}(e);return t._methodName="FieldValue.increment",new iu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xae={Firestore:W4,GeoPoint:Cw,Timestamp:Ir,Blob:A_,Transaction:G4,WriteBatch:K4,DocumentReference:As,DocumentSnapshot:D_,Query:Po,QueryDocumentSnapshot:S_,QuerySnapshot:fk,CollectionReference:Kf,FieldPath:mk,FieldValue:iu,setLogLevel:function Eae(n){!function cre(n){pl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function X4(n,e){return function Aae(n,e=Yh){return new ot(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function pk(n,e){return X4(n,e).pipe(de(t=>({payload:t,type:"query"})))}!function Tae(n){(function Cae(n,e){n.INTERNAL.registerComponent(new c0.uA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},xae)))})(n,(e,t)=>new W4(e,t,new wae)),n.registerVersion("@firebase/firestore-compat","0.3.30")}(Ys.A);class Z4{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=i$(r,t);return new t$(i,o,this.afs)}snapshotChanges(){return function Dae(n,e){return X4(n,e).pipe(Ia(void 0),rA(),de(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Do)}valueChanges(e={}){return this.snapshotChanges().pipe(de(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return Un(this.ref.get(e)).pipe(Do)}}function Lw(n,e){return pk(n,e).pipe(Ia(void 0),rA(),de(t=>{const[r,i]=t,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=o.find(m=>m.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function J4(n,e,t){return Lw(n,t).pipe(f0((r,i)=>function Sae(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function kae(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return gk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),yg(),de(r=>r.map(i=>({type:i.type,payload:i}))))}function gk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function e$(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class t${ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Lw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(de(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ia(void 0),rA(),kr(([r,i])=>i.length>0||!r),de(([,r])=>r),Do)}auditTrail(e){return this.stateChanges(e).pipe(f0((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=e$(e);return J4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Do)}valueChanges(e={}){return pk(this.query,this.afs.schedulers.outsideAngular).pipe(de(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Do)}get(e){return Un(this.query.get(e)).pipe(Do)}add(e){return this.ref.add(e)}doc(e){return new Z4(this.ref.doc(e),this.afs)}}class Rae{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Lw(this.query,this.afs.schedulers.outsideAngular).pipe(de(t=>t.filter(r=>e.indexOf(r.type)>-1)),kr(t=>t.length>0),Do):Lw(this.query,this.afs.schedulers.outsideAngular).pipe(Do)}auditTrail(e){return this.stateChanges(e).pipe(f0((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=e$(e);return J4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Do)}valueChanges(e={}){return pk(this.query,this.afs.schedulers.outsideAngular).pipe(de(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Do)}get(e){return Un(this.query.get(e)).pipe(Do)}}const n$=new ee("angularfire2.enableFirestorePersistence"),r$=new ee("angularfire2.firestore.persistenceSettings"),Mae=new ee("angularfire2.firestore.settings"),Pae=new ee("angularfire2.firestore.use-emulator");function i$(n,e=(t=>t)){return{query:e(n),ref:n}}let o$=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,o,s,a,c,l,h,m,g,_,v,x,T,P,F){this.schedulers=c;const B=l0(t,a,r),X=h;m&&X2(B,a,g,v,x,T,_,P),[this.firestore,this.persistenceEnabled$]=XT(`${B.name}.firestore`,"AngularFirestore",B.name,()=>{const we=a.runOutsideAngular(()=>B.firestore());if(o&&we.settings(o),X&&we.useEmulator(...X),i&&!e0(s)){const Me=()=>{try{return Un(we.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(st){return typeof console<"u"&&console.warn(st),Qe(!1)}};return[we,a.runOutsideAngular(Me)]}return[we,Qe(!1)]},[o,X,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=i$(i,r),a=this.schedulers.ngZone.run(()=>o);return new t$(a,s,this)}collectionGroup(t,r){const i=r||(s=>s),o=this.firestore.collectionGroup(t);return new Rae(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Z4(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(V(_g),V(bg,8),V(n$,8),V(Mae,8),V(ns),V(He),V(Zh),V(r$,8),V(Pae,8),V(nA,8),V(q2,8),V(W2,8),V(G2,8),V(K2,8),V(Q2,8),V(Y2,8),V(pg,8))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Fae=(()=>{class n{constructor(){Ys.A.registerVersion("angularfire",fc.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:n$,useValue:!0},{provide:r$,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Qt({providers:[o$]})}return n})();function k_(n,e=Yh){return Y((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+n,h=e.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}t.subscribe(me(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}const s$="firebasestorage.googleapis.com",a$="storageBucket";class Rr extends jt.g{constructor(e,t,r=0){super(_k(e),`Firebase Storage: ${t} (${_k(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _k(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Cr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Cr||{});function _k(n){return"storage/"+n}function bk(){return new Rr(Cr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function c$(){return new Rr(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l$(){return new Rr(Cr.CANCELED,"User canceled the upload/download.")}function d$(){return new Rr(Cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qf(n){return new Rr(Cr.INVALID_ARGUMENT,n)}function u$(){return new Rr(Cr.APP_DELETED,"The Firebase app was deleted.")}function h$(n){return new Rr(Cr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function R_(n,e){return new Rr(Cr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function M_(n){throw new Rr(Cr.INTERNAL_ERROR,"Internal error: "+n)}class co{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=co.makeFromUrl(e,t)}catch{return new co(e,"")}if(""===r.path)return r;throw function Hae(n){return new Rr(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(X){X.path_=decodeURIComponent(X.path)}const m=t.replace(/[.]/g,"\\."),B=[{regex:a,indices:{bucket:1,path:3},postModify:function o(X){"/"===X.path.charAt(X.path.length-1)&&(X.path_=X.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${m}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===s$?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let X=0;X<B.length;X++){const we=B[X],Me=we.regex.exec(e);if(Me){let Kt=Me[we.indices.path];Kt||(Kt=""),r=new co(Me[we.indices.bucket],Kt),we.postModify(r);break}}if(null==r)throw function $ae(n){return new Rr(Cr.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class Qae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Vw(n){return"string"==typeof n||n instanceof String}function f$(n){return vk()&&n instanceof Blob}function vk(){return typeof Blob<"u"}function yk(n,e,t,r){if(r<e)throw Qf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Qf(`Invalid value for '${n}'. Expected ${t} or less.`)}function Tc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function m$(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Yf=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Yf||{});function p$(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}class tce{constructor(e,t,r,i,o,s,a,c,l,h,m,g=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,v)=>{this.resolve_=_,this.reject_=v,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function Zae(n){return void 0!==n}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=bk();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(i.canceled?this.appDelete_?u$():l$():c$())};this.canceled_?t(0,new Bw(!1,null,!0)):this.backoffId_=function Yae(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function h(...T){l||(l=!0,e.apply(null,T))}function m(T){i=setTimeout(()=>{i=null,n(_,c())},T)}function g(){o&&clearTimeout(o)}function _(T,...P){if(l)return void g();if(T)return g(),void h.call(null,T,...P);if(c()||s)return g(),void h.call(null,T,...P);let B;r<64&&(r*=2),1===a?(a=2,B=0):B=1e3*(r+Math.random()),m(B)}let v=!1;function x(T){v||(v=!0,g(),!l&&(null!==i?(T||(a=2),clearTimeout(i),m(0)):T||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,x(!0)},t),x}((r,i)=>{if(i)return void r(!1,new Bw(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Yf.NO_ERROR,c=o.getStatus();if(!a||p$(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Yf.ABORT;return void r(!1,new Bw(!1,null,h))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new Bw(l,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Xae(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Bw{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function cce(...n){const e=function ace(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(vk())return new Blob(n);throw new Rr(Cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const us={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wk{constructor(e,t){this.data=e,this.contentType=t||null}}function Ek(n,e){switch(n){case us.RAW:return new wk(g$(e));case us.BASE64:case us.BASE64URL:return new wk(_$(n,e));case us.DATA_URL:return new wk(function hce(n){const e=new b$(n);return e.base64?_$(us.BASE64,e.rest):function uce(n){let e;try{e=decodeURIComponent(n)}catch{throw R_(us.DATA_URL,"Malformed data URL.")}return g$(e)}(e.rest)}(e),function fce(n){return new b$(n).contentType}(e))}throw bk()}function g$(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function _$(n,e){switch(n){case us.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw R_(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case us.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw R_(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function dce(n){if(typeof atob>"u")throw function Kae(n){return new Rr(Cr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:R_(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class b${constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw R_(us.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function mce(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Fa{constructor(e,t){let r=0,i="";f$(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(f$(this.data_)){const i=function lce(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Fa(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Fa(r,!0)}}static getBlob(...e){if(vk()){const t=e.map(r=>r instanceof Fa?r.data_:r);return new Fa(cce.apply(null,t))}{const t=e.map(s=>Vw(s)?Ek(us.RAW,s).data:s.data_);let r=0;t.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Fa(i,!0)}}uploadData(){return this.data_}}function Ik(n){let e;try{e=JSON.parse(n)}catch{return null}return function ece(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function v$(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function _ce(n,e){return e}class Fo{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||_ce}}let Uw=null;function P_(){if(Uw)return Uw;const n=[];n.push(new Fo("bucket")),n.push(new Fo("generation")),n.push(new Fo("metageneration")),n.push(new Fo("name","fullPath",!0));const t=new Fo("name");t.xform=function e(o,s){return function bce(n){return!Vw(n)||n.length<2?n:v$(n)}(s)},n.push(t);const i=new Fo("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},n.push(i),n.push(new Fo("timeCreated")),n.push(new Fo("updated")),n.push(new Fo("md5Hash",null,!0)),n.push(new Fo("cacheControl",null,!0)),n.push(new Fo("contentDisposition",null,!0)),n.push(new Fo("contentEncoding",null,!0)),n.push(new Fo("contentLanguage",null,!0)),n.push(new Fo("contentType",null,!0)),n.push(new Fo("metadata","customMetadata",!0)),Uw=n,Uw}function y$(n,e,t){const r=Ik(e);return null===r?null:function yce(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const s=t[o];r[s.local]=s.xform(r,e[s.server])}return function vce(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new co(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}function xk(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}const w$="prefixes",E$="items";class Na{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Oa(n){if(!n)throw bk()}function zw(n,e){return function t(r,i){const o=y$(n,i,e);return Oa(null!==o),o}}function Xf(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function zae(){return new Rr(Cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Uae(){return new Rr(Cr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Bae(n){return new Rr(Cr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function jae(n){return new Rr(Cr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function F_(n){const e=Xf(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function Vae(n){return new Rr(Cr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}function I$(n,e,t){const i=Tc(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Na(i,"GET",zw(n,t),s);return a.errorHandler=F_(e),a}function Tce(n,e,t,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=Tc(e.bucketOnlyServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new Na(a,"GET",function xce(n,e){return function t(r,i){const o=function Ice(n,e,t){const r=Ik(t);return null===r?null:function Ece(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[w$])for(const i of t[w$]){const o=i.replace(/\/$/,""),s=n._makeStorageReference(new co(e,o));r.prefixes.push(s)}if(t[E$])for(const i of t[E$]){const o=n._makeStorageReference(new co(e,i.name));r.items.push(o)}return r}(n,e,r)}(n,e,i);return Oa(null!==o),o}}(n,e.bucket),l);return h.urlParams=o,h.errorHandler=Xf(e),h}function C$(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function kce(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class jw{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function Ck(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Oa(!1)}return Oa(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Fce={STATE_CHANGED:"state_changed"},No={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Tk(n){switch(n){case"running":case"pausing":case"canceling":return No.RUNNING;case"paused":return No.PAUSED;case"success":return No.SUCCESS;case"canceled":return No.CANCELED;default:return No.ERROR}}class Nce{constructor(e,t,r){if(function Jae(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Zf(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let D$=null;class Oce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw M_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw M_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw M_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw M_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw M_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Lce extends Oce{initXhr(){this.xhr_.responseType="text"}}function Js(){return D$?D$():new Lce}class S${constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=P_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Cr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(p$(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=c$()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Cr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Rce(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),s=C$(e,r,i),a={name:s.fullPath},c=Tc(o,n.host,n._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},m=xk(s,t),v=new Na(c,"POST",function _(x){let T;Ck(x);try{T=x.getResponseHeader("X-Goog-Upload-URL")}catch{Oa(!1)}return Oa(Vw(T)),T},n.maxUploadRetryTime);return v.urlParams=a,v.headers=h,v.body=m,v.errorHandler=Xf(e),v}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Js,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Mce(n,e,t,r){const c=new Na(t,"POST",function o(l){const h=Ck(l,["active","final"]);let m=null;try{m=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oa(!1)}m||Oa(!1);const g=Number(m);return Oa(!isNaN(g)),new jw(g,r.size(),"final"===h)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Xf(e),c}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Js,t,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new jw(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function Pce(n,e,t,r,i,o,s,a){const c=new jw(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function Wae(){return new Rr(Cr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let h=l;i>0&&(h=Math.min(h,i));const m=c.current;let _="";_=0===h?"finalize":l===h?"upload, finalize":"upload";const v={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${c.current}`},x=r.slice(m,m+h);if(null===x)throw d$();const B=new Na(t,"POST",function T(X,we){const Me=Ck(X,["active","final"]),st=c.current+h,Kt=r.size();let uo;return uo="final"===Me?zw(e,o)(X,we):null,new jw(st,Kt,"final"===Me,uo)},e.maxUploadRetryTime);return B.headers=v,B.body=x.uploadData(),B.progressCallback=a||null,B.errorHandler=Xf(n),B}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Js,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=I$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Js,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function T$(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let B="";for(let X=0;X<2;X++)B+=Math.random().toString().slice(2);return B}();s["Content-Type"]="multipart/related; boundary="+c;const l=C$(e,r,i),h=xk(l,t),_=Fa.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===_)throw d$();const v={name:l.fullPath},x=Tc(o,n.host,n._protocol),P=n.maxUploadRetryTime,F=new Na(x,"POST",zw(n,t),P);return F.urlParams=v,F.headers=s,F.body=_.uploadData(),F.errorHandler=Xf(e),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Js,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=l$(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Tk(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const o=new Nce(t||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Tk(this._state)){case No.SUCCESS:Zf(this._resolve.bind(null,this.snapshot))();break;case No.CANCELED:case No.ERROR:Zf(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Tk(this._state)){case No.RUNNING:case No.PAUSED:e.next&&Zf(e.next.bind(e,this.snapshot))();break;case No.SUCCESS:e.complete&&Zf(e.complete.bind(e))();break;default:e.error&&Zf(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ou{constructor(e,t){this._service=e,this._location=t instanceof co?t:co.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ou(e,t)}get root(){const e=new co(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v$(this._location.path)}get storage(){return this._service}get parent(){const e=function pce(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new co(this._location.bucket,e);return new ou(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw h$(e)}}function R$(n,e,t){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,y.A)(function*(n,e,t){const i=yield M$(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield R$(n,e,i.nextPageToken))}),Ak.apply(this,arguments)}function M$(n,e){null!=e&&"number"==typeof e.maxResults&&yk("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Tce(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Js)}function Qce(n){n._throwIfRoot("getDownloadURL");const e=function Ace(n,e,t){const i=Tc(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Na(i,"GET",function Cce(n,e){return function t(r,i){const o=y$(n,i,e);return Oa(null!==o),function wce(n,e,t,r){const i=Ik(e);if(null===i||!Vw(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const m=n.fullPath;return Tc("/b/"+s(n.bucket)+"/o/"+s(m),t,r)+m$({alt:"media",token:l})})[0]}(o,i,n.host,n._protocol)}}(n,t),s);return a.errorHandler=F_(e),a}(n.storage,n._location,P_());return n.storage.makeRequestWithTokens(e,Js).then(t=>{if(null===t)throw function Gae(){return new Rr(Cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function P$(n,e){const t=function gce(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new co(n._location.bucket,t);return new ou(n.storage,r)}function F$(n,e){if(n instanceof Dk){const t=n;if(null==t._bucket)throw function qae(){return new Rr(Cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+a$+"' property when initializing the app?")}();const r=new ou(t,t._bucket);return null!=e?F$(r,e):r}return void 0!==e?P$(n,e):n}function Jce(n,e){if(e&&function Xce(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Dk)return function Zce(n,e){return new ou(n,e)}(n,e);throw Qf("To use ref(service, url), the first argument must be a Storage instance.")}return F$(n,e)}function N$(n,e){const t=e?.[a$];return null==t?null:co.makeFromBucketSpec(t,n)}class Dk{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=s$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?co.makeFromBucketSpec(i,this._host):N$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?co.makeFromBucketSpec(this._url,e):N$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,y.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,y.A)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ou(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new Qae(u$());{const s=function sce(n,e,t,r,i,o,s=!0){const a=m$(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return function ice(n,e){e&&(n["X-Firebase-GMPID"]=e)}(l,e),function nce(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(l,t),function rce(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function oce(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(l,r),new tce(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,y.A)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const O$="@firebase/storage";function B$(n,e){return Jce(n=(0,jt.Ku)(n),e)}function lle(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Dk(t,r,i,e,li.SDK_VERSION)}!function dle(){(0,li._registerComponent)(new c0.uA("storage",lle,"PUBLIC").setMultipleInstances(!0)),(0,li.registerVersion)(O$,"0.12.4",""),(0,li.registerVersion)(O$,"0.12.4","esm2017")}();class $w{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class z${constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $w(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new $w(r,this,this._ref))},t)}on(e,t,r,i){let o;return t&&(o="function"==typeof t?s=>t(new $w(s,this,this._ref)):{next:t.next?s=>t.next(new $w(s,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class j${constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ac(e,this._service))}get items(){return this._delegate.items.map(e=>new Ac(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ac{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function cle(n,e){return P$(n,e)}(this._delegate,e);return new Ac(t,this.storage)}get root(){return new Ac(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ac(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new z$(function tle(n,e,t){return function Hce(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new S$(n,new Fa(e),t)}(n=(0,jt.Ku)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=us.RAW,r){this._throwIfRoot("putString");const i=Ek(t,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new z$(new S$(this._delegate,new Fa(i.data,!0),o),this)}listAll(){return function ole(n){return function Wce(n){const e={prefixes:[],items:[]};return R$(n,e).then(()=>e)}(n=(0,jt.Ku)(n))}(this._delegate).then(e=>new j$(e,this.storage))}list(e){return function ile(n,e){return M$(n=(0,jt.Ku)(n),e)}(this._delegate,e||void 0).then(t=>new j$(t,this.storage))}getMetadata(){return function nle(n){return function Gce(n){n._throwIfRoot("getMetadata");const e=I$(n.storage,n._location,P_());return n.storage.makeRequestWithTokens(e,Js)}(n=(0,jt.Ku)(n))}(this._delegate)}updateMetadata(e){return function rle(n,e){return function Kce(n,e){n._throwIfRoot("updateMetadata");const t=function Dce(n,e,t,r){const o=Tc(e.fullServerUrl(),n.host,n._protocol),a=xk(t,r),l=n.maxOperationRetryTime,h=new Na(o,"PATCH",zw(n,r),l);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=F_(e),h}(n.storage,n._location,e,P_());return n.storage.makeRequestWithTokens(t,Js)}(n=(0,jt.Ku)(n),e)}(this._delegate,e)}getDownloadURL(){return function sle(n){return Qce(n=(0,jt.Ku)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ale(n){return function Yce(n){n._throwIfRoot("deleteObject");const e=function Sce(n,e){const r=Tc(e.fullServerUrl(),n.host,n._protocol),a=new Na(r,"DELETE",function s(c,l){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=F_(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Js)}(n=(0,jt.Ku)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw h$(e)}}class $${constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(H$(e))throw Qf("ref() expected a child path but got a URL, use refFromURL instead.");return new Ac(B$(this._delegate,e),this)}refFromURL(e){if(!H$(e))throw Qf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{co.makeFromUrl(e,this._delegate.host)}catch{throw Qf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ac(B$(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function U$(n,e,t,r={}){!function ele(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,jt.Fy)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function H$(n){return/^[A-Za-z]+:\/\//.test(n)}function mle(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new $$(t,r)}function q$(n){const e=function gle(n){return new ot(e=>{const t=s=>e.next(s);t(n.snapshot);const o=n.on("state_changed",t);return n.then(s=>{t(s),e.complete()},s=>{t(n.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(k_(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(de(t=>t.bytesTransferred/t.totalBytes*100))}}function Hw(n){return{getDownloadURL:()=>Qe(void 0).pipe(C2,Sr(()=>n.getDownloadURL()),Do),getMetadata:()=>Qe(void 0).pipe(C2,Sr(()=>n.getMetadata()),Do),delete:()=>Un(n.delete()),child:e=>Hw(n.child(e)),updateMetadata:e=>Un(n.updateMetadata(e)),put:(e,t)=>q$(n.put(e,t)),putString:(e,t,r)=>q$(n.putString(e,t,r)),list:e=>Un(n.list(e)),listAll:()=>Un(n.listAll())}}!function ple(n){const e={TaskState:No,TaskEvent:Fce,StringFormat:us,Storage:$$,Reference:Ac};n.INTERNAL.registerComponent(new c0.uA("storage-compat",mle,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.7")}(Ys.A);const _le=new ee("angularfire2.storageBucket"),ble=new ee("angularfire2.storage.maxUploadRetryTime"),vle=new ee("angularfire2.storage.maxOperationRetryTime"),yle=new ee("angularfire2.storage.use-emulator");let wle=(()=>{class n{storage;constructor(t,r,i,o,s,a,c,l,h,m){const g=l0(t,s,r);this.storage=XT(`${g.name}.storage.${i}`,"AngularFireStorage",g.name,()=>{const _=s.runOutsideAngular(()=>g.storage(i||void 0)),v=h;return v&&_.useEmulator(...v),c&&_.setMaxUploadRetryTime(c),l&&_.setMaxOperationRetryTime(l),_},[c,l])}ref(t){return Hw(this.storage.ref(t))}refFromURL(t){return Hw(this.storage.refFromURL(t))}upload(t,r,i){return Hw(this.storage.ref(t)).put(r,i)}static \u0275fac=function(r){return new(r||n)(V(_g),V(bg,8),V(_le,8),V(ns),V(He),V(Zh),V(ble,8),V(vle,8),V(yle,8),V(pg,8))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Ele=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Qt({})}return n})(),Ile=(()=>{class n{constructor(){Ys.A.registerVersion("angularfire",fc.full,"gcs-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Qt({providers:[wle],imports:[Ele]})}return n})();class Sk{constructor(e){return e}}const W$="firestore",kk=new ee("angularfire2.firestore-instances");function Tle(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Sk(r)}}const Ale={provide:class xle{constructor(){return qT(W$)}},deps:[[new Hr,kk]]},Dle={provide:Sk,useFactory:function Cle(n,e){const t=I2(W$,n,e);return t&&new Sk(t)},deps:[[new Hr,kk],gg]};let Sle=(()=>{class n{constructor(){(0,li.registerVersion)("angularfire",fc.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=Qt({providers:[Dle,Ale]})}return n})();function kle(n,...e){return{ngModule:Sle,providers:[{provide:kk,useFactory:Tle(n),multi:!0,deps:[He,oi,Zh,GT,[new Hr,A2],[new Hr,pg],...e]}]}}const Rle=WT(yse,!0),{isArray:Mle}=Array,{getPrototypeOf:Ple,prototype:Fle,keys:Nle}=Object;function G$(n){if(1===n.length){const e=n[0];if(Mle(e))return{args:e,keys:null};if(function Ole(n){return n&&"object"==typeof n&&Ple(n)===Fle}(e)){const t=Nle(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Lle}=Array;function Rk(n){return de(e=>function Vle(n,e){return Lle(e)?n(...e):n(e)}(n,e))}function K$(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Q$(...n){const e=R2(n),{args:t,keys:r}=G$(n),i=new ot(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let h=0;h<s;h++){let m=!1;So(t[h]).subscribe(me(o,g=>{m||(m=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!m)&&(l||o.next(r?K$(r,a):a),o.complete())}))}});return e?i.pipe(Rk(e)):i}let Y$=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(M(rc),M(qt))};static#t=this.\u0275dir=Fe({type:n})}return n})(),su=(()=>{class n extends Y${static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ii(n)))(i||n)}})();static#t=this.\u0275dir=Fe({type:n,features:[Yt]})}return n})();const Ds=new ee(""),Ule={provide:Ds,useExisting:Tn(()=>qw),multi:!0},jle=new ee("");let qw=(()=>{class n extends Y${constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zle(){const n=dl()?dl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(M(rc),M(qt),M(jle,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&et("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[wn([Ule]),Yt]})}return n})();function Fl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Z$(n){return null!=n&&"number"==typeof n.length}const hi=new ee(""),Nl=new ee(""),$le=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class J${static min(e){return function e3(n){return e=>{if(Fl(e.value)||Fl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function t3(n){return e=>{if(Fl(e.value)||Fl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function n3(n){return Fl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function r3(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function o3(n){return Fl(n.value)||$le.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function s3(n){return e=>Fl(e.value)||!Z$(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function a3(n){return e=>Z$(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function c3(n){if(!n)return Ww;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Fl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return m3(e)}static composeAsync(e){return p3(e)}}function Ww(n){return null}function l3(n){return null!=n}function d3(n){return ig(n)?Un(n):n}function u3(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function h3(n,e){return e.map(t=>t(n))}function f3(n){return n.map(e=>function Hle(n){return!n.validate}(e)?e:t=>e.validate(t))}function m3(n){if(!n)return null;const e=n.filter(l3);return 0==e.length?null:function(t){return u3(h3(t,e))}}function Mk(n){return null!=n?m3(f3(n)):null}function p3(n){if(!n)return null;const e=n.filter(l3);return 0==e.length?null:function(t){return Q$(h3(t,e).map(d3)).pipe(de(u3))}}function Pk(n){return null!=n?p3(f3(n)):null}function g3(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _3(n){return n._rawValidators}function b3(n){return n._rawAsyncValidators}function Fk(n){return n?Array.isArray(n)?n:[n]:[]}function Gw(n,e){return Array.isArray(n)?n.includes(e):n===e}function v3(n,e){const t=Fk(e);return Fk(n).forEach(i=>{Gw(t,i)||t.push(i)}),t}function y3(n,e){return Fk(e).filter(t=>!Gw(n,t))}class w3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Pk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Oo extends w3{get formDirective(){return null}get path(){return null}}class La extends w3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class E3{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let I3=(()=>{class n extends E3{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(M(La,2))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&In("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Yt]})}return n})();const N_="VALID",Qw="INVALID",Jf="PENDING",O_="DISABLED";function Lk(n){return(Yw(n)?n.validators:n)||null}function Vk(n,e){return(Yw(e)?e.asyncValidators:n)||null}function Yw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Bk{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===N_}get invalid(){return this.status===Qw}get pending(){return this.status==Jf}get disabled(){return this.status===O_}get enabled(){return this.status!==O_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(v3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(v3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(y3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(y3(e,this._rawAsyncValidators))}hasValidator(e){return Gw(this._rawValidators,e)}hasAsyncValidator(e){return Gw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Jf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=O_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=N_,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===N_||this.status===Jf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?O_:N_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Jf,this._hasOwnPendingAsyncValidator=!0;const t=d3(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?O_:this.errors?Qw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jf)?Jf:this._anyControlsHaveStatus(Qw)?Qw:N_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Qle(n){return Array.isArray(n)?Mk(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Yle(n){return Array.isArray(n)?Pk(n):n||null}(this._rawAsyncValidators)}}class Uk extends Bk{constructor(e,t,r){super(Lk(t),Vk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function T3(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new z(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function C3(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[t])throw new z(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const em=new ee("CallSetDisabledState",{providedIn:"root",factory:()=>Xw}),Xw="always";function L_(n,e,t=Xw){zk(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Jle(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&A3(n,e)})}(n,e),function tde(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ede(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&A3(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Zle(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jw(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),tE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function eE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zk(n,e){const t=_3(n);null!==e.validator?n.setValidators(g3(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=b3(n);null!==e.asyncValidator?n.setAsyncValidators(g3(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();eE(e._rawValidators,i),eE(e._rawAsyncValidators,i)}function tE(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=_3(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=b3(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return eE(e._rawValidators,r),eE(e._rawAsyncValidators,r),t}function A3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function D3(n,e){zk(n,e)}function S3(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const sde={provide:Oo,useExisting:Tn(()=>B_)},V_=Promise.resolve();let B_=(()=>{class n extends Oo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new gt,this.form=new Uk({},Mk(t),Pk(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){V_.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),L_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){V_.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){V_.then(()=>{const r=this._findContainer(t.path),i=new Uk({});D3(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){V_.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){V_.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,S3(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(M(hi,10),M(Nl,10),M(em,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&et("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[ie.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wn([sde]),Yt]})}return n})();function k3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function R3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const M3=class extends Bk{constructor(e=null,t,r){super(Lk(t),Vk(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=R3(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){k3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){k3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){R3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},lde={provide:La,useExisting:Tn(()=>qk)},N3=Promise.resolve();let qk=(()=>{class n extends La{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new M3,this._registered=!1,this.name="",this.update=new gt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Hk(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===qw?t=o:function ide(n){return Object.getPrototypeOf(n.constructor)===su}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function $k(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){L_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){N3.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&St(r);N3.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Zw(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(M(Oo,9),M(hi,10),M(Nl,10),M(Ds,10),M(qo,8),M(em,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ie.None,"disabled","isDisabled"],model:[ie.None,"ngModel","model"],options:[ie.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wn([lde]),Yt,Wr]})}return n})();const ude={provide:Ds,useExisting:Tn(()=>Wk),multi:!0};let Wk=(()=>{class n extends su{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ii(n)))(i||n)}})();static#t=this.\u0275dir=Fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&et("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[wn([ude]),Yt]})}return n})();const gde={provide:Oo,useExisting:Tn(()=>U_)};let Zk,U_=(()=>{class n extends Oo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return L_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Jw(t.control||null,t,!1),function ode(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,S3(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Jw(r||null,t),(n=>n instanceof M3)(i)&&(L_(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);D3(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function nde(n,e){return tE(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zk(this.form,this),this._oldForm&&tE(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(M(hi,10),M(Nl,10),M(em,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&et("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[ie.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wn([gde]),Yt,Wr]})}return n})(),Fde=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({})}return n})(),Ode=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:em,useValue:t.callSetDisabledState??Xw}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[Fde]})}return n})();try{Zk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Zk=!1}let tm,fi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?XV(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Zk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(V(ns))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Z3=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function J3(){if(tm)return tm;if("object"!=typeof document||!document)return tm=new Set(Z3),tm;let n=document.createElement("input");return tm=new Set(Z3.filter(e=>(n.setAttribute("type",e),n.type===e))),tm}let z_;function nm(n){return function Lde(){if(null==z_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>z_=!0}))}finally{z_=z_||!1}return z_}()?n:!!n.capture}var Va=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Va||{});let rE,cu,Jk;function eH(){if(null==cu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return cu=!1,cu;if("scrollBehavior"in document.documentElement.style)cu=!0;else{const n=Element.prototype.scrollTo;cu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return cu}function j_(){if("object"!=typeof document||!document)return Va.NORMAL;if(null==rE){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),rE=Va.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,rE=0===n.scrollLeft?Va.NEGATED:Va.INVERTED),n.remove()}return rE}function Ol(n){return n.composedPath?n.composedPath()[0]:n.target}function eR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function rm(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function rR(n){return kr((e,t)=>n<=t)}function ei(n){return Y((e,t)=>{So(n).subscribe(me(t,()=>t.complete(),Fr)),!t.closed&&e.subscribe(t)})}function sE(n){return null!=n&&"false"!=`${n}`}function iR(n,e=0){return function eue(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function aE(n){return Array.isArray(n)?n:[n]}function mi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Dc(n){return n instanceof qt?n.nativeElement:n}function cE(...n){const e=vg(n),t=R2(n),{args:r,keys:i}=G$(n);if(0===r.length)return Un([],e);const o=new ot(function tue(n,e,t=fn){return r=>{iH(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)iH(e,()=>{const l=Un(n[c],e);let h=!1;l.subscribe(me(r,m=>{o[c]=m,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>K$(i,s):fn));return t?o.pipe(Rk(t)):o}function iH(n,e,t){n?uc(t,n,e):e()}const oH=new Set;let lu,nue=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):iue}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function rue(n,e){if(!oH.has(n))try{lu||(lu=document.createElement("style"),e&&lu.setAttribute("nonce",e),lu.setAttribute("type","text/css"),document.head.appendChild(lu)),lu.sheet&&(lu.sheet.insertRule(`@media ${n} {body{ }}`,0),oH.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(V(fi),V(lx,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iue(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let oue=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new E}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return sH(aE(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=cE(sH(aE(t)).map(s=>this._registerQuery(s).observable));return o=h0(o.pipe(Cs(1)),o.pipe(rR(1),k_(0))),o.pipe(de(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new ot(s=>{const a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Ia(r),de(({matches:s})=>({query:t,matches:s})),ei(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(r){return new(r||n)(V(nue),V(He))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sH(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function cH(n,e,t){const r=lH(n,e);t=t.trim();const i=r.filter(o=>o!==t);i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}function lH(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}class dH{constructor(e,t){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new E,this._typeaheadSubscription=ge.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new E,this.change=new E,e instanceof mh?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):cy(e)&&(this._effectRef=function DV(n,e){qs("NgSignals"),!e?.injector&&Wu();const t=e?.injector??oe(oi),r=!0!==e?.manualCleanup?t.get(hh):null,i=new vZ(t.get(gZ),n,typeof Zone>"u"?null:Zone.current,r,t,e?.allowSignalWrites??!1),o=t.get(qo,null,{optional:!0});return o&&8&o._lView[tt]?(o._lView[Yu]??=[]).push(i.watcher.notify):i.watcher.notify(),i}(()=>this._itemsChanged(e()),{injector:t}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(di(t=>this._pressedLetters.push(t)),k_(e),kr(()=>this._pressedLetters.length>0),de(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((i||rm(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return cy(this._items)?this._items():this._items instanceof mh?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){const t=e.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}}}class lue extends dH{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class due extends dH{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function hH(n){return 0===n.buttons||0===n.detail}function fH(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const _ue=new ee("cdk-input-modality-detector-options"),bue={ignoreKeys:[18,17,224,91,16]},im=nm({passive:!0,capture:!0});let vue=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new w(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ol(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(hH(s)?"keyboard":"mouse"),this._mostRecentTarget=Ol(s))},this._onTouchstart=s=>{fH(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ol(s))},this._options={...bue,...o},this.modalityDetected=this._modality.pipe(rR(1)),this.modalityChanged=this.modalityDetected.pipe(yg()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,im),i.addEventListener("mousedown",this._onMousedown,im),i.addEventListener("touchstart",this._onTouchstart,im)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,im),document.removeEventListener("mousedown",this._onMousedown,im),document.removeEventListener("touchstart",this._onTouchstart,im))}static#e=this.\u0275fac=function(r){return new(r||n)(V(fi),V(He),V(un),V(_ue,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yue=new ee("liveAnnouncerElement",{providedIn:"root",factory:function wue(){return null}}),Eue=new ee("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Iue=0,xue=(()=>{class n{constructor(t,r,i,o){this._ngZone=r,this._defaultOptions=o,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let o,s;return 1===r.length&&"number"==typeof r[0]?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),null==s&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+Iue++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const o=r[i],s=o.getAttribute("aria-owns");s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static#e=this.\u0275fac=function(r){return new(r||n)(V(yue,8),V(He),V(un),V(Eue,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lE=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(lE||{});const Cue=new ee("cdk-focus-monitor-default-options"),dE=nm({passive:!0,capture:!0});let oR=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new E,this._rootNodeFocusAndBlurListener=a=>{for(let l=Ol(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||lE.IMMEDIATE}monitor(t,r=!1){const i=Dc(t);if(!this._platform.isBrowser||1!==i.nodeType)return Qe();const o=function Bde(n){if(function Vde(){if(null==Jk){const n=typeof document<"u"?document.head:null;Jk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Jk}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new E,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Dc(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=Dc(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===lE.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,this._detectionMode===lE.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Ol(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,dE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,dE)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ei(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(V(He),V(fi),V(vue),V(un,8),V(Cue,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tue=(()=>{class n{constructor(t,r){this._elementRef=t,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new gt}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(oR))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return n})();var du=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(du||{});const pH="cdk-high-contrast-black-on-white",gH="cdk-high-contrast-white-on-black",sR="cdk-high-contrast-active";let Aue=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=oe(oue).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return du.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return du.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return du.BLACK_ON_WHITE}return du.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(sR,pH,gH),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===du.BLACK_ON_WHITE?t.add(sR,pH):r===du.WHITE_ON_BLACK&&t.add(sR,gH)}}static#e=this.\u0275fac=function(r){return new(r||n)(V(fi),V(un))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Due=new ee("cdk-dir-doc",{providedIn:"root",factory:function Sue(){return oe(un)}}),kue=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ll=(()=>{class n{constructor(t){this.value="ltr",this.change=new gt,t&&(this.value=function Rue(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?kue.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(V(Due,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({})}return n})();const Mue=["text"],Pue=[[["mat-icon"]],"*"],Fue=["mat-icon","*"];function Nue(n,e){if(1&n&&Wt(0,"mat-pseudo-checkbox",1),2&n){const t=sn();Ke("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function Oue(n,e){1&n&&Wt(0,"mat-pseudo-checkbox",3),2&n&&Ke("disabled",sn().disabled)}function Lue(n,e){if(1&n&&(K(0,"span",4),qe(1),J()),2&n){const t=sn();ce(),$h("(",t.group.label,")")}}const Vue=["mat-internal-form-field",""],Bue=["*"],zue=new ee("mat-sanity-checks",{providedIn:"root",factory:function Uue(){return!0}});let pi=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!eR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(V(Aue),V(zue,8),V(un))};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[$_,$_]})}return n})();class aR{constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o,this.errorState=!1}updateErrorState(){const e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}}let vH=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ss=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Ss||{});class Gue{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=Ss.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const yH=nm({passive:!0,capture:!0});class Kue{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Ol(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){const o=this._events.get(t);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,yH)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);o&&(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,yH)))}}const wH={enterDuration:225,exitDuration:150},EH=nm({passive:!0,capture:!0}),IH=["mousedown","touchstart"],xH=["mouseup","mouseleave","touchend","touchcancel"];class uE{static#e=this._eventManager=new Kue;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Dc(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...wH,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function Yue(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,c=t-i.top,l=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=r.color&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h);const m=window.getComputedStyle(h),_=m.transitionDuration,v="none"===m.transitionProperty||"0s"===_||"0s, 0s"===_||0===i.width&&0===i.height,x=new Gue(this,h,r,v);h.style.transform="scale3d(1, 1, 1)",x.state=Ss.FADING_IN,r.persistent||(this._mostRecentTransientRipple=x);let T=null;return!v&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const P=()=>this._finishRippleTransition(x),F=()=>this._destroyRipple(x);h.addEventListener("transitionend",P),h.addEventListener("transitioncancel",F),T={onTransitionEnd:P,onTransitionCancel:F}}),this._activeRipples.set(x,T),(v||!l)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(e.state===Ss.FADING_OUT||e.state===Ss.HIDDEN)return;const t=e.element,r={...wH,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=Ss.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Dc(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,IH.forEach(r=>{uE._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{xH.forEach(t=>{this._triggerElement.addEventListener(t,this,EH)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ss.FADING_IN?this._startFadeOutTransition(e):e.state===Ss.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Ss.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ss.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=hH(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!fH(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Ss.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ss.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(IH.forEach(t=>uE._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&xH.forEach(t=>e.removeEventListener(t,this,EH)))}}const CH=new ee("mat-ripple-global-options");let uu=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new uE(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(He),M(fi),M(CH,8),M(zo,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&In("mat-ripple-unbounded",i.unbounded)},inputs:{color:[ie.None,"matRippleColor","color"],unbounded:[ie.None,"matRippleUnbounded","unbounded"],centered:[ie.None,"matRippleCentered","centered"],radius:[ie.None,"matRippleRadius","radius"],animation:[ie.None,"matRippleAnimation","animation"],disabled:[ie.None,"matRippleDisabled","disabled"],trigger:[ie.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),TH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[pi,pi]})}return n})(),Xue=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(r){return new(r||n)(M(zo,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){2&r&&In("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Ui],decls:0,vars:0,template:function(r,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),Zue=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[pi]})}return n})();const AH=new ee("MAT_OPTION_PARENT_COMPONENT"),DH=new ee("MatOptgroup");let Jue=0;class ehe{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let cR=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,r,i,o){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Jue++,this.onSelectionChange=new gt,this._stateChanges=new E}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!rm(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new ehe(this,t))}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(qo),M(AH,8),M(DH,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-option"]],viewQuery:function(r,i){if(1&r&&_r(Mue,7),2&r){let o;Xt(o=Zt())&&(i._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,i){1&r&&et("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&r&&(Sd("id",i.id),Fn("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),In("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},inputs:{value:"value",id:"id",disabled:[ie.HasDecoratorInputTransform,"disabled","disabled",St]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[Ai,Ui],ngContentSelectors:Fue,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,i){1&r&&(Ho(Pue),dn(0,Nue,1,2,"mat-pseudo-checkbox",1),Kn(1),K(2,"span",2,0),Kn(4,1),J(),dn(5,Oue,1,1,"mat-pseudo-checkbox",3)(6,Lue,2,1,"span",4),Wt(7,"div",5)),2&r&&(Lr(0,i.multiple?0:-1),ce(5),Lr(5,i.multiple||!i.selected||i.hideSingleSelectionIndicator?-1:5),ce(),Lr(6,i.group&&i.group._inert?6:-1),ce(),Ke("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Xue,uu],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),SH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[TH,pi,Zue]})}return n})();const kH={capture:!0},RH=["focus","click","mouseenter","touchstart"],lR="mat-ripple-loader-uninitialized",dR="mat-ripple-loader-class-name",MH="mat-ripple-loader-centered",hE="mat-ripple-loader-disabled";let rhe=(()=>{class n{constructor(){this._document=oe(un,{optional:!0}),this._animationMode=oe(zo,{optional:!0}),this._globalRippleOptions=oe(CH,{optional:!0}),this._platform=oe(fi),this._ngZone=oe(He),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const i=t.target.closest(`[${lR}]`);i&&this._createRipple(i)},this._ngZone.runOutsideAngular(()=>{for(const t of RH)this._document?.addEventListener(t,this._onInteraction,kH)})}ngOnDestroy(){const t=this._hosts.keys();for(const r of t)this.destroyRipple(r);for(const r of RH)this._document?.removeEventListener(r,this._onInteraction,kH)}configureRipple(t,r){t.setAttribute(lR,""),(r.className||!t.hasAttribute(dR))&&t.setAttribute(dR,r.className||""),r.centered&&t.setAttribute(MH,""),r.disabled&&t.setAttribute(hE,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,r){const i=this._hosts.get(t);i?i.disabled=r:r?t.setAttribute(hE,""):t.removeAttribute(hE)}_createRipple(t){if(!this._document)return;const r=this._hosts.get(t);if(r)return r;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(dR)),t.append(i);const o=new uu(new qt(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(MH),o.disabled=t.hasAttribute(hE),this.attachRipple(t,o),o}attachRipple(t,r){t.removeAttribute(lR),this._hosts.set(t,r)}destroyRipple(t){const r=this._hosts.get(t);r&&(r.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){2&r&&In("mdc-form-field--align-end","before"===i.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Ui],attrs:Vue,ngContentSelectors:Bue,decls:1,vars:0,template:function(r,i){1&r&&(Ho(),Kn(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return n})();const FH=["mat-button",""],NH=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],OH=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],she=new ee("MAT_BUTTON_CONFIG"),ahe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let LH=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,r,i,o){this._elementRef=t,this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=oe(oR),this._rippleLoader=oe(rhe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=oe(she,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:h}of ahe)a.hasAttribute(l)&&c.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){Kv()};static#t=this.\u0275dir=Fe({type:n,inputs:{color:"color",disableRipple:[ie.HasDecoratorInputTransform,"disableRipple","disableRipple",St],disabled:[ie.HasDecoratorInputTransform,"disabled","disabled",St],ariaDisabled:[ie.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",St],disabledInteractive:[ie.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",St]},features:[Ai]})}return n})(),che=(()=>{class n extends LH{constructor(t,r,i,o){super(t,r,i,o),this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(r){Kv()};static#t=this.\u0275dir=Fe({type:n,inputs:{tabIndex:[ie.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:ll(t)]},features:[Ai,Yt]})}return n})(),lhe=(()=>{class n extends LH{constructor(t,r,i,o){super(t,r,i,o)}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(fi),M(He),M(zo,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(Fn("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Dd(i.color?"mat-"+i.color:""),In("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Yt,Ui],attrs:FH,ngContentSelectors:OH,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(Ho(NH),Wt(0,"span",0),Kn(1),K(2,"span",1),Kn(3,1),J(),Kn(4,2),Wt(5,"span",2)(6,"span",3)),2&r&&In("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),dhe=(()=>{class n extends che{constructor(t,r,i,o){super(t,r,i,o)}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(fi),M(He),M(zo,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,i){2&r&&(Fn("disabled",i._getDisabledAttribute())("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-disabled",i._getDisabledAttribute()),Dd(i.color?"mat-"+i.color:""),In("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[Yt,Ui],attrs:FH,ngContentSelectors:OH,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(Ho(NH),Wt(0,"span",0),Kn(1),K(2,"span",1),Kn(3,1),J(),Kn(4,2),Wt(5,"span",2)(6,"span",3)),2&r&&In("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),hhe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[pi,TH,pi]})}return n})();const fhe=["input"],mhe=["label"],phe=["*"],ghe=new ee("mat-checkbox-default-options",{providedIn:"root",factory:VH});function VH(){return{color:"accent",clickAction:"check-indeterminate"}}var lo=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(lo||{});const _he={provide:Ds,useExisting:Tn(()=>uR),multi:!0};class bhe{}let vhe=0;const BH=VH();let uR=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const r=new bhe;return r.source=this,r.checked=t,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,i,o,s,a){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._animationMode=s,this._options=a,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new gt,this.indeterminateChange=new gt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=lo.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||BH,this.color=this._options.color||BH.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++vhe}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const r=t!=this._indeterminate;this._indeterminate=t,r&&(this._transitionCheckState(this._indeterminate?lo.Indeterminate:this.checked?lo.Checked:lo.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let r=this._currentCheckState,i=this._getAnimationTargetElement();if(r!==t&&i&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?lo.Checked:lo.Unchecked),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,r){if("NoopAnimations"===this._animationMode)return"";switch(t){case lo.Init:if(r===lo.Checked)return this._animationClasses.uncheckedToChecked;if(r==lo.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case lo.Unchecked:return r===lo.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case lo.Checked:return r===lo.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case lo.Indeterminate:return r===lo.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const r=this._inputElement;r&&(r.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(qo),M(He),ec("tabindex"),M(zo,8),M(ghe,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-checkbox"]],viewQuery:function(r,i){if(1&r&&(_r(fhe,5),_r(mhe,5),_r(uu,5)),2&r){let o;Xt(o=Zt())&&(i._inputElement=o.first),Xt(o=Zt())&&(i._labelElement=o.first),Xt(o=Zt())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(r,i){2&r&&(Sd("id",i.id),Fn("tabindex",null)("aria-label",null)("aria-labelledby",null),Dd(i.color?"mat-"+i.color:"mat-accent"),In("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{ariaLabel:[ie.None,"aria-label","ariaLabel"],ariaLabelledby:[ie.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[ie.None,"aria-describedby","ariaDescribedby"],id:"id",required:[ie.HasDecoratorInputTransform,"required","required",St],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[ie.HasDecoratorInputTransform,"disableRipple","disableRipple",St],tabIndex:[ie.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:ll(t)],color:"color",checked:[ie.HasDecoratorInputTransform,"checked","checked",St],disabled:[ie.HasDecoratorInputTransform,"disabled","disabled",St],indeterminate:[ie.HasDecoratorInputTransform,"indeterminate","indeterminate",St]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[wn([_he,{provide:hi,useExisting:n,multi:!0}]),Ai,Wr,Ui],ngContentSelectors:phe,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,i){if(1&r){const o=xo();Ho(),K(0,"div",3),et("click",function(a){return cn(o),ln(i._preventBubblingFromLabel(a))}),K(1,"div",4,0)(3,"div",5),et("click",function(){return cn(o),ln(i._onTouchTargetClick())}),J(),K(4,"input",6,1),et("blur",function(){return cn(o),ln(i._onBlur())})("click",function(){return cn(o),ln(i._onInputClick())})("change",function(a){return cn(o),ln(i._onInteractionEvent(a))}),J(),Wt(6,"div",7),K(7,"div",8),Xe(),K(8,"svg",9),Wt(9,"path",10),J(),function Li(){!function ma(){wt.lFrame.currentNamespace=null}()}(),Wt(10,"div",11),J(),Wt(11,"div",12),J(),K(12,"label",13,2),Kn(14),J()()}if(2&r){const o=sl(2);Ke("labelPosition",i.labelPosition),ce(4),In("mdc-checkbox--selected",i.checked),Ke("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.disabled?-1:i.tabIndex),Fn("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-checked",i.indeterminate?"mixed":null)("name",i.name)("value",i.value),ce(7),Ke("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),ce(),Ke("for",i.inputId)}},dependencies:[uu,PH],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),Ehe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[uR,pi,pi]})}return n})();class Ihe{constructor(e){this._box=e,this._destroyed=new E,this._resizeSubject=new E,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ot(t=>{const r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(kr(t=>t.some(r=>r.target===e)),tA({bufferSize:1,refCount:!0}),ei(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let xhe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=oe(He)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new Ihe(i)),this._observers.get(i).observe(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var It=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(It||{});const Sc="*";function fE(n,e){return{type:It.Trigger,name:n,definitions:e,options:{}}}function om(n,e=null){return{type:It.Animate,styles:e,timings:n}}function ks(n){return{type:It.Style,styles:n,offset:null}}function q_(n,e,t){return{type:It.State,name:n,styles:e,options:t}}function hu(n,e,t=null){return{type:It.Transition,expr:n,animation:e,options:t}}function The(n=null){return{type:It.AnimateChild,options:n}}function Ahe(n,e,t=null){return{type:It.Query,selector:n,animation:e,options:t}}class W_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class UH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let zH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mhe=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Dc(t);return new ot(i=>{const s=this._observeElement(r).subscribe(i);return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new E,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}static#e=this.\u0275fac=function(r){return new(r||n)(V(zH))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Phe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=iR(t),this._subscribe()}constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new gt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(k_(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(M(Mhe),M(qt),M(He))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[ie.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",St],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[Ai]})}return n})(),Fhe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({providers:[zH]})}return n})();const Nhe=["notch"],Ohe=["matFormFieldNotchedOutline",""],Lhe=["*"],Vhe=["textField"],Bhe=["iconPrefixContainer"],Uhe=["textPrefixContainer"],zhe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jhe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function $he(n,e){1&n&&Wt(0,"span",17)}function Hhe(n,e){if(1&n&&(K(0,"label",16),Kn(1,1),dn(2,$he,1,0,"span",17),J()),2&n){const t=sn(2);Ke("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Fn("for",t._control.id),ce(2),Lr(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function qhe(n,e){1&n&&dn(0,Hhe,3,5,"label",16),2&n&&Lr(0,sn()._hasFloatingLabel()?0:-1)}function Whe(n,e){1&n&&Wt(0,"div",5)}function Ghe(n,e){}function Khe(n,e){1&n&&dn(0,Ghe,0,0,"ng-template",11),2&n&&(sn(2),Ke("ngTemplateOutlet",sl(1)))}function Qhe(n,e){if(1&n&&(K(0,"div",7),dn(1,Khe,1,1,null,11),J()),2&n){const t=sn();Ke("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),ce(),Lr(1,t._forceDisplayInfixLabel()?-1:1)}}function Yhe(n,e){1&n&&(K(0,"div",8,2),Kn(2,2),J())}function Xhe(n,e){1&n&&(K(0,"div",9,3),Kn(2,3),J())}function Zhe(n,e){}function Jhe(n,e){1&n&&dn(0,Zhe,0,0,"ng-template",11),2&n&&(sn(),Ke("ngTemplateOutlet",sl(1)))}function efe(n,e){1&n&&(K(0,"div",12),Kn(1,4),J())}function tfe(n,e){1&n&&(K(0,"div",13),Kn(1,5),J())}function nfe(n,e){1&n&&Wt(0,"div",14)}function rfe(n,e){1&n&&(K(0,"div",18),Kn(1,6),J()),2&n&&Ke("@transitionMessages",sn()._subscriptAnimationState)}function ife(n,e){if(1&n&&(K(0,"mat-hint",20),qe(1),J()),2&n){const t=sn(2);Ke("id",t._hintLabelId),ce(),Dr(t.hintLabel)}}function ofe(n,e){if(1&n&&(K(0,"div",19),dn(1,ife,2,2,"mat-hint",20),Kn(2,7),Wt(3,"div",21),Kn(4,8),J()),2&n){const t=sn();Ke("@transitionMessages",t._subscriptAnimationState),ce(),Lr(1,t.hintLabel?1:-1)}}let mE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Fe({type:n,selectors:[["mat-label"]],standalone:!0})}return n})();const sfe=new ee("MatError");let afe=0,jH=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+afe++}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Fe({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(Sd("id",i.id),Fn("align",null),In("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const cfe=new ee("MatPrefix"),lfe=new ee("MatSuffix"),$H=new ee("FloatingLabelParent");let HH=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=oe(xhe),this._ngZone=oe(He),this._parent=oe($H),this._resizeSubscription=new ge}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function dfe(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt))};static#t=this.\u0275dir=Fe({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&In("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const qH="mdc-line-ripple--active",pE="mdc-line-ripple--deactivating";let WH=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,s=o.contains(pE);"opacity"===i.propertyName&&s&&o.remove(qH,pE)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(pE),t.add(qH)}deactivate(){this._elementRef.nativeElement.classList.add(pE)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(He))};static#t=this.\u0275dir=Fe({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),GH=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(He))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&_r(Nhe,5),2&r){let o;Xt(o=Zt())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&In("mdc-notched-outline--notched",i.open)},inputs:{open:[ie.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Ui],attrs:Ohe,ngContentSelectors:Lhe,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(Ho(),Wt(0,"div",1),K(1,"div",2,0),Kn(3),J(),Wt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const ufe={transitionMessages:fE("transitionMessages",[q_("enter",ks({opacity:1,transform:"translateY(0%)"})),hu("void => enter",[ks({opacity:0,transform:"translateY(-5px)"}),om("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fR=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Fe({type:n})}return n})();const mR=new ee("MatFormField"),hfe=new ee("MAT_FORM_FIELD_DEFAULT_OPTIONS");let KH=0,XH=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=sE(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,o,s,a,c,l){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+KH++,this._hintLabelId="mat-mdc-hint-"+KH++,this._subscriptAnimationState="",this._destroyed=new E,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ei(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),mc(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ei(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ei(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,s=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(qo),M(He),M(Ll),M(fi),M(hfe,8),M(zo,8),M(un))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(1&r&&(no(o,mE,5),no(o,mE,7),no(o,fR,5),no(o,cfe,5),no(o,lfe,5),no(o,sfe,5),no(o,jH,5)),2&r){let s;Xt(s=Zt())&&(i._labelChildNonStatic=s.first),Xt(s=Zt())&&(i._labelChildStatic=s.first),Xt(s=Zt())&&(i._formFieldControl=s.first),Xt(s=Zt())&&(i._prefixChildren=s),Xt(s=Zt())&&(i._suffixChildren=s),Xt(s=Zt())&&(i._errorChildren=s),Xt(s=Zt())&&(i._hintChildren=s)}},viewQuery:function(r,i){if(1&r&&(_r(Vhe,5),_r(Bhe,5),_r(Uhe,5),_r(HH,5),_r(GH,5),_r(WH,5)),2&r){let o;Xt(o=Zt())&&(i._textField=o.first),Xt(o=Zt())&&(i._iconPrefixContainer=o.first),Xt(o=Zt())&&(i._textPrefixContainer=o.first),Xt(o=Zt())&&(i._floatingLabel=o.first),Xt(o=Zt())&&(i._notchedOutline=o.first),Xt(o=Zt())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){2&r&&In("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[wn([{provide:mR,useExisting:n},{provide:$H,useExisting:n}]),Ui],ngContentSelectors:jhe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(1&r){const o=xo();Ho(zhe),dn(0,qhe,1,1,"ng-template",null,0,fL),K(2,"div",4,1),et("click",function(a){return cn(o),ln(i._control.onContainerClick(a))}),dn(4,Whe,1,0,"div",5),K(5,"div",6),dn(6,Qhe,2,2,"div",7)(7,Yhe,3,0,"div",8)(8,Xhe,3,0,"div",9),K(9,"div",10),dn(10,Jhe,1,1,null,11),Kn(11),J(),dn(12,efe,2,0,"div",12)(13,tfe,2,0,"div",13),J(),dn(14,nfe,1,0,"div",14),J(),K(15,"div",15),dn(16,rfe,2,1)(17,ofe,5,2),J()}if(2&r){let o;ce(2),In("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),ce(2),Lr(4,i._hasOutline()||i._control.disabled?-1:4),ce(2),Lr(6,i._hasOutline()?6:-1),ce(),Lr(7,i._hasIconPrefix?7:-1),ce(),Lr(8,i._hasTextPrefix?8:-1),ce(2),Lr(10,!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),ce(2),Lr(12,i._hasTextSuffix?12:-1),ce(),Lr(13,i._hasIconSuffix?13:-1),ce(),Lr(14,i._hasOutline()?-1:14),ce(),In("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),ce(),Lr(16,"error"===(o=i._getDisplayedMessages())?16:"hint"===o?17:-1)}},dependencies:[HH,GH,KV,WH,jH],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ufe.transitionMessages]},changeDetection:0})}return n})(),gE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[pi,PT,Fhe,pi]})}return n})();function G_(n,e){const t=Pe(n)?n:()=>n,r=i=>i.error(t());return new ot(e?i=>e.schedule(r,0,i):r)}function fu(n){return Y((e,t)=>{let o,r=null,i=!1;r=e.subscribe(me(t,void 0,void 0,s=>{o=So(n(s,fu(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function _E(n){return Y((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function sm(n,e){return Pe(e)?$i(n,e,1):$i(n,1)}class pR{}class kc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof kc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new kc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof kc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class pfe{encodeKey(e){return ZH(e)}encodeValue(e){return ZH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const _fe=/%(\d[a-f0-9])/gi,bfe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZH(n){return encodeURIComponent(n).replace(_fe,(e,t)=>bfe[t]??e)}function bE(n){return`${n}`}class Vl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pfe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gfe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(bE):[bE(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Vl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(bE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(bE(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class vfe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function JH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function e6(n){return typeof Blob<"u"&&n instanceof Blob}function t6(n){return typeof FormData<"u"&&n instanceof FormData}class K_{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function yfe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new kc,this.context??=new vfe,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Vl,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||JH(this.body)||e6(this.body)||t6(this.body)||function wfe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Vl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||t6(this.body)?null:e6(this.body)?this.body.type||null:JH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress;let l=e.headers||this.headers,h=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((g,_)=>g.set(_,e.setHeaders[_]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,_)=>g.set(_,e.setParams[_]),h)),new K_(t,r,s,{params:h,headers:l,context:m,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}}var _R=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_R||{});class bR{constructor(e,t=r6.Ok,r="OK"){this.headers=e.headers||new kc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Q_ extends bR{constructor(e={}){super(e),this.type=_R.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Q_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}var r6=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(r6||{});function vR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let yR=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof K_)o=t;else{let c,l;c=i.headers instanceof kc?i.headers:new kc(i.headers),i.params&&(l=i.params instanceof Vl?i.params:new Vl({fromObject:i.params})),o=new K_(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const s=Qe(o).pipe(sm(c=>this.handler.handle(c)));if(t instanceof K_||"events"===i.observe)return s;const a=s.pipe(kr(c=>c instanceof Q_));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(de(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(de(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(de(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Vl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,vR(i,r))}post(t,r,i={}){return this.request("POST",t,vR(i,r))}put(t,r,i={}){return this.request("PUT",t,vR(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(V(pR))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();const $fe=["*"];let wE;function Y_(n){return function Hfe(){if(void 0===wE&&(wE=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(wE=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return wE}()?.createHTML(n)||n}function b6(n){return Error(`Unable to find icon with the name "${n}"`)}function v6(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function y6(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class pu{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let EE=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new pu(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const s=this._sanitizer.sanitize(Vi.HTML,i);if(!s)throw y6(i);const a=Y_(s);return this._addSvgIconConfig(t,r,new pu("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new pu(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(Vi.HTML,r);if(!o)throw y6(r);const s=Y_(o);return this._addSvgIconSetConfig(t,new pu("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Vi.RESOURCE_URL,t);if(!r)throw v6(t);const i=this._cachedIconsByUrl.get(r);return i?Qe(IE(i)):this._loadSvgIconFromConfig(new pu(t,null)).pipe(di(o=>this._cachedIconsByUrl.set(r,o)),de(o=>IE(o)))}getNamedSvgIcon(t,r=""){const i=w6(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):G_(b6(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Qe(IE(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(de(r=>IE(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Qe(i):Q$(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(fu(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Vi.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),Qe(null)})))).pipe(de(()=>{const s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw b6(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(di(r=>t.svgText=r),de(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Qe(null):this._fetchIcon(t).pipe(di(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(Y_("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Y_("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function qfe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const s=this._sanitizer.sanitize(Vi.RESOURCE_URL,r);if(!s)throw v6(r);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(de(l=>Y_(l)),_E(()=>this._inProgressUrlFetches.delete(s)),j2());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(w6(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return Gfe(o)?new pu(o.url,null,o.options):new pu(o,null)}}static#e=this.\u0275fac=function(r){return new(r||n)(V(yR,8),V($T),V(un,8),V(ts))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IE(n){return n.cloneNode(!0)}function w6(n,e){return n+":"+e}function Gfe(n){return!(!n.url||!n.options)}const Kfe=new ee("MAT_ICON_DEFAULT_OPTIONS"),Qfe=new ee("mat-icon-location",{providedIn:"root",factory:function Yfe(){const n=oe(un),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),E6=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Xfe=E6.map(n=>`[${n}]`).join(", "),Zfe=/^url\(['"]?#(.*?)['"]?\)$/;let I6=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,o,s,a){this._elementRef=t,this._iconRegistry=r,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ge.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Xfe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)E6.forEach(s=>{const a=r[o],c=a.getAttribute(s),l=c?c.match(Zfe):null;if(l){let h=i.get(a);h||(h=[],i.set(a,h)),h.push({name:s,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Cs(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(EE),ec("aria-hidden"),M(Qfe),M(ts),M(Kfe,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){2&r&&(Fn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Dd(i.color?"mat-"+i.color:""),In("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:[ie.HasDecoratorInputTransform,"inline","inline",St],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Ai,Ui],ngContentSelectors:$fe,decls:1,vars:0,template:function(r,i){1&r&&(Ho(),Kn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Jfe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[pi,pi]})}return n})();const eme=["addListener","removeListener"],tme=["addEventListener","removeEventListener"],nme=["on","off"];function Ul(n,e,t,r){if(Pe(t)&&(r=t,t=void 0),r)return Ul(n,e,t).pipe(Rk(r));const[i,o]=function ome(n){return Pe(n.addEventListener)&&Pe(n.removeEventListener)}(n)?tme.map(s=>a=>n[s](e,a,t)):function rme(n){return Pe(n.addListener)&&Pe(n.removeListener)}(n)?eme.map(x6(n,e)):function ime(n){return Pe(n.on)&&Pe(n.off)}(n)?nme.map(x6(n,e)):[];if(!i&&JT(n))return $i(s=>Ul(s,e,t))(So(n));if(!i)throw new TypeError("Invalid event target");return new ot(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function x6(n,e){return t=>r=>n[t](e,r)}function IR(n=0,e,t=tte){let r=-1;return null!=e&&(k2(e)?t=e:r=e),new ot(i=>{let o=function ame(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function xR(n,e=Yh){return function sme(n){return Y((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(me(t,l=>{r=!0,i=l,o||So(n(l)).subscribe(o=me(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>IR(n,e))}const C6=nm({passive:!0});let cme=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return as;const r=Dc(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new E,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||r.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(r.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,C6),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",a,C6)}}),o}stopMonitoring(t){const r=Dc(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}static#e=this.\u0275fac=function(r){return new(r||n)(V(fi),V(He))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lme=(()=>{class n{get minRows(){return this._minRows}set minRows(t){this._minRows=iR(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=iR(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(t){this._cachedPlaceholderHeight=void 0,t?this._textareaElement.setAttribute("placeholder",t):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(t,r,i,o){this._elementRef=t,this._platform=r,this._ngZone=i,this._destroyed=new E,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=s=>{this._hasFocus="focus"===s.type},this._document=o,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Ul(this._getWindow(),"resize").pipe(xR(16),ei(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,t.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const t=this._textareaElement,r=t.style.marginBottom||"",i=this._platform.FIREFOX,o=i&&this._hasFocus,s=i?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";o&&(t.style.marginBottom=`${t.clientHeight}px`),t.classList.add(s);const a=t.scrollHeight-4;return t.classList.remove(s),o&&(t.style.marginBottom=r),a}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const t=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=t}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const r=this._elementRef.nativeElement,i=r.value;if(!t&&this._minRows===this._previousMinRows&&i===this._previousValue)return;const o=this._measureScrollHeight(),s=Math.max(o,this._cachedPlaceholderHeight||0);r.style.height=`${s}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(r)):setTimeout(()=>this._scrollToCaretPosition(r))}),this._previousValue=i,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:r,selectionEnd:i}=t;!this._destroyed.isStopped&&this._hasFocus&&t.setSelectionRange(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(fi),M(He),M(un,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(r,i){1&r&&et("input",function(){return i._noopInputHandler()})},inputs:{minRows:[ie.None,"cdkAutosizeMinRows","minRows"],maxRows:[ie.None,"cdkAutosizeMaxRows","maxRows"],enabled:[ie.HasDecoratorInputTransform,"cdkTextareaAutosize","enabled",St],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"],standalone:!0,features:[Ai]})}return n})(),dme=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({})}return n})();const ume=new ee("MAT_INPUT_VALUE_ACCESSOR"),hme=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let fme=0,mme=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=sE(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(J$.required)??!1}set required(t){this._required=sE(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&J3().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=sE(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,r,i,o,s,a,c,l,h,m){this._elementRef=t,this._platform=r,this.ngControl=i,this._autofillMonitor=l,this._formField=m,this._uid="mat-input-"+fme++,this.focused=!1,this.stateChanges=new E,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(v=>J3().has(v)),this._iOSKeyupListener=v=>{const x=v.target;!x.value&&0===x.selectionStart&&0===x.selectionEnd&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))};const g=this._elementRef.nativeElement,_=g.nodeName.toLowerCase();this._inputValueAccessor=c||g,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&h.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new aR(a,i,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===_,this._isTextarea="textarea"===_,this._isInFormField=!!m,this._isNativeSelect&&(this.controlType=g.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){hme.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(fi),M(La,10),M(B_,8),M(U_,8),M(vH),M(ume,10),M(cme),M(He),M(mR,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,i){1&r&&et("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&r&&(Sd("id",i.id)("disabled",i.disabled)("required",i.required),Fn("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),In("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[ie.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[wn([{provide:fR,useExisting:n}]),Wr]})}return n})(),pme=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[pi,gE,gE,dme,pi]})}return n})();const X_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=X_;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new ge(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=X_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=X_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class _me extends a0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class gme extends s0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=X_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(X_.cancelAnimationFrame(t),e._scheduled=void 0)}});let CR,vme=1;const xE={};function T6(n){return n in xE&&(delete xE[n],!0)}const yme={setImmediate(n){const e=vme++;return xE[e]=!0,CR||(CR=Promise.resolve()),CR.then(()=>T6(e)&&n()),e},clearImmediate(n){T6(n)}},{setImmediate:wme,clearImmediate:Eme}=yme,CE={setImmediate(...n){const{delegate:e}=CE;return(e?.setImmediate||wme)(...n)},clearImmediate(n){const{delegate:e}=CE;return(e?.clearImmediate||Eme)(n)},delegate:void 0};new class xme extends a0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ime extends s0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=CE.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(CE.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});let A6=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ot(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(xR(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(kr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Dc(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ul(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(V(He),V(fi),V(un,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ame=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new E,this._elementScrolled=new ot(s=>this.ngZone.runOutsideAngular(()=>Ul(this.elementRef.nativeElement,"scroll").pipe(ei(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&j_()!=Va.NORMAL?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),j_()==Va.INVERTED?t.left=t.right:j_()==Va.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;eH()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?i:r:"end"==t&&(t=s?r:i),s&&j_()==Va.INVERTED?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&j_()==Va.NEGATED?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(A6),M(He),M(Ll,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),Z_=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new E,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(V(fi),V(He),V(un,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TR=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({})}return n})(),D6=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[$_,TR,$_,TR]})}return n})();class AR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class kme extends AR{constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class TE extends AR{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Rme extends AR{constructor(e){super(),this.element=e instanceof qt?e.nativeElement:e}}class S6{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof kme?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof TE?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Rme?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Mme extends S6{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||oi.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Pme=(()=>{class n extends TE{constructor(t,r){super(t,r)}static#e=this.\u0275fac=function(r){return new(r||n)(M(Io),M(Bi))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[Yt]})}return n})(),DR=(()=>{class n extends S6{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new gt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(M(Ed),M(Bi),M(un))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ie.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Yt]})}return n})(),Fme=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({})}return n})();const k6=eH();class Nme{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=mi(-this._previousScrollPosition.left),e.style.top=mi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),k6&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),k6&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Ome{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(kr(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class R6{enable(){}disable(){}attach(){}}function SR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function M6(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Lme{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();SR(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Vme=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new R6,this.close=s=>new Ome(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Nme(this._viewportRuler,this._document),this.reposition=s=>new Lme(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(r){return new(r||n)(V(A6),V(Z_),V(He),V(un))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class P6{constructor(e){if(this.scrollStrategy=new R6,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Bme{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let F6=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(V(un))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ume=(()=>{class n extends F6{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(V(un),V(He,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zme=(()=>{class n extends F6{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ol(o)},this._clickListener=o=>{const s=Ol(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const h=c[l];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const m=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(V(un),V(fi),V(He,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N6=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||eR()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),eR()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(V(un),V(fi))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class jme{constructor(e,t,r,i,o,s,a,c,l,h=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new E,this._attachments=new E,this._detachments=new E,this._locationChanges=ge.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new E,this._outsidePointerEvents=new E,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Cs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=mi(this._config.width),e.height=mi(this._config.height),e.minWidth=mi(this._config.minWidth),e.minHeight=mi(this._config.minHeight),e.maxWidth=mi(this._config.maxWidth),e.maxHeight=mi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=aE(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ei(mc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const O6="cdk-overlay-connected-position-bounding-box",$me=/([A-Za-z%]+)$/;class Hme{get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new E,this._resizeSubscription=ge.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(O6),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,t,a),h=this._getOverlayFit(l,t,r,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(h,l,r)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const h=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);h>c&&(c=h,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(O6),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=V6(t);let{x:s,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(s+=c),l&&(a+=l);let g=0-a,_=a+o.height-r.height,v=this._subtractOverflows(o.width,0-s,s+o.width-r.width),x=this._subtractOverflows(o.height,g,_),T=v*x;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=L6(this._overlayRef.getConfig().minHeight),a=L6(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=V6(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),l=Math.max(o.left-r.left-e.x,0);let h=0,m=0;return h=i.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,m=i.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:h,y:m},{x:e.x+h,y:e.y+m}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function qme(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new Bme(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,h,m,g;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const _=Math.min(r.bottom-e.y+r.top,e.y),v=this._lastBoundingBoxSize.height;o=2*_,s=e.y-_,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-v/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)g=r.width-e.x+2*this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)m=e.x,h=r.right-e.x;else{const _=Math.min(r.right-e.x+r.left,e.x),v=this._lastBoundingBoxSize.width;h=2*_,m=e.x-_,h>v&&!this._isInitialRender&&!this._growAfterOpen&&(m=e.x-v/2)}return{top:s,left:m,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=mi(r.height),i.top=mi(r.top),i.bottom=mi(r.bottom),i.width=mi(r.width),i.left=mi(r.left),i.right=mi(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=mi(o)),s&&(i.maxWidth=mi(s))}this._lastBoundingBoxSize=r,gu(this._boundingBox.style,i)}_resetBoundingBoxStyles(){gu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const h=this._viewportRuler.getViewportScrollPosition();gu(r,this._getExactOverlayY(t,e,h)),gu(r,this._getExactOverlayX(t,e,h))}else r.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=mi(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=mi(s.maxWidth):o&&(r.maxWidth="")),gu(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=mi(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=mi(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:M6(e,r),isOriginOutsideView:SR(e,r),isOverlayClipped:M6(t,r),isOverlayOutsideView:SR(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&aE(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof qt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function gu(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function L6(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split($me);return t&&"px"!==t?null:parseFloat(e)}return n||null}function V6(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const B6="cdk-global-overlay-wrapper";class Wme{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(B6),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,m=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let _="",v="",x="";c?x="flex-start":"center"===h?(x="center",g?v=m:_=m):g?"left"===h||"end"===h?(x="flex-end",_=m):("right"===h||"start"===h)&&(x="flex-start",v=m):"left"===h||"start"===h?(x="flex-start",_=m):("right"===h||"end"===h)&&(x="flex-end",v=m),e.position=this._cssPosition,e.marginLeft=c?"0":_,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":v,t.justifyContent=x,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(B6),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Gme=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new Wme}flexibleConnectedTo(t){return new Hme(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(V(Z_),V(un),V(fi),V(N6))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kme=0,am=(()=>{class n{constructor(t,r,i,o,s,a,c,l,h,m,g,_){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=h,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=_}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new P6(t);return s.direction=s.direction||this._directionality.value,new jme(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Kme++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ac)),new Mme(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(V(Vme),V(N6),V(Ed),V(Gme),V(Ume),V(oi),V(He),V(un),V(Ll),V(Gh),V(zme),V(zo,8))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qme=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],U6=new ee("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=oe(am);return()=>n.scrollStrategies.reposition()}});let kR=(()=>{class n{constructor(t){this.elementRef=t}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),z6=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,r,i,o,s){this._overlay=t,this._dir=s,this._backdropSubscription=ge.EMPTY,this._attachSubscription=ge.EMPTY,this._detachSubscription=ge.EMPTY,this._positionSubscription=ge.EMPTY,this._disposeOnNavigation=!1,this._ngZone=oe(He),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new gt,this.positionChange=new gt,this.attach=new gt,this.detach=new gt,this.overlayKeydown=new gt,this.overlayOutsideClick=new gt,this._templatePortal=new TE(r,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Qme);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!rm(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new P6({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof kR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Sme(n,e=!1){return Y((t,r)=>{let i=0;t.subscribe(me(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(M(am),M(Io),M(Bi),M(U6),M(Ll,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[ie.None,"cdkConnectedOverlayOrigin","origin"],positions:[ie.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[ie.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[ie.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[ie.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[ie.None,"cdkConnectedOverlayWidth","width"],height:[ie.None,"cdkConnectedOverlayHeight","height"],minWidth:[ie.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[ie.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[ie.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[ie.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[ie.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[ie.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[ie.None,"cdkConnectedOverlayOpen","open"],disableClose:[ie.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[ie.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[ie.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",St],lockPosition:[ie.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",St],flexibleDimensions:[ie.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",St],growAfterOpen:[ie.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",St],push:[ie.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",St],disposeOnNavigation:[ie.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",St]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Ai,Wr]})}return n})();const Xme={provide:U6,deps:[am],useFactory:function Yme(n){return()=>n.scrollStrategies.reposition()}};let Zme=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({providers:[am,Xme],imports:[$_,Fme,D6,D6]})}return n})();class epe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new E,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,r=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(this._getConcreteValue(o,r))).forEach(o=>this._unmarkSelected(o));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}return e}}function RR(n){return new ot(e=>{So(n()).subscribe(e)})}const tpe=["trigger"],npe=["panel"],rpe=[[["mat-select-trigger"]],"*"],ipe=["mat-select-trigger","*"];function ope(n,e){if(1&n&&(K(0,"span",4),qe(1),J()),2&n){const t=sn();ce(),Dr(t.placeholder)}}function spe(n,e){1&n&&Kn(0)}function ape(n,e){if(1&n&&(K(0,"span",11),qe(1),J()),2&n){const t=sn(2);ce(),Dr(t.triggerValue)}}function cpe(n,e){if(1&n&&(K(0,"span",10),dn(1,spe,1,0)(2,ape,2,1),J()),2&n){const t=sn();ce(),Lr(1,t.customTrigger?1:2)}}function lpe(n,e){if(1&n){const t=xo();K(0,"div",12,1),et("@transformPanel.done",function(i){return cn(t),ln(sn()._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){return cn(t),ln(sn()._handleKeydown(i))}),Kn(2,1),J()}if(2&n){const t=sn();(function WN(n,e,t){Gs(vo,ya,Mh(ne(),n,e,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),Ke("ngClass",t.panelClass)("@transformPanel","showing"),Fn("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const dpe={transformPanelWrap:fE("transformPanelWrap",[hu("* => void",Ahe("@transformPanel",[The()],{optional:!0}))]),transformPanel:fE("transformPanel",[q_("void",ks({opacity:0,transform:"scale(1, 0.8)"})),hu("void => showing",om("120ms cubic-bezier(0, 0, 0.2, 1)",ks({opacity:1,transform:"scale(1, 1)"}))),hu("* => void",om("100ms linear",ks({opacity:0})))])};let $6=0;const H6=new ee("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=oe(am);return()=>n.scrollStrategies.reposition()}}),hpe=new ee("MAT_SELECT_CONFIG"),fpe={provide:H6,deps:[am],useFactory:function upe(n){return()=>n.scrollStrategies.reposition()}},mpe=new ee("MatSelectTrigger");class ppe{constructor(e,t){this.source=e,this.value=t}}let q6=(()=>{class n{_scrollOptionIntoView(t){const r=this.options.toArray()[t];if(r){const i=this.panel.nativeElement,o=function the(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),o=0;for(let s=0;s<n+1;s++)r[s].group&&r[s].group===i[o]&&o++;return o}return 0}(t,this.options,this.optionGroups),s=r._getHostElement();i.scrollTop=0===t&&1===o?0:function nhe(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}(s.offsetTop,s.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new ppe(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(J$.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,r,i,o,s,a,c,l,h,m,g,_,v,x){this._viewportRuler=t,this._changeDetectorRef=r,this._elementRef=s,this._dir=a,this._parentFormField=h,this.ngControl=m,this._liveAnnouncer=v,this._defaultOptions=x,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(T,P)=>T===P,this._uid="mat-select-"+$6++,this._triggerAriaLabelledBy=null,this._destroy=new E,this.stateChanges=new E,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+$6++,this._panelDoneAnimatingStream=new E,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new E,this.optionSelectionChanges=RR(()=>{const T=this.options;return T?T.changes.pipe(Ia(T),Sr(()=>mc(...T.map(P=>P.onSelectionChange)))):this._initialized.pipe(Sr(()=>this.optionSelectionChanges))}),this.openedChange=new gt,this._openedStream=this.openedChange.pipe(kr(T=>T),de(()=>{})),this._closedStream=this.openedChange.pipe(kr(T=>!T),de(()=>{})),this.selectionChange=new gt,this.valueChange=new gt,this._trackedModal=null,this._skipPredicate=T=>!this.panelOpen&&T.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=x?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=x.typeaheadDebounceInterval),this._errorStateTracker=new aR(o,m,l,c,this.stateChanges),this._scrollStrategyFactory=_,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new epe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(yg(),ei(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(ei(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(ei(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Ia(null),ei(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const r=`${this.id}-panel`;this._trackedModal&&cH(this._trackedModal,"aria-owns",r),function sue(n,e,t){const r=lH(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(" ")))}(t,"aria-owns",r),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(cH(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,o=13===r||32===r,s=this._keyManager;if(!s.isTyping()&&o&&!rm(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(t);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,o=40===i||38===i,s=r.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(s||13!==i&&32!==i||!r.activeItem||rm(t))if(!s&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=r.activeItemIndex;r.onKeydown(t),this._multiple&&o&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==a&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Cs(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof kR?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new lue(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=mc(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ei(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),mc(...this.options.map(r=>r._stateChanges)).pipe(ei(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){t=r;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(r){return new(r||n)(M(Z_),M(qo),M(He),M(vH),M(qt),M(Ll,8),M(B_,8),M(U_,8),M(mR,8),M(La,10),ec("tabindex"),M(H6),M(xue),M(hpe,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-select"]],contentQueries:function(r,i,o){if(1&r&&(no(o,mpe,5),no(o,cR,5),no(o,DH,5)),2&r){let s;Xt(s=Zt())&&(i.customTrigger=s.first),Xt(s=Zt())&&(i.options=s),Xt(s=Zt())&&(i.optionGroups=s)}},viewQuery:function(r,i){if(1&r&&(_r(tpe,5),_r(npe,5),_r(z6,5)),2&r){let o;Xt(o=Zt())&&(i.trigger=o.first),Xt(o=Zt())&&(i.panel=o.first),Xt(o=Zt())&&(i._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,i){1&r&&et("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&r&&(Fn("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),In("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[ie.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[ie.HasDecoratorInputTransform,"disabled","disabled",St],disableRipple:[ie.HasDecoratorInputTransform,"disableRipple","disableRipple",St],tabIndex:[ie.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:ll(t)],hideSingleSelectionIndicator:[ie.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",St],placeholder:"placeholder",required:[ie.HasDecoratorInputTransform,"required","required",St],multiple:[ie.HasDecoratorInputTransform,"multiple","multiple",St],disableOptionCentering:[ie.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",St],compareWith:"compareWith",value:"value",ariaLabel:[ie.None,"aria-label","ariaLabel"],ariaLabelledby:[ie.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[ie.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",ll],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[wn([{provide:fR,useExisting:n},{provide:AH,useExisting:n}]),Ai,Wr,Ui],ngContentSelectors:ipe,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,i){if(1&r){const o=xo();Ho(rpe),K(0,"div",2,0),et("click",function(){return cn(o),ln(i.open())}),K(3,"div",3),dn(4,ope,2,1,"span",4)(5,cpe,3,1),J(),K(6,"div",5)(7,"div",6),Xe(),K(8,"svg",7),Wt(9,"path",8),J()()()(),dn(10,lpe,3,9,"ng-template",9),et("backdropClick",function(){return cn(o),ln(i.close())})("attach",function(){return cn(o),ln(i._onAttached())})("detach",function(){return cn(o),ln(i.close())})}if(2&r){const o=sl(1);ce(3),Fn("id",i._valueId),ce(),Lr(4,i.empty?4:5),ce(6),Ke("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[kR,z6,Qh],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[dpe.transformPanel]},changeDetection:0})}return n})(),gpe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({providers:[fpe],imports:[PT,Zme,SH,pi,TR,gE,SH,pi]})}return n})();const _pe=["switch"],bpe=["*"];function vpe(n,e){1&n&&(K(0,"div",10),Xe(),K(1,"svg",12),Wt(2,"path",13),J(),K(3,"svg",14),Wt(4,"path",15),J()())}const ype=new ee("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),wpe={provide:Ds,useExisting:Tn(()=>MR),multi:!0};class W6{constructor(e,t){this.source=e,this.checked=t}}let Epe=0,MR=(()=>{class n{_createChangeEvent(t){return new W6(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,i,o,s,a){this._elementRef=t,this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=s,this._onChange=c=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new gt,this.toggleChange=new gt,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++Epe,this.hideIcon=s.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new W6(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(oR),M(qo),ec("tabindex"),M(ype),M(zo,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(r,i){if(1&r&&_r(_pe,5),2&r){let o;Xt(o=Zt())&&(i._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,i){2&r&&(Sd("id",i.id),Fn("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Dd(i.color?"mat-"+i.color:""),In("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[ie.None,"aria-label","ariaLabel"],ariaLabelledby:[ie.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[ie.None,"aria-describedby","ariaDescribedby"],required:[ie.HasDecoratorInputTransform,"required","required",St],color:"color",disabled:[ie.HasDecoratorInputTransform,"disabled","disabled",St],disableRipple:[ie.HasDecoratorInputTransform,"disableRipple","disableRipple",St],tabIndex:[ie.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:ll(t)],checked:[ie.HasDecoratorInputTransform,"checked","checked",St],hideIcon:[ie.HasDecoratorInputTransform,"hideIcon","hideIcon",St]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[wn([wpe,{provide:hi,useExisting:n,multi:!0}]),Ai,Wr,Ui],ngContentSelectors:bpe,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,i){if(1&r){const o=xo();Ho(),K(0,"div",1)(1,"button",2,0),et("click",function(){return cn(o),ln(i._handleClick())}),Wt(3,"div",3),K(4,"div",4)(5,"div",5)(6,"div",6),Wt(7,"div",7),J(),K(8,"div",8),Wt(9,"div",9),J(),dn(10,vpe,5,0,"div",10),J()()(),K(11,"label",11),et("click",function(a){return cn(o),ln(a.stopPropagation())}),Kn(12),J()()}if(2&r){const o=sl(2);Ke("labelPosition",i.labelPosition),ce(),In("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),Ke("tabIndex",i.disabled?-1:i.tabIndex)("disabled",i.disabled),Fn("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),ce(8),Ke("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),ce(),Lr(10,i.hideIcon?-1:10),ce(),Ke("for",i.buttonId),Fn("id",i._labelId)}},dependencies:[uu,PH],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0})}return n})(),Cpe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[MR,pi,pi]})}return n})();const PR=["*"];function Tpe(n,e){1&n&&Kn(0)}const Ape=["tabListContainer"],Dpe=["tabList"],Spe=["tabListInner"],kpe=["nextPaginator"],Rpe=["previousPaginator"],Mpe=n=>({animationDuration:n}),Ppe=(n,e)=>({value:n,params:e});function Fpe(n,e){}const Npe=["tabBodyWrapper"],Ope=["tabHeader"];function Lpe(n,e){}function Vpe(n,e){1&n&&dn(0,Lpe,0,0,"ng-template",12),2&n&&Ke("cdkPortalOutlet",sn().$implicit.templateLabel)}function Bpe(n,e){1&n&&qe(0),2&n&&Dr(sn().$implicit.textLabel)}function Upe(n,e){if(1&n){const t=xo();K(0,"div",7,2),et("click",function(){const i=cn(t),o=i.$implicit,s=i.$index,a=sn(),c=sl(1);return ln(a._handleClick(o,c,s))})("cdkFocusChange",function(i){const o=cn(t).$index;return ln(sn()._tabFocusChanged(i,o))}),Wt(2,"span",8)(3,"div",9),K(4,"span",10)(5,"span",11),dn(6,Vpe,1,1,null,12)(7,Bpe,1,1),J()()()}if(2&n){const t=e.$implicit,r=e.$index,i=sl(1),o=sn();In("mdc-tab--active",o.selectedIndex===r),Ke("id",o._getTabLabelId(r))("ngClass",t.labelClass)("disabled",t.disabled)("fitInkBarToContent",o.fitInkBarToContent),Fn("tabIndex",o._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(r))("aria-selected",o.selectedIndex===r)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),ce(3),Ke("matRippleTrigger",i)("matRippleDisabled",t.disabled||o.disableRipple),ce(3),Lr(6,t.templateLabel?6:7)}}function zpe(n,e){1&n&&Kn(0)}function jpe(n,e){if(1&n){const t=xo();K(0,"mat-tab-body",13),et("_onCentered",function(){return cn(t),ln(sn()._removeTabBodyWrapperHeight())})("_onCentering",function(i){return cn(t),ln(sn()._setTabBodyWrapperHeight(i))}),J()}if(2&n){const t=e.$implicit,r=e.$index,i=sn();In("mat-mdc-tab-body-active",i.selectedIndex===r),Ke("id",i._getTabContentId(r))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Fn("tabindex",null!=i.contentTabIndex&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(r))("aria-hidden",i.selectedIndex!==r)}}const $pe=new ee("MatTabContent");let Hpe=(()=>{class n{constructor(t){this.template=t}static#e=this.\u0275fac=function(r){return new(r||n)(M(Io))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","matTabContent",""]],standalone:!0,features:[wn([{provide:$pe,useExisting:n}])]})}return n})();const qpe=new ee("MatTabLabel"),G6=new ee("MAT_TAB");let Wpe=(()=>{class n extends Pme{constructor(t,r,i){super(t,r),this._closestTab=i}static#e=this.\u0275fac=function(r){return new(r||n)(M(Io),M(Bi),M(G6,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[wn([{provide:qpe,useExisting:n}]),Yt]})}return n})();const K6=new ee("MAT_TAB_GROUP");let Q6=(()=>{class n{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}constructor(t,r){this._viewContainerRef=t,this._closestTabGroup=r,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new E,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new TE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static#e=this.\u0275fac=function(r){return new(r||n)(M(Bi),M(K6,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-tab"]],contentQueries:function(r,i,o){if(1&r&&(no(o,Wpe,5),no(o,Hpe,7,Io)),2&r){let s;Xt(s=Zt())&&(i.templateLabel=s.first),Xt(s=Zt())&&(i._explicitContent=s.first)}},viewQuery:function(r,i){if(1&r&&_r(Io,7),2&r){let o;Xt(o=Zt())&&(i._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[ie.HasDecoratorInputTransform,"disabled","disabled",St],textLabel:[ie.None,"label","textLabel"],ariaLabel:[ie.None,"aria-label","ariaLabel"],ariaLabelledby:[ie.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[wn([{provide:G6,useExisting:n}]),Ai,Wr,Ui],ngContentSelectors:PR,decls:1,vars:0,template:function(r,i){1&r&&(Ho(),dn(0,Tpe,1,0,"ng-template"))},encapsulation:2})}return n})();const FR="mdc-tab-indicator--active",Y6="mdc-tab-indicator--no-transition";class Gpe{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){const t=this._items.find(i=>i.elementRef.nativeElement===e),r=this._currentItem;if(t!==r&&(r?.deactivateInkBar(),t)){const i=r?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(i),this._currentItem=t}}}let Kpe=(()=>{class n{constructor(){this._elementRef=oe(qt),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const r=this._elementRef.nativeElement;if(!t||!r.getBoundingClientRect||!this._inkBarContentElement)return void r.classList.add(FR);const i=r.getBoundingClientRect(),o=t.width/i.width,s=t.left-i.left;r.classList.add(Y6),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),r.getBoundingClientRect(),r.classList.remove(Y6),r.classList.add(FR),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(FR)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this._elementRef.nativeElement.ownerDocument||document,r=this._inkBarElement=t.createElement("span"),i=this._inkBarContentElement=t.createElement("span");r.className="mdc-tab-indicator",i.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",r.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Fe({type:n,inputs:{fitInkBarToContent:[ie.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",St]},features:[Ai]})}return n})(),X6=(()=>{class n extends Kpe{constructor(t){super(),this.elementRef=t,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,i){2&r&&(Fn("aria-disabled",!!i.disabled),In("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:[ie.HasDecoratorInputTransform,"disabled","disabled",St]},standalone:!0,features:[Ai,Yt]})}return n})();const Z6=nm({passive:!0});let Zpe=(()=>{class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const r=isNaN(t)?0:t;this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}constructor(t,r,i,o,s,a,c){this._elementRef=t,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=o,this._ngZone=s,this._platform=a,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new E,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new E,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new gt,this.indexFocused=new gt,s.runOutsideAngular(()=>{Ul(t.nativeElement,"mouseleave").pipe(ei(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ul(this._previousPaginator.nativeElement,"touchstart",Z6).pipe(ei(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ul(this._nextPaginator.nativeElement,"touchstart",Z6).pipe(ei(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Qe("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new due(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Cs(1)).subscribe(i),mc(t,r,this._items.changes,this._itemsResized()).pipe(ei(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?as:this._items.changes.pipe(Ia(this._items),Sr(t=>new ot(r=>this._ngZone.runOutsideAngular(()=>{const i=new ResizeObserver(o=>r.next(o));return t.forEach(o=>i.observe(o.elementRef.nativeElement)),()=>{i.disconnect()}}))),rR(1),kr(t=>t.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!rm(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const r=this._items?this._items.toArray()[t]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=r.elementRef.nativeElement;let a,c;"ltr"==this._getLayoutDirection()?(a=o,c=a+s):(c=this._tabListInner.nativeElement.offsetWidth-o,a=c-s);const l=this.scrollDistance,h=this.scrollDistance+i;a<l?this.scrollDistance-=l-a:c>h&&(this.scrollDistance+=Math.min(c-h,a-l))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=t?t.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),IR(650,100).pipe(ei(mc(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:o}=this._scrollHeader(t);(0===o||o>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(qo),M(Z_),M(Ll,8),M(He),M(fi),M(zo,8))};static#t=this.\u0275dir=Fe({type:n,inputs:{disablePagination:[ie.HasDecoratorInputTransform,"disablePagination","disablePagination",St],selectedIndex:[ie.HasDecoratorInputTransform,"selectedIndex","selectedIndex",ll]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Ai]})}return n})(),Jpe=(()=>{class n extends Zpe{constructor(t,r,i,o,s,a,c){super(t,r,i,o,s,a,c),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new Gpe(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(qo),M(Z_),M(Ll,8),M(He),M(fi),M(zo,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-tab-header"]],contentQueries:function(r,i,o){if(1&r&&no(o,X6,4),2&r){let s;Xt(s=Zt())&&(i._items=s)}},viewQuery:function(r,i){if(1&r&&(_r(Ape,7),_r(Dpe,7),_r(Spe,7),_r(kpe,5),_r(Rpe,5)),2&r){let o;Xt(o=Zt())&&(i._tabListContainer=o.first),Xt(o=Zt())&&(i._tabList=o.first),Xt(o=Zt())&&(i._tabListInner=o.first),Xt(o=Zt())&&(i._nextPaginator=o.first),Xt(o=Zt())&&(i._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,i){2&r&&In("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{disableRipple:[ie.HasDecoratorInputTransform,"disableRipple","disableRipple",St]},standalone:!0,features:[Ai,Yt,Ui],ngContentSelectors:PR,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(r,i){if(1&r){const o=xo();Ho(),K(0,"button",5,0),et("click",function(){return cn(o),ln(i._handlePaginatorClick("before"))})("mousedown",function(a){return cn(o),ln(i._handlePaginatorPress("before",a))})("touchend",function(){return cn(o),ln(i._stopInterval())}),Wt(2,"div",6),J(),K(3,"div",7,1),et("keydown",function(a){return cn(o),ln(i._handleKeydown(a))}),K(5,"div",8,2),et("cdkObserveContent",function(){return cn(o),ln(i._onContentChanges())}),K(7,"div",9,3),Kn(9),J()()(),K(10,"button",10,4),et("mousedown",function(a){return cn(o),ln(i._handlePaginatorPress("after",a))})("click",function(){return cn(o),ln(i._handlePaginatorClick("after"))})("touchend",function(){return cn(o),ln(i._stopInterval())}),Wt(12,"div",6),J()}2&r&&(In("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),Ke("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),ce(3),In("_mat-animation-noopable","NoopAnimations"===i._animationMode),ce(7),In("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),Ke("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[uu,Phe],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return n})();const ege=new ee("MAT_TABS_CONFIG"),tge={translateTab:fE("translateTab",[q_("center, void, left-origin-center, right-origin-center",ks({transform:"none"})),q_("left",ks({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),q_("right",ks({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),hu("* => left, * => right, left => center, right => center",om("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),hu("void => left-origin-center",[ks({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),om("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),hu("void => right-origin-center",[ks({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),om("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let nge=(()=>{class n extends DR{constructor(t,r,i,o){super(t,r,o),this._host=i,this._centeringSub=ge.EMPTY,this._leavingSub=ge.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ia(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(M(Ed),M(Bi),M(Tn(()=>J6)),M(un))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[Yt]})}return n})(),J6=(()=>{class n{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,r,i){this._elementRef=t,this._dir=r,this._dirChangeSubscription=ge.EMPTY,this._translateTabComplete=new E,this._onCentering=new gt,this._beforeCentering=new gt,this._afterLeavingCenter=new gt,this._onCentered=new gt(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(o=>{this._computePositionAnimationState(o),i.markForCheck()})),this._translateTabComplete.pipe(yg((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const r=this._isCenterPosition(t.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const r=this._getLayoutDirection();return"ltr"==r&&t<=0||"rtl"==r&&t>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(Ll,8),M(qo))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-tab-body"]],viewQuery:function(r,i){if(1&r&&_r(DR,5),2&r){let o;Xt(o=Zt())&&(i._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[ie.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Ui],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(r,i){if(1&r){const o=xo();K(0,"div",1,0),et("@translateTab.start",function(a){return cn(o),ln(i._onTranslateTabStarted(a))})("@translateTab.done",function(a){return cn(o),ln(i._translateTabComplete.next(a))}),dn(2,Fpe,0,0,"ng-template",2),J()}2&r&&Ke("@translateTab",sL(3,Ppe,i._position,Sy(1,Mpe,i.animationDuration)))},dependencies:[nge,Ame],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[tge.translateTab]}})}return n})(),rge=0,oge=(()=>{class n{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}get animationDuration(){return this._animationDuration}set animationDuration(t){const r=t+"";this._animationDuration=/^\d+$/.test(r)?t+"ms":r}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&r.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,r,i,o){this._elementRef=t,this._changeDetectorRef=r,this._animationMode=o,this._tabs=new mh,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=ge.EMPTY,this._tabLabelSubscription=ge.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new gt,this.focusChange=new gt,this.animationDone=new gt,this.selectedTabChange=new gt(!0),this._isServer=!oe(fi).isBrowser,this._groupId=rge++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,null!=i?.contentTabIndex&&(this.contentTabIndex=i.contentTabIndex),this.preserveContent=!!i?.preserveContent,this.fitInkBarToContent=!(!i||null==i.fitInkBarToContent)&&i.fitInkBarToContent,this.stretchTabs=!i||null==i.stretchTabs||i.stretchTabs}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(t));const i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,o)=>i.isActive=o===t),r||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-t,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const r=this._tabs.toArray();let i;for(let o=0;o<r.length;o++)if(r[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,i=r[o];break}!i&&r[t]&&Promise.resolve().then(()=>{r[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ia(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const r=this._tabHeader;r&&(r.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const r=new sge;return r.index=t,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[t]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=mc(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,r,i){r.focusIndex=i,t.disabled||(this.selectedIndex=i)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,r){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=r)}static#e=this.\u0275fac=function(r){return new(r||n)(M(qt),M(qo),M(ege,8),M(zo,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-tab-group"]],contentQueries:function(r,i,o){if(1&r&&no(o,Q6,5),2&r){let s;Xt(s=Zt())&&(i._allTabs=s)}},viewQuery:function(r,i){if(1&r&&(_r(Npe,5),_r(Ope,5)),2&r){let o;Xt(o=Zt())&&(i._tabBodyWrapper=o.first),Xt(o=Zt())&&(i._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(r,i){2&r&&(Dd("mat-"+(i.color||"primary")),NC("--mat-tab-animation-duration",i.animationDuration),In("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===i.headerPosition)("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[ie.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",St],stretchTabs:[ie.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",St],dynamicHeight:[ie.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",St],selectedIndex:[ie.HasDecoratorInputTransform,"selectedIndex","selectedIndex",ll],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[ie.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",ll],disablePagination:[ie.HasDecoratorInputTransform,"disablePagination","disablePagination",St],disableRipple:[ie.HasDecoratorInputTransform,"disableRipple","disableRipple",St],preserveContent:[ie.HasDecoratorInputTransform,"preserveContent","preserveContent",St],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[wn([{provide:K6,useExisting:n}]),Ai,Ui],ngContentSelectors:PR,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","ngClass","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(r,i){if(1&r){const o=xo();Ho(),K(0,"mat-tab-header",3,0),et("indexFocused",function(a){return cn(o),ln(i._focusChanged(a))})("selectFocusedIndex",function(a){return cn(o),ln(i.selectedIndex=a)}),oc(2,Upe,8,16,"div",4,ic),J(),dn(4,zpe,1,0),K(5,"div",5,1),oc(7,jpe,1,12,"mat-tab-body",6,ic),J()}2&r&&(Ke("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),ce(2),sc(i._tabs),ce(2),Lr(4,i._isServer?4:-1),ce(),In("_mat-animation-noopable","NoopAnimations"===i._animationMode),ce(2),sc(i._tabs))},dependencies:[Jpe,X6,Tue,Qh,uu,DR,J6],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return n})();class sge{}let age=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[pi,pi]})}return n})();function e5(n){return new z(3e3,!1)}function jl(n){switch(n.length){case 0:return new W_;case 1:return n[0];default:return new UH(n)}}function t5(n,e,t=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),h=l==s,m=h&&a||new Map;c.forEach((g,_)=>{let v=_,x=g;if("offset"!==_)switch(v=n.normalizePropertyName(v,i),x){case"!":x=t.get(_);break;case Sc:x=r.get(_);break;default:x=n.normalizeStyleValue(_,v,x,i)}m.set(v,x)}),h||o.push(m),a=m,s=l}),i.length)throw function kge(n){return new z(3502,!1)}();return o}function NR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&OR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&OR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&OR(t,"destroy",n)))}}function OR(n,e,t){const o=LR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function LR(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function hs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function n5(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const jge=typeof document>"u"?null:document.documentElement;function VR(n){const e=n.parentNode||n.host||null;return e===jge?null:e}let _u=null,r5=!1;function i5(n,e){for(;e;){if(e===n)return!0;e=VR(e)}return!1}function o5(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let BR=(()=>{class n{validateStyleProperty(t){return function Hge(n){_u||(_u=function qge(){return typeof document<"u"?document.body:null}()||{},r5=!!_u.style&&"WebkitAppearance"in _u.style);let e=!0;return _u.style&&!function $ge(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in _u.style,!e&&r5&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in _u.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return i5(t,r)}getParentElement(t){return VR(t)}query(t,r,i){return o5(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new W_(i,o)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();class UR{static#e=this.NOOP=new BR}class zR{}const Gge=1e3,jR="ng-enter",AE="ng-leave",DE="ng-trigger",SE=".ng-trigger",a5="ng-animating",$R=".ng-animating";function Rc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:HR(parseFloat(e[1]),e[2])}function HR(n,e){return"s"===e?n*Gge:n}function kE(n,e,t){return n.hasOwnProperty("duration")?n:function Qge(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(e5()),{duration:0,delay:0,easing:""};i=HR(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=HR(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function cge(){return new z(3100,!1)}()),a=!0),o<0&&(e.push(function lge(){return new z(3101,!1)}()),a=!0),a&&e.splice(c,0,e5())}return{duration:i,delay:o,easing:s}}(n,e,t)}function Ba(n,e,t){e.forEach((r,i)=>{const o=WR(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function bu(n,e){e.forEach((t,r)=>{const i=WR(r);n.style[i]=""})}function J_(n){return Array.isArray(n)?1==n.length?n[0]:function Che(n,e=null){return{type:It.Sequence,steps:n,options:e}}(n):n}const qR=new RegExp("{{\\s*(.+?)\\s*}}","g");function l5(n){let e=[];if("string"==typeof n){let t;for(;t=qR.exec(n);)e.push(t[1]);qR.lastIndex=0}return e}function eb(n,e,t){const r=`${n}`,i=r.replace(qR,(o,s)=>{let a=e[s];return null==a&&(t.push(function uge(n){return new z(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const Zge=/-+([a-z0-9])/g;function WR(n){return n.replace(Zge,(...e)=>e[1].toUpperCase())}function fs(n,e,t){switch(e.type){case It.Trigger:return n.visitTrigger(e,t);case It.State:return n.visitState(e,t);case It.Transition:return n.visitTransition(e,t);case It.Sequence:return n.visitSequence(e,t);case It.Group:return n.visitGroup(e,t);case It.Animate:return n.visitAnimate(e,t);case It.Keyframes:return n.visitKeyframes(e,t);case It.Style:return n.visitStyle(e,t);case It.Reference:return n.visitReference(e,t);case It.AnimateChild:return n.visitAnimateChild(e,t);case It.AnimateRef:return n.visitAnimateRef(e,t);case It.Query:return n.visitQuery(e,t);case It.Stagger:return n.visitStagger(e,t);default:throw function hge(n){return new z(3004,!1)}()}}function GR(n,e){return window.getComputedStyle(n)[e]}const t_e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class d5 extends zR{normalizePropertyName(e,t){return WR(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(t_e.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function fge(n,e){return new z(3005,!1)}())}return s+o}}const RE="*";const ME=new Set(["true","1"]),PE=new Set(["false","0"]);function u5(n,e){const t=ME.has(n)||PE.has(n),r=ME.has(e)||PE.has(e);return(i,o)=>{let s=n==RE||n==i,a=e==RE||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?ME.has(n):PE.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?ME.has(e):PE.has(e)),s&&a}}const o_e=new RegExp("s*:selfs*,?","g");function KR(n,e,t,r){return new s_e(n).build(e,t,r)}class s_e{constructor(e){this._driver=e}build(e,t,r){const i=new l_e(t);return this._resetContextStyleTimingState(i),fs(this,J_(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function mge(){return new z(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==It.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==It.Transition){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(function pge(){return new z(3007,!1)}())}),{type:It.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{l5(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function gge(n,e){return new z(3008,!1)}(0,o.values()))}return{type:It.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=fs(this,J_(e.animation),t),i=function n_e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function r_e(n,e,t){if(":"==n[0]){const c=function i_e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Tge(n){return new z(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Cge(n){return new z(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(u5(i,s)),"<"==o[0]&&(i!=RE||s!=RE)&&e.push(u5(s,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:It.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:vu(e.options)}}visitSequence(e,t){return{type:It.Sequence,steps:e.steps.map(r=>fs(this,r,t)),options:vu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=fs(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:It.Group,steps:o,options:vu(e.options)}}visitAnimate(e,t){const r=function u_e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return QR(kE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=QR(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=kE(t,e);return QR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:ks({});if(o.type==It.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};r.easing&&(l.easing=r.easing),s=ks(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:It.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Sc?r.push(a):t.errors.push(new z(3002,!1)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:It.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(c);let m=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(t.errors.push(function bge(n,e,t,r,i){return new z(3010,!1)}()),m=!1),o=h.startTime),m&&l.set(c,{startTime:o,endTime:i}),t.options&&function Xge(n,e,t){const r=e.params||{},i=l5(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function dge(n){return new z(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:It.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function vge(){return new z(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,l=0;const h=e.steps.map(P=>{const F=this._makeStyleAst(P,t);let B=null!=F.offset?F.offset:function d_e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(F.styles),X=0;return null!=B&&(o++,X=F.offset=B),c=c||X<0||X>1,a=a||X<l,l=X,s.push(X),F});c&&t.errors.push(function yge(){return new z(3012,!1)}()),a&&t.errors.push(function wge(){return new z(3200,!1)}());const m=e.steps.length;let g=0;o>0&&o<m?t.errors.push(function Ege(){return new z(3202,!1)}()):0==o&&(g=1/(m-1));const _=m-1,v=t.currentTime,x=t.currentAnimateTimings,T=x.duration;return h.forEach((P,F)=>{const B=g>0?F==_?1:g*F:s[F],X=B*T;t.currentTime=v+x.delay+X,x.duration=X,this._validateStyleAst(P,t),P.offset=B,r.styles.push(P)}),r}visitReference(e,t){return{type:It.Reference,animation:fs(this,J_(e.animation),t),options:vu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:It.AnimateChild,options:vu(e.options)}}visitAnimateRef(e,t){return{type:It.AnimateRef,animation:this.visitReference(e.animation,t),options:vu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function a_e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(o_e,"")),n=n.replace(/@\*/g,SE).replace(/@\w+/g,t=>SE+"-"+t.slice(1)).replace(/:animating/g,$R),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,hs(t.collectedStyles,t.currentQuerySelector,new Map);const a=fs(this,J_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:It.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:vu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ige(){return new z(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:kE(e.timings,t.errors,!0);return{type:It.Stagger,animation:fs(this,J_(e.animation),t),timings:r,options:null}}}class l_e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vu(n){return n?(n={...n}).params&&(n.params=function c_e(n){return n?{...n}:null}(n.params)):n={},n}function QR(n,e,t){return{duration:n,delay:e,easing:t}}function YR(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class FE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const m_e=new RegExp(":enter","g"),g_e=new RegExp(":leave","g");function XR(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return(new __e).buildKeyframes(n,e,t,r,i,o,s,a,c,l)}class __e{buildKeyframes(e,t,r,i,o,s,a,c,l,h=[]){l=l||new FE;const m=new ZR(e,t,l,i,o,h,[]);m.options=c;const g=c.delay?Rc(c.delay):0;m.currentTimeline.delayNextStep(g),m.currentTimeline.setStyles([s],null,m.errors,c),fs(this,r,m);const _=m.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let x=_.length-1;x>=0;x--){const T=_[x];if(T.element===t){v=T;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,m.errors,c)}return _.length?_.map(v=>v.buildKeyframes()):[YR(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:Rc(eb(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?Rc(r.duration):null,a=null!=r.delay?Rc(r.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),fs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==It.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=NE);const s=Rc(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>fs(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Rc(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),fs(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return kE(t.params?eb(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;o.type==It.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Rc(i.delay):0;o&&(t.previousNode.type===It.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=NE);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{t.currentQueryIndex=h;const m=t.createSubContext(e.options,l);o&&m.delayNextStep(o),l===t.element&&(c=m.currentTimeline),fs(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const m=h.currentTime;fs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const NE={};class ZR{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=NE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new OE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Rc(r.duration)),null!=r.delay&&(i.delay=Rc(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=eb(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new ZR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=NE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new b_e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(m_e,"."+this._enterClassName)).replace(g_e,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&0==a.length&&s.push(function xge(n){return new z(3014,!1)}()),a}}class OE{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new OE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Sc),this._currentKeyframe.set(t,Sc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function v_e(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let o of r)t.set(o,Sc)}else for(let[o,s]of i)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=eb(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Sc),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((h,m)=>{"!"===h?e.add(m):h===Sc&&t.add(m)}),r||l.set("offset",c/this.duration),i.push(l)});const o=[...e.values()],s=[...t.values()];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return YR(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class b_e extends OE{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",m5(a)),o.push(l);const h=e.length-1;for(let m=1;m<=h;m++){let g=new Map(e[m]);const _=g.get("offset");g.set("offset",m5((t+_*r)/s)),o.push(g)}r=s,t=0,i="",e=o}return YR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function m5(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function p5(n,e,t,r,i,o,s,a,c,l,h,m,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:m,errors:g}}const JR={};class g5{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function y_e(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,h){const m=[],g=this.ast.options&&this.ast.options.params||JR,v=this.buildStyles(r,a&&a.params||JR,m),x=c&&c.params||JR,T=this.buildStyles(i,x,m),P=new Set,F=new Map,B=new Map,X="void"===i,we={params:_5(x,g),delay:this.ast.options?.delay},Me=h?[]:XR(e,t,this.ast.animation,o,s,v,T,we,l,m);let st=0;return Me.forEach(Kt=>{st=Math.max(Kt.duration+Kt.delay,st)}),m.length?p5(t,this._triggerName,r,i,X,v,T,[],[],F,B,st,m):(Me.forEach(Kt=>{const uo=Kt.element,ra=hs(F,uo,new Set);Kt.preStyleProps.forEach(Eu=>ra.add(Eu));const V8=hs(B,uo,new Set);Kt.postStyleProps.forEach(Eu=>V8.add(Eu)),uo!==t&&P.add(uo)}),p5(t,this._triggerName,r,i,X,v,T,Me,[...P.values()],F,B,st))}}function _5(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class w_e{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=_5(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=eb(s,i,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}}class I_e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new w_e(i.style,i.options&&i.options.params||{},r))}),b5(this.states,"true","1"),b5(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new g5(e,i,this.states))}),this.fallbackTransition=function x_e(n,e,t){return new g5(n,{type:It.Transition,animation:{type:It.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function b5(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const C_e=new FE;class T_e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=KR(this._driver,t,r,[]);if(r.length)throw function Rge(n){return new z(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=t5(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=XR(this._driver,t,o,jR,AE,new Map,new Map,r,C_e,i),s.forEach(h=>{const m=hs(a,h.element,new Map);h.postStyleProps.forEach(g=>m.set(g,null))})):(i.push(function Mge(){return new z(3300,!1)}()),s=[]),i.length)throw function Pge(n){return new z(3504,!1)}();a.forEach((h,m)=>{h.forEach((g,_)=>{h.set(_,this._driver.computeStyle(m,_,Sc))})});const l=jl(s.map(h=>{const m=a.get(h.element);return this._buildPlayer(h,new Map,m)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Fge(n){return new z(3301,!1)}();return t}listen(e,t,r,i){const o=LR(t,"","","");return NR(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const v5="ng-animate-queued",eM="ng-animate-disabled",R_e=[],y5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},M_e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ea="__ng_removed";class tM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function O_e(n){return n??null}(r?e.value:e),r){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const tb="void",nM=new tM(tb);class P_e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Nge(n,e){return new z(3302,!1)}();if(null==r||0==r.length)throw function Oge(n){return new z(3303,!1)}();if(!function L_e(n){return"start"==n||"done"==n}(r))throw function Lge(n,e){return new z(3400,!1)}();const o=hs(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=hs(this._engine.statesByElement,e,new Map);return a.has(t)||(Rs(e,DE),Rs(e,DE+"-"+t),a.set(t,nM)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Vge(n){return new z(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new rM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Rs(e,DE),Rs(e,DE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new tM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=nM),l.value!==tb&&c.value===l.value){if(!function U_e(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const x=[],T=o.matchStyles(c.value,c.params,x),P=o.matchStyles(l.value,l.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{bu(e,T),Ba(e,P)})}return}const g=hs(this._engine.playersByElement,e,[]);g.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let _=o.matchTransition(c.value,l.value,e,l.params),v=!1;if(!_){if(!i)return;_=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(Rs(e,v5),s.onStart(()=>{cm(e,v5)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const T=this._engine.playersByElement.get(e);if(T){let P=T.indexOf(s);P>=0&&T.splice(P,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,SE,!0);r.forEach(i=>{if(i[ea])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const h=this.trigger(e,l,tb,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&jl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,l=r.get(s)||nM,h=new tM(tb),m=new rM(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:h,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[ea];(!o||o===y5)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Rs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=LR(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,NR(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class F_e{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new P_e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(LE(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!LE(t))return;const o=t[ea];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rs(e,eM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cm(e,eM))}removeNode(e,t,r){if(LE(t)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[ea]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return LE(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,SE,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,$R,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ea];if(t&&t.setForRemoval){if(e[ea]=y5,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(eM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Rs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?jl(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Bge(n){return new z(3402,!1)}()}_flushAnimations(e,t){const r=new FE,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(Ze=>{h.add(Ze);const ht=this.driver.query(Ze,".ng-animate-queued",!0);for(let Et=0;Et<ht.length;Et++)h.add(ht[Et])});const m=this.bodyNode,g=Array.from(this.statesByElement.keys()),_=I5(g,this.collectedEnterElements),v=new Map;let x=0;_.forEach((Ze,ht)=>{const Et=jR+x++;v.set(ht,Et),Ze.forEach(Dn=>Rs(Dn,Et))});const T=[],P=new Set,F=new Set;for(let Ze=0;Ze<this.collectedLeaveElements.length;Ze++){const ht=this.collectedLeaveElements[Ze],Et=ht[ea];Et&&Et.setForRemoval&&(T.push(ht),P.add(ht),Et.hasAnimation?this.driver.query(ht,".ng-star-inserted",!0).forEach(Dn=>P.add(Dn)):F.add(ht))}const B=new Map,X=I5(g,Array.from(P));X.forEach((Ze,ht)=>{const Et=AE+x++;B.set(ht,Et),Ze.forEach(Dn=>Rs(Dn,Et))}),e.push(()=>{_.forEach((Ze,ht)=>{const Et=v.get(ht);Ze.forEach(Dn=>cm(Dn,Et))}),X.forEach((Ze,ht)=>{const Et=B.get(ht);Ze.forEach(Dn=>cm(Dn,Et))}),T.forEach(Ze=>{this.processLeaveNode(Ze)})});const we=[],Me=[];for(let Ze=this._namespaceList.length-1;Ze>=0;Ze--)this._namespaceList[Ze].drainQueuedTransitions(t).forEach(Et=>{const Dn=Et.player,Pi=Et.element;if(we.push(Dn),this.collectedEnterElements.length){const ho=Pi[ea];if(ho&&ho.setForMove){if(ho.previousTriggersValues&&ho.previousTriggersValues.has(Et.triggerName)){const Iu=ho.previousTriggersValues.get(Et.triggerName),Ms=this.statesByElement.get(Et.element);if(Ms&&Ms.has(Et.triggerName)){const tI=Ms.get(Et.triggerName);tI.value=Iu,Ms.set(Et.triggerName,tI)}}return void Dn.destroy()}}const Ha=!m||!this.driver.containsElement(m,Pi),ps=B.get(Pi),Hl=v.get(Pi),Mr=this._buildInstruction(Et,r,Hl,ps,Ha);if(Mr.errors&&Mr.errors.length)return void Me.push(Mr);if(Ha)return Dn.onStart(()=>bu(Pi,Mr.fromStyles)),Dn.onDestroy(()=>Ba(Pi,Mr.toStyles)),void i.push(Dn);if(Et.isFallbackTransition)return Dn.onStart(()=>bu(Pi,Mr.fromStyles)),Dn.onDestroy(()=>Ba(Pi,Mr.toStyles)),void i.push(Dn);const z8=[];Mr.timelines.forEach(ho=>{ho.stretchStartingKeyframe=!0,this.disabledNodes.has(ho.element)||z8.push(ho)}),Mr.timelines=z8,r.append(Pi,Mr.timelines),s.push({instruction:Mr,player:Dn,element:Pi}),Mr.queriedElements.forEach(ho=>hs(a,ho,[]).push(Dn)),Mr.preStyleProps.forEach((ho,Iu)=>{if(ho.size){let Ms=c.get(Iu);Ms||c.set(Iu,Ms=new Set),ho.forEach((tI,NM)=>Ms.add(NM))}}),Mr.postStyleProps.forEach((ho,Iu)=>{let Ms=l.get(Iu);Ms||l.set(Iu,Ms=new Set),ho.forEach((tI,NM)=>Ms.add(NM))})});if(Me.length){const Ze=[];Me.forEach(ht=>{Ze.push(function Uge(n,e){return new z(3505,!1)}())}),we.forEach(ht=>ht.destroy()),this.reportError(Ze)}const st=new Map,Kt=new Map;s.forEach(Ze=>{const ht=Ze.element;r.has(ht)&&(Kt.set(ht,ht),this._beforeAnimationBuild(Ze.player.namespaceId,Ze.instruction,st))}),i.forEach(Ze=>{const ht=Ze.element;this._getPreviousPlayers(ht,!1,Ze.namespaceId,Ze.triggerName,null).forEach(Dn=>{hs(st,ht,[]).push(Dn),Dn.destroy()})});const uo=T.filter(Ze=>C5(Ze,c,l)),ra=new Map;E5(ra,this.driver,F,l,Sc).forEach(Ze=>{C5(Ze,c,l)&&uo.push(Ze)});const Eu=new Map;_.forEach((Ze,ht)=>{E5(Eu,this.driver,new Set(Ze),c,"!")}),uo.forEach(Ze=>{const ht=ra.get(Ze),Et=Eu.get(Ze);ra.set(Ze,new Map([...ht?.entries()??[],...Et?.entries()??[]]))});const FM=[],B8=[],U8={};s.forEach(Ze=>{const{element:ht,player:Et,instruction:Dn}=Ze;if(r.has(ht)){if(h.has(ht))return Et.onDestroy(()=>Ba(ht,Dn.toStyles)),Et.disabled=!0,Et.overrideTotalTime(Dn.totalTime),void i.push(Et);let Pi=U8;if(Kt.size>1){let ps=ht;const Hl=[];for(;ps=ps.parentNode;){const Mr=Kt.get(ps);if(Mr){Pi=Mr;break}Hl.push(ps)}Hl.forEach(Mr=>Kt.set(Mr,Pi))}const Ha=this._buildAnimation(Et.namespaceId,Dn,st,o,Eu,ra);if(Et.setRealPlayer(Ha),Pi===U8)FM.push(Et);else{const ps=this.playersByElement.get(Pi);ps&&ps.length&&(Et.parentPlayer=jl(ps)),i.push(Et)}}else bu(ht,Dn.fromStyles),Et.onDestroy(()=>Ba(ht,Dn.toStyles)),B8.push(Et),h.has(ht)&&i.push(Et)}),B8.forEach(Ze=>{const ht=o.get(Ze.element);if(ht&&ht.length){const Et=jl(ht);Ze.setRealPlayer(Et)}}),i.forEach(Ze=>{Ze.parentPlayer?Ze.syncPlayerEvents(Ze.parentPlayer):Ze.destroy()});for(let Ze=0;Ze<T.length;Ze++){const ht=T[Ze],Et=ht[ea];if(cm(ht,AE),Et&&Et.hasAnimation)continue;let Dn=[];if(a.size){let Ha=a.get(ht);Ha&&Ha.length&&Dn.push(...Ha);let ps=this.driver.query(ht,$R,!0);for(let Hl=0;Hl<ps.length;Hl++){let Mr=a.get(ps[Hl]);Mr&&Mr.length&&Dn.push(...Mr)}}const Pi=Dn.filter(Ha=>!Ha.destroyed);Pi.length?V_e(this,ht,Pi):this.processLeaveNode(ht)}return T.length=0,FM.forEach(Ze=>{this.players.push(Ze),Ze.onDone(()=>{Ze.destroy();const ht=this.players.indexOf(Ze);this.players.splice(ht,1)}),Ze.play()}),FM}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==tb;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,h=l!==o,m=hs(r,l,[]);this._getPreviousPlayers(l,h,s,a,t.toState).forEach(_=>{const v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),m.push(_)})}bu(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,c=t.element,l=[],h=new Set,m=new Set,g=t.timelines.map(v=>{const x=v.element;h.add(x);const T=x[ea];if(T&&T.removedBeforeQueried)return new W_(v.duration,v.delay);const P=x!==c,F=function B_e(n){const e=[];return x5(n,e),e}((r.get(x)||R_e).map(st=>st.getRealPlayer())).filter(st=>!!st.element&&st.element===x),B=o.get(x),X=s.get(x),we=t5(this._normalizer,v.keyframes,B,X),Me=this._buildPlayer(v,we,F);if(v.subTimeline&&i&&m.add(x),P){const st=new rM(e,a,x);st.setRealPlayer(Me),l.push(st)}return Me});l.forEach(v=>{hs(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function N_e(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,v.element,v))}),h.forEach(v=>Rs(v,a5));const _=jl(g);return _.onDestroy(()=>{h.forEach(v=>cm(v,a5)),Ba(c,t.toStyles)}),m.forEach(v=>{hs(i,v,[]).push(_)}),_}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new W_(e.duration,e.delay)}}class rM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new W_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>NR(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){hs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function LE(n){return n&&1===n.nodeType}function w5(n,e){const t=n.style.display;return n.style.display=e??"none",t}function E5(n,e,t,r,i){const o=[];t.forEach(c=>o.push(w5(c)));const s=[];r.forEach((c,l)=>{const h=new Map;c.forEach(m=>{const g=e.computeStyle(l,m,i);h.set(m,g),(!g||0==g.length)&&(l[ea]=M_e,s.push(l))}),n.set(l,h)});let a=0;return t.forEach(c=>w5(c,o[a++])),s}function I5(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Rs(n,e){n.classList?.add(e)}function cm(n,e){n.classList?.remove(e)}function V_e(n,e,t){jl(t).onDone(()=>n.processLeaveNode(e))}function x5(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof UH?x5(r.players,e):e.push(r)}}function C5(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class nb{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new F_e(e.body,t,r,i),this._timelineEngine=new T_e(e.body,t,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],h=KR(this._driver,o,c,[]);if(c.length)throw function Sge(n,e){return new z(3404,!1)}();a=function E_e(n,e,t){return new I_e(n,e,t)}(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=n5(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=n5(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class rb{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=rb.initialStylesByElement.get(e);i||rb.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ba(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ba(this._element,this._initialStyles),this._endStyles&&(Ba(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(rb.initialStylesByElement.delete(this._element),this._startStyles&&(bu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bu(this._element,this._endStyles),this._endStyles=null),Ba(this._element,this._initialStyles),this._state=3)}}function iM(n){let e=null;return n.forEach((t,r)=>{(function j_e(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class T5{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:GR(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class A5{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return i5(e,t)}getParentElement(e){return VR(e)}query(e,t,r){return o5(e,t,r)}computeStyle(e,t,r){return GR(e,t)}animate(e,t,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const l=new Map,h=s.filter(_=>_ instanceof T5);(function Jge(n,e){return 0===n||0===e})(r,i)&&h.forEach(_=>{_.currentSnapshot.forEach((v,x)=>l.set(x,v))});let m=function Yge(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(_=>new Map(_));m=function e_e(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,GR(n,a)))}}return e}(e,m,l);const g=function z_e(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=iM(e[0]),e.length>1&&(r=iM(e[e.length-1]))):e instanceof Map&&(t=iM(e)),t||r?new rb(n,t,r):null}(e,m);return new T5(e,m,c,g)}}const D5="@.disabled";class S5{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==D5?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class $_e extends S5{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==D5?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function H_e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function q_e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class W_e{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{const s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let h=l.get(i);return h||(h=new S5("",i,this.engine,()=>l.delete(i)),l.set(i,h)),h}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new $_e(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let G_e=(()=>{class n extends nb{constructor(t,r,i){super(t,r,i,oe(iy,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(V(un),V(UR),V(zR))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();const k5=[{provide:zR,useFactory:function K_e(){return new d5}},{provide:nb,useClass:G_e},{provide:nC,useFactory:function Q_e(n,e,t){return new W_e(n,e,t)},deps:[UT,nb,He]}],oM=[{provide:UR,useFactory:()=>new A5},{provide:zo,useValue:"BrowserAnimations"},...k5],R5=[{provide:UR,useClass:BR},{provide:zo,useValue:"NoopAnimations"},...k5];let Y_e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?R5:oM}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({providers:oM,imports:[v2]})}return n})();function X_e(){return qs("NgEagerAnimations"),[...oM]}const Z_e_firebaseConfig={apiKey:"AIzaSyCLzYr8vPDi9wgzmQQ7bh6IIu-WgRhPGO8",authDomain:"bingo-3e990.firebaseapp.com",databaseURL:"https://bingo-3e990-default-rtdb.firebaseio.com",projectId:"bingo-3e990",storageBucket:"bingo-3e990.appspot.com",messagingSenderId:"683623056065",appId:"1:683623056065:web:726265d0df07f90ebf8a40",measurementId:"G-Z6Q8TETBRR"};function sM(){return Y((n,e)=>{let t=null;n._refCount++;const r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class M5 extends ot{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,O(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ge;const t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ge.EMPTY)}return e}refCount(){return sM()(this)}}function aM(n){return n<=0?()=>as:Y((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const Gt="primary",ib=Symbol("RouteTitle");class tbe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function lm(n){return new tbe(n)}function nbe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ua(n,e){const t=n?cM(n):void 0,r=e?cM(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!P5(n[i],e[i]))return!1;return!0}function cM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function P5(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function F5(n){return n.length>0?n[n.length-1]:null}function $l(n){return function j6(n){return!!n&&(n instanceof ot||Pe(n.lift)&&Pe(n.subscribe))}(n)?n:ig(n)?Un(Promise.resolve(n)):Qe(n)}const ibe={exact:function L5(n,e,t){if(!yu(n.segments,e.segments)||!BE(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!L5(n.children[r],e.children[r],t))return!1;return!0},subset:V5},N5={exact:function obe(n,e){return Ua(n,e)},subset:function sbe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>P5(n[t],e[t]))},ignored:()=>!0};function O5(n,e,t){return ibe[t.paths](n.root,e.root,t.matrixParams)&&N5[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function V5(n,e,t){return B5(n,e,e.segments,t)}function B5(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!yu(i,t)||e.hasChildren()||!BE(i,t,r))}if(n.segments.length===t.length){if(!yu(n.segments,t)||!BE(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!V5(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(yu(n.segments,i)&&BE(n.segments,i,r)&&n.children[Gt])&&B5(n.children[Gt],e,o,r)}}function BE(n,e,t){return e.every((r,i)=>N5[t](n[i].parameters,r.parameters))}class dm{constructor(e=new Yn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lm(this.queryParams),this._queryParamMap}toString(){return lbe.serialize(this)}}class Yn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return UE(this)}}class ob{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=lm(this.parameters),this._parameterMap}toString(){return j5(this)}}function yu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let um=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:()=>new lM,providedIn:"root"})}return n})();class lM{parse(e){const t=new ybe(e);return new dm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${sb(e.root,!0)}`,r=function hbe(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${zE(t)}=${zE(i)}`).join("&"):`${zE(t)}=${zE(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function dbe(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const lbe=new lM;function UE(n){return n.segments.map(e=>j5(e)).join("/")}function sb(n,e){if(!n.hasChildren())return UE(n);if(e){const t=n.children[Gt]?sb(n.children[Gt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Gt&&r.push(`${i}:${sb(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function cbe(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Gt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Gt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Gt?[sb(n.children[Gt],!1)]:[`${i}:${sb(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${UE(n)}/${t[0]}`:`${UE(n)}/(${t.join("//")})`}}function U5(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zE(n){return U5(n).replace(/%3B/gi,";")}function dM(n){return U5(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jE(n){return decodeURIComponent(n)}function z5(n){return jE(n.replace(/\+/g,"%20"))}function j5(n){return`${dM(n.path)}${function ube(n){return Object.entries(n).map(([e,t])=>`;${dM(e)}=${dM(t)}`).join("")}(n.parameters)}`}const fbe=/^[^\/()?;#]+/;function uM(n){const e=n.match(fbe);return e?e[0]:""}const mbe=/^[^\/()?;=#]+/,gbe=/^[^=?&#]+/,bbe=/^[^&#]+/;class ybe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new Yn(e,t)),r}parseSegment(){const e=uM(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new ob(jE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function pbe(n){const e=n.match(mbe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=uM(this.remaining);i&&(r=i,this.capture(r))}e[jE(t)]=jE(r)}parseQueryParam(e){const t=function _be(n){const e=n.match(gbe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function vbe(n){const e=n.match(bbe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=z5(t),o=z5(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uM(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Gt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Gt]:new Yn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}}function $5(n){return n.segments.length>0?new Yn([],{[Gt]:n}):n}function H5(n){const e={};for(const[r,i]of Object.entries(n.children)){const o=H5(i);if(r===Gt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function wbe(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new Yn(n.segments.concat(e.segments),e.children)}return n}(new Yn(n.segments,e))}function hm(n){return n instanceof dm}function q5(n){let e;const i=$5(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new Yn(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function W5(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return hM(i,i,i,t,r);const o=function Ibe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new K5(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new K5(t,e,r)}(e);if(o.toRoot())return hM(i,i,new Yn([],{}),t,r);const s=function xbe(n,e,t){if(n.isAbsolute)return new HE(e,!0,0);if(!t)return new HE(e,!1,NaN);if(null===t.parent)return new HE(t,!0,0);const r=$E(n.commands[0])?0:1;return function Cbe(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new HE(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?cb(s.segmentGroup,s.index,o.commands):Q5(s.segmentGroup,s.index,o.commands);return hM(i,s.segmentGroup,a,t,r)}function $E(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ab(n){return"object"==typeof n&&null!=n&&n.outlets}function hM(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=n===e?t:G5(n,e,t);const a=$5(H5(s));return new dm(a,o,i)}function G5(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:G5(o,e,t)}),new Yn(n.segments,r)}class K5{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$E(r[0]))throw new z(4003,!1);const i=r.find(ab);if(i&&i!==F5(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class HE{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Q5(n,e,t){if(n??=new Yn([],{}),0===n.segments.length&&n.hasChildren())return cb(n,e,t);const r=function Abe(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(ab(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!X5(c,l,s))return o;r+=2}else{if(!X5(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Yn(n.segments.slice(0,r.pathIndex),{});return o.children[Gt]=new Yn(n.segments.slice(r.pathIndex),n.children),cb(o,0,i)}return r.match&&0===i.length?new Yn(n.segments,{}):r.match&&!n.hasChildren()?fM(n,e,t):r.match?cb(n,0,i):fM(n,e,t)}function cb(n,e,t){if(0===t.length)return new Yn(n.segments,{});{const r=function Tbe(n){return ab(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Gt)&&n.children[Gt]&&1===n.numberOfChildren&&0===n.children[Gt].segments.length){const o=cb(n.children[Gt],e,t);return new Yn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Q5(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Yn(n.segments,i)}}function fM(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(ab(o)){const c=Dbe(o.outlets);return new Yn(r,c)}if(0===i&&$E(t[0])){r.push(new ob(n.segments[e].path,Y5(t[0]))),i++;continue}const s=ab(o)?o.outlets[Gt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&$E(a)?(r.push(new ob(s,Y5(a))),i+=2):(r.push(new ob(s,{})),i++)}return new Yn(r,{})}function Dbe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=fM(new Yn([],{}),0,r))}),e}function Y5(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function X5(n,e,t){return n==t.path&&Ua(e,t.parameters)}const lb="imperative";var En=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(En||{});class za{constructor(e,t){this.id=e,this.url=t}}class qE extends za{constructor(e,t,r="imperative",i=null){super(e,t),this.type=En.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mc extends za{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=En.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ms=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ms||{}),WE=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(WE||{});class fm extends za{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=En.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mm extends za{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=En.NavigationSkipped}}class GE extends za{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=En.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Z5 extends za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=En.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sbe extends za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=En.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kbe extends za{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=En.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rbe extends za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=En.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mbe extends za{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=En.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pbe{constructor(e){this.route=e,this.type=En.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fbe{constructor(e){this.route=e,this.type=En.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nbe{constructor(e){this.snapshot=e,this.type=En.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Obe{constructor(e){this.snapshot=e,this.type=En.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lbe{constructor(e){this.snapshot=e,this.type=En.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vbe{constructor(e){this.snapshot=e,this.type=En.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J5{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=En.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mM{}class pM{constructor(e){this.url=e}}class Bbe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new db,this.attachRef=null}}let db=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Bbe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class e8{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gM(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_M(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _M(e,this._root).map(t=>t.value)}}function gM(n,e){if(n===e.value)return e;for(const t of e.children){const r=gM(n,t);if(r)return r}return null}function _M(n,e){if(n===e.value)return[e];for(const t of e.children){const r=_M(n,t);if(r.length)return r.unshift(e),r}return[]}class ta{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class t8 extends e8{constructor(e,t){super(e),this.snapshot=t,yM(this,e)}toString(){return this.snapshot.toString()}}function n8(n){const e=function Ube(n){const o=new vM([],{},{},"",{},Gt,n,null,{});return new r8("",new ta(o,[]))}(n),t=new w([new ob("",{})]),r=new w({}),i=new w({}),o=new w({}),s=new w(""),a=new wu(t,r,o,s,i,Gt,n,e.root);return a.snapshot=e.root,new t8(new ta(a,[]),e)}class wu{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(l=>l[ib]))??Qe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>lm(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>lm(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bM(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&o8(i)&&(r.resolve[ib]=i.title),r}class vM{get title(){return this.data?.[ib]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lm(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lm(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class r8 extends e8{constructor(e,t){super(t),this.url=e,yM(this,t)}toString(){return i8(this._root)}}function yM(n,e){e.value._routerState=n,e.children.forEach(t=>yM(n,t))}function i8(n){const e=n.children.length>0?` { ${n.children.map(i8).join(", ")} } `:"";return`${n.value}${e}`}function wM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ua(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ua(e.params,t.params)||n.paramsSubject.next(t.params),function rbe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ua(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ua(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function EM(n,e){const t=Ua(n.params,e.params)&&function abe(n,e){return yu(n,e)&&n.every((t,r)=>Ua(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||EM(n.parent,e.parent))}function o8(n){return"string"==typeof n.title||null===n.title}let IM=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.parentContexts=oe(db),this.location=oe(Bi),this.changeDetector=oe(qo),this.environmentInjector=oe(Oi),this.inputBinder=oe(KE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new zbe(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wr]})}return n})();class zbe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r,this.__ngOutletInjector=!0}get(e,t){return e===wu?this.route:e===db?this.childContexts:this.parent.get(e,t)}}const KE=new ee("");let s8=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=cE([r.queryParams,r.params,r.data]).pipe(Sr(([o,s,a],c)=>(a={...o,...s,...a},0===c?Qe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function yZ(n){const e=Mt(n);if(!e)return null;const t=new Up(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();function ub(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function $be(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ub(n,r,i);return ub(n,r)})}(n,e,t);return new ta(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ub(n,a)),s}}const r=function Hbe(n){return new wu(new w(n.url),new w(n.params),new w(n.queryParams),new w(n.fragment),new w(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>ub(n,o));return new ta(r,i)}}const a8="ngNavigationCancelingError";function c8(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=hm(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=l8(!1,ms.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function l8(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[a8]=!0,t.cancellationCode=e,t}function d8(n){return!!n&&n[a8]}let u8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ui],decls:1,vars:0,template:function(r,i){1&r&&Wt(0,"router-outlet")},dependencies:[IM],encapsulation:2})}return n})();function xM(n){const e=n.children&&n.children.map(xM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=u8),t}function ja(n){return n.outlet||Gt}function hb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Zbe{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wM(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=pm(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=pm(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=pm(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=pm(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Vbe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Obe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(wM(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wM(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=hb(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class h8{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class QE{constructor(e,t){this.component=e,this.route=t}}function Jbe(n,e,t){const r=n._root;return fb(r,e?e._root:null,t,[r.value])}function gm(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function aI(n){return null!==Pc(n)}(n)?e.get(n):n:r}function fb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=pm(e);return n.children.forEach(s=>{(function tve(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function nve(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!yu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!yu(n.url,e.url)||!Ua(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EM(n,e)||!Ua(n.queryParams,e.queryParams);default:return!EM(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new h8(r)):(o.data=s.data,o._resolvedData=s._resolvedData),fb(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new QE(a.outlet.component,s))}else s&&mb(e,a,i),i.canActivateChecks.push(new h8(r)),fb(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>mb(a,t.getContext(s),i)),i}function mb(n,e,t){const r=pm(n),i=n.value;Object.entries(r).forEach(([o,s])=>{mb(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new QE(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function pb(n){return"function"==typeof n}function f8(n){return n instanceof d0||"EmptyError"===n?.name}const YE=Symbol("INITIAL_VALUE");function _m(){return Sr(n=>cE(n.map(e=>e.pipe(Cs(1),Ia(YE)))).pipe(de(e=>{for(const t of e)if(!0!==t){if(t===YE)return YE;if(!1===t||t instanceof dm)return t}return!0}),kr(e=>e!==YE),Cs(1)))}function m8(n){return function sr(...n){return Zn(n)}(di(e=>{if(hm(e))throw c8(0,e)}),de(e=>!0===e))}class CM{constructor(e){this.segmentGroup=e||null}}class TM extends Error{constructor(e){super(),this.urlTree=e}}function bm(n){return G_(new CM(n))}class wve{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qe(r);if(i.numberOfChildren>1||!i.children[Gt])return G_(new z(4e3,!1));i=i.children[Gt]}}applyRedirectCommands(e,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new TM(i);return i}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new dm(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Yn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const AM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Eve(n,e,t,r,i){const o=DM(n,e,t);return o.matched?(r=function Wbe(n,e){return n.providers&&!n._injector&&(n._injector=uy(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function bve(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Qe(i.map(s=>{const a=gm(s,n);return $l(function cve(n){return n&&pb(n.canMatch)}(a)?a.canMatch(e,t):Xo(n,()=>a(e,t)))})).pipe(_m(),m8()):Qe(!0)}(r,e,t).pipe(de(s=>!0===s?o:{...AM}))):Qe(o)}function DM(n,e,t){if("**"===e.path)return function Ive(n){return{matched:!0,parameters:n.length>0?F5(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...AM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||nbe)(t,n,e);if(!i)return{...AM};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function p8(n,e,t,r){return t.length>0&&function Tve(n,e,t){return t.some(r=>XE(n,e,r)&&ja(r)!==Gt)}(n,t,r)?{segmentGroup:new Yn(e,Cve(r,new Yn(t,n.children))),slicedSegments:[]}:0===t.length&&function Ave(n,e,t){return t.some(r=>XE(n,e,r))}(n,t,r)?{segmentGroup:new Yn(n.segments,xve(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Yn(n.segments,n.children),slicedSegments:t}}function xve(n,e,t,r){const i={};for(const o of t)if(XE(n,e,o)&&!r[ja(o)]){const s=new Yn([],{});i[ja(o)]=s}return{...r,...i}}function Cve(n,e){const t={};t[Gt]=e;for(const r of n)if(""===r.path&&ja(r)!==Gt){const i=new Yn([],{});t[ja(r)]=i}return t}function XE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class kve{}class Pve{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wve(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){const e=p8(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(t=>{const r=new vM([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,{}),i=new ta(r,t),o=new r8("",i),s=function Ebe(n,e,t=null,r=null){return W5(q5(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe(fu(r=>{if(r instanceof TM)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof CM?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,i=bM(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(de(o=>o instanceof ta?[o]:[]))}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Un(i).pipe(sm(o=>{const s=r.children[o],a=function Ybe(n,e){const t=n.filter(r=>ja(r)===e);return t.push(...n.filter(r=>ja(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),f0((o,s)=>(o.push(...s),o)),u0(null),function J_e(n,e){const t=arguments.length>=2;return r=>r.pipe(n?kr((i,o)=>n(i,o,r)):fn,aM(1),t?u0(e):$2(()=>new d0))}(),$i(o=>{if(null===o)return bm(r);const s=g8(o);return function Fve(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Qe(s)}))}processSegment(e,t,r,i,o,s){return Un(t).pipe(sm(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(fu(c=>{if(c instanceof CM)return Qe(null);throw c}))),hl(a=>!!a),fu(a=>{if(f8(a))return function Sve(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?Qe(new kve):bm(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function Dve(n,e,t,r){return!!(ja(n)===r||r!==Gt&&XE(e,t,n))&&DM(e,n,t).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):bm(i):bm(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:h}=DM(t,i,o);if(!a)return bm(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,m).pipe($i(g=>this.processSegment(e,r,t,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){const s=Eve(t,r,i,e);return"**"===r.path&&(t.children={}),s.pipe(Sr(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Sr(({routes:c})=>{const l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:m,parameters:g}=a,_=new vM(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Ove(n){return n.data||{}}(r),ja(r),r.component??r._loadedComponent??null,r,function Lve(n){return n.resolve||{}}(r)),{segmentGroup:v,slicedSegments:x}=p8(t,h,m,c);if(0===x.length&&v.hasChildren())return this.processChildren(l,c,v).pipe(de(P=>null===P?null:new ta(_,P)));if(0===c.length&&0===x.length)return Qe(new ta(_,[]));const T=ja(r)===o;return this.processSegment(l,c,v,x,T?Gt:o,!0).pipe(de(P=>new ta(_,P instanceof ta?[P]:[])))})):bm(t)))}getChildConfig(e,t,r){return t.children?Qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function _ve(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Qe(!0):Qe(i.map(s=>{const a=gm(s,n);return $l(function ive(n){return n&&pb(n.canLoad)}(a)?a.canLoad(e,t):Xo(n,()=>a(e,t)))})).pipe(_m(),m8())}(e,t,r).pipe($i(i=>i?this.configLoader.loadChildren(e,t).pipe(di(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function yve(n){return G_(l8(!1,ms.GuardRejected))}())):Qe({routes:[],injector:e})}}function Nve(n){const e=n.value.routeConfig;return e&&""===e.path}function g8(n){const e=[],t=new Set;for(const r of n){if(!Nve(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=g8(r.children);e.push(new ta(r.value,i))}return e.filter(r=>!t.has(r))}function _8(n){const e=n.children.map(t=>_8(t)).flat();return[n,...e]}function SM(n){return Sr(e=>{const t=n(e);return t?Un(t).pipe(de(()=>e)):Qe(e)})}let b8=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Gt);return r}getResolvedTitleForRoute(t){return t.data[ib]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:()=>oe($ve),providedIn:"root"})}return n})(),$ve=(()=>{class n extends b8{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(V(Hee))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vm=new ee("",{providedIn:"root",factory:()=>({})}),ym=new ee("");let kM=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=oe(UL)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=$l(t.loadComponent()).pipe(de(v8),di(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),_E(()=>{this.componentLoaders.delete(t)})),i=new M5(r,()=>new E).pipe(sM());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Hve(n,e,t,r){return $l(n.loadChildren()).pipe(de(v8),$i(i=>i instanceof JF||Array.isArray(i)?Qe(i):Un(e.compileModuleAsync(i))),de(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(ym,[],{optional:!0,self:!0}).flat()),{routes:s.map(xM),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(_E(()=>{this.childrenLoaders.delete(r)})),s=new M5(o,()=>new E).pipe(sM());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v8(n){return function qve(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let RM=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:()=>oe(Wve),providedIn:"root"})}return n})(),Wve=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const y8=new ee(""),w8=new ee("");function Gve(n,e,t){const r=n.get(w8),i=n.get(un);return n.get(He).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),function Kve(n){return new Promise(e=>{_F(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=r;return c&&Xo(n,()=>c({transition:a,from:e,to:t})),s})}let ZE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new E,this.transitionAbortSubject=new E,this.configLoader=oe(kM),this.environmentInjector=oe(Oi),this.urlSerializer=oe(um),this.rootContexts=oe(db),this.location=oe(Gh),this.inputBindingEnabled=null!==oe(KE,{optional:!0}),this.titleStrategy=oe(b8),this.options=oe(vm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=oe(RM),this.createViewTransition=oe(y8,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Fbe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Pbe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new w({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lb,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kr(o=>0!==o.id),de(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Sr(o=>{let s=!1,a=!1;return Qe(o).pipe(Sr(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ms.SupersededByNewNavigation),as;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new mm(c.id,this.urlSerializer.serialize(c.rawUrl),m,WE.IgnoredSameUrlNavigation)),c.resolve(null),as}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Qe(c).pipe(Sr(m=>{const g=this.transitions?.getValue();return this.events.next(new qE(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?as:Promise.resolve(m)}),function Vve(n,e,t,r,i,o){return $i(s=>function Rve(n,e,t,r,i,o,s="emptyOnly"){return new Pve(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(de(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),di(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const g=new Z5(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:g,source:_,restoredState:v,extras:x}=c,T=new qE(m,this.urlSerializer.serialize(g),_,v);this.events.next(T);const P=n8(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:P,urlAfterRedirects:g,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,Qe(o)}{const m="";return this.events.next(new mm(c.id,this.urlSerializer.serialize(c.extractedUrl),m,WE.IgnoredByUrlHandlingStrategy)),c.resolve(null),as}}),di(c=>{const l=new Sbe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),de(c=>(this.currentTransition=o={...c,guards:Jbe(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function lve(n,e){return $i(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Qe({...t,guardsResult:!0}):function dve(n,e,t,r){return Un(n).pipe($i(i=>function gve(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Qe(o.map(a=>{const c=hb(e)??i,l=gm(a,c);return $l(function ave(n){return n&&pb(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):Xo(c,()=>l(n,e,t,r))).pipe(hl())})).pipe(_m()):Qe(!0)}(i.component,i.route,t,e,r)),hl(i=>!0!==i,!0))}(s,r,i,n).pipe($i(a=>a&&function rve(n){return"boolean"==typeof n}(a)?function uve(n,e,t,r){return Un(e).pipe(sm(i=>h0(function fve(n,e){return null!==n&&e&&e(new Nbe(n)),Qe(!0)}(i.route.parent,r),function hve(n,e){return null!==n&&e&&e(new Lbe(n)),Qe(!0)}(i.route,r),function pve(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function eve(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>RR(()=>Qe(s.guards.map(c=>{const l=hb(s.node)??t,h=gm(c,l);return $l(function sve(n){return n&&pb(n.canActivateChild)}(h)?h.canActivateChild(r,n):Xo(l,()=>h(r,n))).pipe(hl())})).pipe(_m())));return Qe(o).pipe(_m())}(n,i.path,t),function mve(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Qe(!0);const i=r.map(o=>RR(()=>{const s=hb(e)??t,a=gm(o,s);return $l(function ove(n){return n&&pb(n.canActivate)}(a)?a.canActivate(e,n):Xo(s,()=>a(e,n))).pipe(hl())}));return Qe(i).pipe(_m())}(n,i.route,t))),hl(i=>!0!==i,!0))}(r,o,n,e):Qe(a)),de(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),di(c=>{if(o.guardsResult=c.guardsResult,hm(c.guardsResult))throw c8(0,c.guardsResult);const l=new kbe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),kr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",ms.GuardRejected),!1)),SM(c=>{if(c.guards.canActivateChecks.length)return Qe(c).pipe(di(l=>{const h=new Rbe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Sr(l=>{let h=!1;return Qe(l).pipe(function Bve(n,e){return $i(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Qe(t);const o=new Set(i.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of _8(c))s.add(l);let a=0;return Un(s).pipe(sm(c=>o.has(c)?function Uve(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!o8(i)&&(o[ib]=i.title),function zve(n,e,t,r){const i=cM(n);if(0===i.length)return Qe({});const o={};return Un(i).pipe($i(s=>function jve(n,e,t,r){const i=hb(e)??r,o=gm(n,i);return $l(o.resolve?o.resolve(e,t):Xo(i,()=>o(e,t)))}(n[s],e,t,r).pipe(hl(),di(a=>{o[s]=a}))),aM(1),function ebe(n){return de(()=>n)}(o),fu(s=>f8(s)?as:G_(s)))}(o,n,e,r).pipe(de(s=>(n._resolvedData=s,n.data=bM(n,n.parent,t).resolve,null)))}(c,r,n,e):(c.data=bM(c,c.parent,n).resolve,Qe(void 0))),di(()=>a++),aM(1),$i(c=>a===s.size?Qe(t):as))})}(this.paramsInheritanceStrategy,this.environmentInjector),di({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",ms.NoDataFromResolver)}}))}),di(l=>{const h=new Mbe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),SM(c=>{const l=h=>{const m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(di(g=>{h.component=g}),de(()=>{})));for(const g of h.children)m.push(...l(g));return m};return cE(l(c.targetSnapshot.root)).pipe(u0(null),Cs(1))}),SM(()=>this.afterPreactivation()),Sr(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return h?Un(h).pipe(de(()=>o)):Qe(o)}),de(c=>{const l=function jbe(n,e,t){const r=ub(n,e._root,t?t._root:void 0);return new t8(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),di(()=>{this.events.next(new mM)}),((n,e,t,r)=>de(i=>(new Zbe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Cs(1),di({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ei(this.transitionAbortSubject.pipe(di(c=>{throw c}))),_E(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ms.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fu(c=>{if(a=!0,d8(c))this.events.next(new fm(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function qbe(n){return d8(n)&&hm(n.url)}(c)?this.events.next(new pM(c.url)):o.resolve(!1);else{this.events.next(new GE(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return as}))}))}cancelNavigationTransition(t,r,i){const o=new fm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qve(n){return n!==lb}let Yve=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:()=>oe(Zve),providedIn:"root"})}return n})();class Xve{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Zve=(()=>{class n extends Xve{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ii(n)))(i||n)}})();static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:()=>oe(Jve),providedIn:"root"})}return n})(),Jve=(()=>{class n extends E8{constructor(){super(...arguments),this.location=oe(Gh),this.urlSerializer=oe(um),this.options=oe(vm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=oe(RM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dm,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=n8(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof qE)this.stateMemento=this.createStateMemento();else if(t instanceof mm)this.rawUrlTree=r.initialUrl;else if(t instanceof Z5){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof mM?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof fm&&(t.code===ms.GuardRejected||t.code===ms.NoDataFromResolver)?this.restoreHistory(r):t instanceof GE?this.restoreHistory(r,!0):t instanceof Mc&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ii(n)))(i||n)}})();static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gb=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(gb||{});function I8(n,e){n.events.pipe(kr(t=>t instanceof Mc||t instanceof fm||t instanceof GE||t instanceof mm),de(t=>t instanceof Mc||t instanceof mm?gb.COMPLETE:t instanceof fm&&(t.code===ms.Redirect||t.code===ms.SupersededByNewNavigation)?gb.REDIRECTING:gb.FAILED),kr(t=>t!==gb.REDIRECTING),Cs(1)).subscribe(()=>{e()})}function eye(n){throw n}const tye={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nye={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let na=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=oe(kL),this.stateManager=oe(E8),this.options=oe(vm,{optional:!0})||{},this.pendingTasks=oe(xh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=oe(ZE),this.urlSerializer=oe(um),this.location=oe(Gh),this.urlHandlingStrategy=oe(RM),this._events=new E,this.errorHandler=this.options.errorHandler||eye,this.navigated=!1,this.routeReuseStrategy=oe(Yve),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=oe(ym,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!oe(KE,{optional:!0}),this.eventsSubscription=new ge,this.isNgZoneEnabled=oe(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof fm&&r.code!==ms.Redirect&&r.code!==ms.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mc)this.navigated=!0;else if(r instanceof pM){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qve(i.source)};this.scheduleNavigation(s,lb,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function iye(n){return!(n instanceof mM||n instanceof pM)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lb,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(xM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let m,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{m=q5(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return W5(m,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=hm(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,lb,null,r)}navigate(t,r={skipLocationChange:!1}){return function rye(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new z(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...tye}:!1===r?{...nye}:r,hm(t))return O5(this.currentUrlTree,t,i);const o=this.parseUrl(t);return O5(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((m,g)=>{a=m,c=g});const h=this.pendingTasks.add();return I8(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(m=>Promise.reject(m))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JE=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Mc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const r=null===this.href?null:function fP(n,e,t){return function EW(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?hP:uP}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(M(na),M(wu),ec("tabindex"),M(rc),M(qt),M(ul))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&et("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Fn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ie.HasDecoratorInputTransform,"preserveFragment","preserveFragment",St],skipLocationChange:[ie.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",St],replaceUrl:[ie.HasDecoratorInputTransform,"replaceUrl","replaceUrl",St],routerLink:"routerLink"},standalone:!0,features:[Ai,Wr]})}return n})();class x8{}let aye=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(kr(t=>t instanceof Mc),sm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=uy(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Un(i).pipe(tf())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Qe(null);const o=i.pipe($i(s=>null===s?Qe(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Un([o,this.loader.loadComponent(r)]).pipe(tf()):o})}static#e=this.\u0275fac=function(r){return new(r||n)(V(na),V(UL),V(Oi),V(x8),V(kM))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const MM=new ee("");let C8=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof mm&&t.code===WE.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof J5&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new J5(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){Kv()};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac})}return n})();function $a(n,e){return{\u0275kind:n,\u0275providers:e}}function A8(){const n=oe(oi);return e=>{const t=n.get(ac);if(e!==t.components[0])return;const r=n.get(na),i=n.get(D8);1===n.get(PM)&&r.initialNavigation(),n.get(S8,null,Jt.Optional)?.setUpPreloading(),n.get(MM,null,Jt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const D8=new ee("",{factory:()=>new E}),PM=new ee("",{providedIn:"root",factory:()=>1}),S8=new ee("");function uye(n){return $a(0,[{provide:S8,useExisting:aye},{provide:x8,useExisting:n}])}function fye(n){return $a(9,[{provide:y8,useValue:Gve},{provide:w8,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const k8=new ee("ROUTER_FORROOT_GUARD"),mye=[Gh,{provide:um,useClass:lM},na,db,{provide:wu,useFactory:function T8(n){return n.routerState.root},deps:[na]},kM,[]];let R8=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[mye,[],{provide:ym,multi:!0,useValue:t},{provide:k8,useFactory:bye,deps:[[na,new Hr,new Wa]]},{provide:vm,useValue:r||{}},r?.useHash?{provide:ul,useClass:PV}:{provide:ul,useClass:MV},{provide:MM,useFactory:()=>{const n=oe(HJ),e=oe(He),t=oe(vm),r=oe(ZE),i=oe(um);return t.scrollOffset&&n.setOffset(t.scrollOffset),new C8(i,r,n,e,t)}},r?.preloadingStrategy?uye(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?vye(r):[],r?.bindToComponentInputs?$a(8,[s8,{provide:KE,useExisting:s8}]).\u0275providers:[],r?.enableViewTransitions?fye().\u0275providers:[],[{provide:M8,useFactory:A8},{provide:oT,multi:!0,useExisting:M8}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ym,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(V(k8,8))};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({})}return n})();function bye(n){return"guarded"}function vye(n){return["disabled"===n.initialNavigation?$a(3,[{provide:rT,multi:!0,useFactory:()=>{const e=oe(na);return()=>{e.setUpLocationChangeListener()}}},{provide:PM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$a(2,[{provide:PM,useValue:0},{provide:rT,multi:!0,deps:[oi],useFactory:e=>{const t=e.get(IZ,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(na),o=e.get(D8);I8(i,()=>{r(!0)}),e.get(ZE).afterPreactivation=()=>(r(!0),o.closed?Qe(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const M8=new ee(""),_b=[{name:"Arial",fontFamily:"Arial, Helvetica, sans-serif"},{name:"Fugaz",fontFamily:"'Fugaz One', sans-serif"},{name:"Orbitron",fontFamily:"Orbitron, sans-serif"},{name:"Racing",fontFamily:"'Racing Sans One', sans-serif"}],wye={boardColor:"#ff0000",boardTextColor:"#ffffff",markerColor:"#ff0000",disableMarkerColor:!1,winPattern:void 0},P8={title:"",password:"",active:!1},eI={font:_b[3],backgroundColor:"#361b07",cardColor:"#3e372e",textColor:"#ffffff",bold:!1,textShadow:!0,uppercase:!0};var F8=rt(595),Ee=function(n){return n.B="B",n.I="I",n.N="N",n.G="G",n.O="O",n}(Ee||{});const bb=[{letter:Ee.B,number:1,called:!1},{letter:Ee.B,number:2,called:!1},{letter:Ee.B,number:3,called:!1},{letter:Ee.B,number:4,called:!1},{letter:Ee.B,number:5,called:!1},{letter:Ee.B,number:6,called:!1},{letter:Ee.B,number:7,called:!1},{letter:Ee.B,number:8,called:!1},{letter:Ee.B,number:9,called:!1},{letter:Ee.B,number:10,called:!1},{letter:Ee.B,number:11,called:!1},{letter:Ee.B,number:12,called:!1},{letter:Ee.B,number:13,called:!1},{letter:Ee.B,number:14,called:!1},{letter:Ee.B,number:15,called:!1},{letter:Ee.I,number:16,called:!1},{letter:Ee.I,number:17,called:!1},{letter:Ee.I,number:18,called:!1},{letter:Ee.I,number:19,called:!1},{letter:Ee.I,number:20,called:!1},{letter:Ee.I,number:21,called:!1},{letter:Ee.I,number:22,called:!1},{letter:Ee.I,number:23,called:!1},{letter:Ee.I,number:24,called:!1},{letter:Ee.I,number:25,called:!1},{letter:Ee.I,number:26,called:!1},{letter:Ee.I,number:27,called:!1},{letter:Ee.I,number:28,called:!1},{letter:Ee.I,number:29,called:!1},{letter:Ee.I,number:30,called:!1},{letter:Ee.N,number:31,called:!1},{letter:Ee.N,number:32,called:!1},{letter:Ee.N,number:33,called:!1},{letter:Ee.N,number:34,called:!1},{letter:Ee.N,number:35,called:!1},{letter:Ee.N,number:36,called:!1},{letter:Ee.N,number:37,called:!1},{letter:Ee.N,number:38,called:!1},{letter:Ee.N,number:39,called:!1},{letter:Ee.N,number:40,called:!1},{letter:Ee.N,number:41,called:!1},{letter:Ee.N,number:42,called:!1},{letter:Ee.N,number:43,called:!1},{letter:Ee.N,number:44,called:!1},{letter:Ee.N,number:45,called:!1},{letter:Ee.G,number:46,called:!1},{letter:Ee.G,number:47,called:!1},{letter:Ee.G,number:48,called:!1},{letter:Ee.G,number:49,called:!1},{letter:Ee.G,number:50,called:!1},{letter:Ee.G,number:51,called:!1},{letter:Ee.G,number:52,called:!1},{letter:Ee.G,number:53,called:!1},{letter:Ee.G,number:54,called:!1},{letter:Ee.G,number:55,called:!1},{letter:Ee.G,number:56,called:!1},{letter:Ee.G,number:57,called:!1},{letter:Ee.G,number:58,called:!1},{letter:Ee.G,number:59,called:!1},{letter:Ee.G,number:60,called:!1},{letter:Ee.O,number:61,called:!1},{letter:Ee.O,number:62,called:!1},{letter:Ee.O,number:63,called:!1},{letter:Ee.O,number:64,called:!1},{letter:Ee.O,number:65,called:!1},{letter:Ee.O,number:66,called:!1},{letter:Ee.O,number:67,called:!1},{letter:Ee.O,number:68,called:!1},{letter:Ee.O,number:69,called:!1},{letter:Ee.O,number:70,called:!1},{letter:Ee.O,number:71,called:!1},{letter:Ee.O,number:72,called:!1},{letter:Ee.O,number:73,called:!1},{letter:Ee.O,number:74,called:!1},{letter:Ee.O,number:75,called:!1}];let vb=(()=>{class n{constructor(t){this.firestore=t,this._documentKey="document-id",this.gamesCollection=this.firestore.collection("bingo"),this.winPatternCollection=this.firestore.collection("win-patterns"),this.currentGameIndex=0,this.subscriptions$=[],this.documentId$=new w(""),this.activeSessions$=new w([]),this.currentSession$=new w(null),this.currentGame$=new w(null),this.games$=new w([]),this.winPatterns$=new w([]),this.lastCall$=new w(null),this.previousCalls$=new w([]),this.theme$=new w(eI);const r=localStorage.getItem(this._documentKey);r&&this.connectToSession(r),this.getActiveSessions(),this.loadWinPatterns()}ngOnDestroy(){this.subscriptions$.map(t=>t.unsubscribe())}connectToSession(t){this.documentId$.value!==t&&(localStorage.setItem(this._documentKey,t),this.documentId$.next(t),this.currentGame$.next(null),this.lastCall$.next(null),this.previousCalls$.next([]),this.subscriptions$.push(this.gamesCollection.doc(t).get().pipe(kr(r=>!!r.data)).subscribe(r=>{const i=r.data();i&&(this.currentSession$.next(i.session),this.updateData(t,i))})),this.subscriptions$.push(this.gamesCollection.doc(t).valueChanges().pipe(kr(r=>!!r)).subscribe(r=>{r&&this.updateData(t,r)})))}getActiveSessions(){this.gamesCollection.ref.where("session.active","==",!0).get().then(t=>this.activeSessions$.next(t.docs.map(r=>({id:r.id,session:r.data().session})))),this.subscriptions$.push(this.gamesCollection.snapshotChanges().pipe(de(t=>t.filter(r=>r.payload.doc.data().session.active))).subscribe(t=>this.activeSessions$.next(t.map(r=>({id:r.payload.doc.id,session:r.payload.doc.data().session})))))}loadWinPatterns(){this.subscriptions$.push(this.winPatternCollection.get().subscribe(t=>{const r=t.docs.sort((i,o)=>i.data().name<o.data().name?-1:0).sort((i,o)=>i.data().isDefault?-1:0).map(i=>JSON.parse(i.data().winPattern));this.winPatterns$.next(r)}))}updateData(t,r){const i=r.theme;i.font=_b.find(a=>a.name===i.font.name)??eI.font,this.theme$.next(i),this.updateDocumentStyles(i),this.documentId$.next(t),localStorage.setItem(this._documentKey,t);const o=r.games?.map(a=>JSON.parse(a));this.games$.next(o),this.currentGameIndex=r.currentGameIndex;const s=o[this.currentGameIndex];s&&(this.lastCall$.next(s?.calls[s?.calls.length-1]),document.documentElement.style.setProperty("--board-color",s.options.boardColor),document.documentElement.style.setProperty("--marker-color",s.options.markerColor),document.documentElement.style.setProperty("--board-text-color",s.options.boardTextColor),this.updatePreviousCalls(s),this.currentGame$.next(s))}loadGame(t){const r=this.games$.value;this.currentGameIndex=r.findIndex(i=>i===t),r[this.currentGameIndex]=t,this.documentId$.value&&this.gamesCollection?.doc(this.documentId$.value).update({currentGameIndex:this.currentGameIndex})}updateGame(t){const r=this.games$.value;this.currentGameIndex=r.findIndex(i=>i===t),r[this.currentGameIndex]=t,this.saveGames(r)}updatePreviousCalls(t){const r=t?.calls;if(!r||r.length<2)return void this.previousCalls$.next([]);const i=Math.max(r.length-6,0);this.previousCalls$.next(t.calls.slice(i,r.length-1).reverse())}saveCurrentGame(){const t=this.currentGame$.value;t&&(this.updateGame(t),document.documentElement.style.setProperty("--board-color",t?.options?.boardColor),document.documentElement.style.setProperty("--board-text-color",t.options.boardTextColor),document.documentElement.style.setProperty("--marker-color",t.options.markerColor))}saveGames(t){const r=t.map(i=>JSON.stringify(i));this.documentId$.value&&this.gamesCollection?.doc(this.documentId$.value).update({currentGameIndex:this.currentGameIndex,games:r})}createGame(t,r=""){t.markerColor=t.disableMarkerColor?t.boardColor:t.markerColor;const i={gameNumber:this.games$.value.length+1,options:t,message:r,startTime:new Date,balls:this.getBalls(),calls:[]},o=this.games$.value;o.push(i),this.currentGameIndex=o.length-1,this.currentGame$.next(i),this.saveCurrentGame()}createSession(t){t.password&&(t.password=(0,F8.sha512)(t.password),this.gamesCollection?.add({session:t,currentGameIndex:-1,games:[],theme:this.theme$.value}).then(r=>{this.documentId$.next(r.id),localStorage.setItem(this._documentKey,r.id)}))}updateSession(t){this.gamesCollection.doc(this.documentId$.value).update({session:t})}deleteSession(t){this.gamesCollection.doc(t).delete()}getBalls(){return{[Ee.B]:bb.filter(t=>t.letter===Ee.B).map(t=>({...t,called:!1})),[Ee.I]:bb.filter(t=>t.letter===Ee.I).map(t=>({...t,called:!1})),[Ee.N]:bb.filter(t=>t.letter===Ee.N).map(t=>({...t,called:!1})),[Ee.G]:bb.filter(t=>t.letter===Ee.G).map(t=>({...t,called:!1})),[Ee.O]:bb.filter(t=>t.letter===Ee.O).map(t=>({...t,called:!1}))}}callBall(t){t.called=!t.called;const r=this.currentGame$.value;if(r){if(t.called)r.calls.push(t);else{const i=r.calls.findIndex(o=>o.letter===t.letter&&o.number===t.number);void 0!==i&&-1!==i&&r.calls.splice(i,1)}this.updatePreviousCalls(r),this.saveCurrentGame()}}resetGame(t){t.balls=this.getBalls(),t.calls=[],this.updateGame(t)}updateWinPattern(t){const r=this.currentGame$.value;null!==r&&(r.options.winPattern=t,this.saveCurrentGame())}deleteGame(t){const r=this.games$.value.filter(i=>i.startTime!==t.startTime);this.games$.next(r),this.currentGame$.value===t?(this.currentGame$.next(null),this.currentGameIndex--):this.currentGameIndex=r.findIndex(i=>i===t),this.saveGames(r)}updateTheme(t){t.font=_b.find(r=>r.name===t.font.name)??_b[0],this.gamesCollection?.doc(this.documentId$.value).update({theme:t})}updateDocumentStyles(t){document.documentElement.style.setProperty("--font-family",t.font.fontFamily),document.documentElement.style.setProperty("--primary-color",t.backgroundColor),document.documentElement.style.setProperty("--text-color",t.textColor),document.documentElement.style.setProperty("--card-color",t.cardColor),document.documentElement.style.setProperty("--text-transform",t.uppercase?"uppercase":"none"),document.documentElement.style.setProperty("--text-shadow",t.textShadow?"var(--text-shadow-on)":"none"),document.documentElement.style.setProperty("--font-weight",t.bold?"bold":"none")}static#e=this.\u0275fac=function(r){return new(r||n)(V(o$))};static#t=this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Eye=(n,e,t)=>({called:n,clickable:e,active:t});function Iye(n,e){if(1&n){const t=xo();K(0,"div",6),zi(1,"async"),zi(2,"async"),et("click",function(){const i=cn(t).$implicit;return ln(sn(3).clickBall(i))}),qe(3),J()}if(2&n){let t;const r=e.$implicit,i=sn(3);Ke("ngClass",aL(6,Eye,r.called,i.editable,r.letter===(null==(t=ji(1,2,i.lastCall$))?null:t.letter)&&r.number===(null==(t=ji(2,4,i.lastCall$))?null:t.number))),ce(3),$h(" ",r.number," ")}}function xye(n,e){if(1&n&&(K(0,"div",3)(1,"div",4),qe(2),J(),dn(3,Iye,4,10,"div",5),J()),2&n){const t=e.$implicit,r=sn(2);ce(),Fn("ball-letter",t),ce(),Dr(t),ce(),Ke("ngForOf",r.balls[t])}}function Cye(n,e){if(1&n&&(K(0,"div",1),dn(1,xye,4,3,"div",2),J()),2&n){const t=sn();ce(),Ke("ngForOf",t.letters)}}let N8=(()=>{class n{constructor(t){this.gameService=t,this.editable=!1,this.letters=Object.values(Ee),this.lastCall$=this.gameService.lastCall$}ngOnInit(){this.gameService.currentGame$.subscribe(t=>this.balls=t?.balls)}clickBall(t){this.editable&&this.gameService.callBall(t)}static#e=this.\u0275fac=function(r){return new(r||n)(M(vb))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-called-numbers"]],inputs:{editable:"editable",balls:"balls"},decls:1,vars:1,consts:[["class","balls card","no-padding","",4,"ngIf"],["no-padding","",1,"balls","card"],["class","ball-row",4,"ngFor","ngForOf"],[1,"ball-row"],[1,"ball-letter"],["class","ball-number",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ball-number",3,"click","ngClass"]],template:function(r,i){1&r&&dn(0,Cye,2,1,"div",0),2&r&&Ke("ngIf",i.balls)},dependencies:[Qh,DT,cg,lg],styles:[".balls[_ngcontent-%COMP%]{position:relative}.ball-row[_ngcontent-%COMP%]{display:flex;justify-content:center}.ball-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;background:var(--black-color);color:var(--not-called-color);font-size:4vw;height:var(--box-size);width:var(--box-size)}.ball-row[_ngcontent-%COMP%] > div.ball-letter[_ngcontent-%COMP%]{color:var(--ball-text-color);background:var(--ball-color);font-weight:var(--font-weight, normal)}.ball-row[_ngcontent-%COMP%] > div.ball-letter[ball-letter=B][_ngcontent-%COMP%]{--ball-color: var(--b-ball-color);--ball-text-color: var(--b-ball-text-color)}.ball-row[_ngcontent-%COMP%] > div.ball-letter[ball-letter=I][_ngcontent-%COMP%]{--ball-color: var(--i-ball-color);--ball-text-color: var(--i-ball-text-color)}.ball-row[_ngcontent-%COMP%] > div.ball-letter[ball-letter=N][_ngcontent-%COMP%]{--ball-color: var(--n-ball-color);--ball-text-color: var(--n-ball-text-color)}.ball-row[_ngcontent-%COMP%] > div.ball-letter[ball-letter=G][_ngcontent-%COMP%]{--ball-color: var(--g-ball-color);--ball-text-color: var(--g-ball-text-color)}.ball-row[_ngcontent-%COMP%] > div.ball-letter[ball-letter=O][_ngcontent-%COMP%]{--ball-color: var(--o-ball-color);--ball-text-color: var(--o-ball-text-color)}.ball-row[_ngcontent-%COMP%] > div.ball-number[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.ball-row[_ngcontent-%COMP%]   .called[_ngcontent-%COMP%]{color:var(--called-color)}.ball-row[_ngcontent-%COMP%]   .called.active[_ngcontent-%COMP%]{transition:color .5s;animation-name:_ngcontent-%COMP%_active-number;animation-duration:.75s;animation-timing-function:linear;animation-iteration-count:infinite;animation-direction:alternate}@keyframes _ngcontent-%COMP%_active-number{0%{color:var(--black-color)}to{color:var(--called-color)}}.ball-row[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{cursor:pointer}"]})}return n})();const Aye=n=>({selected:n});function Dye(n,e){1&n&&(K(0,"span",6),qe(1," Free Space "),J())}function Sye(n,e){if(1&n&&(K(0,"div",4),dn(1,Dye,2,0,"span",5),J()),2&n){const t=e.$implicit,r=sn().$implicit,i=sn();Ke("ngClass",Sy(2,Aye,i.coordinateSelected(r,t))),ce(),Ke("ngIf",2===r&&2===t)}}function kye(n,e){if(1&n&&(K(0,"div",3),oc(1,Sye,2,4,"div",4,ic),J()),2&n){const t=sn();ce(),sc(t.columns)}}let O8=(()=>{class n{constructor(){this.pattern=void 0,this.delayMs=1e3,this.patternIndex=0,this.currentCoordinates=[],this.rows=[0,1,2,3,4],this.columns=[0,1,2,3,4],this.subscription=null}ngOnInit(){this.currentCoordinates=this.pattern?.coordinates[this.patternIndex]??[],this.subscription=function Tye(n=0,e=Yh){return n<0&&(n=0),IR(n,n,e)}(this.delayMs).subscribe(()=>{if(0===this.pattern?.coordinates?.length)return this.patternIndex=0,void(this.currentCoordinates=[]);this.patternIndex=(this.patternIndex+1)%(this.pattern?.coordinates?.length??0),this.currentCoordinates=this.pattern?.coordinates[this.patternIndex]??[]})}ngOnDestroy(){this.subscription?.unsubscribe()}coordinateSelected(t,r){return void 0!==this.currentCoordinates.find(i=>i.x===t&&i.y===r)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-win-patterns"]],inputs:{pattern:"pattern",delayMs:"delayMs"},decls:14,vars:0,consts:[[1,"board"],[1,"letter-row"],[1,"letter"],[1,"number-row"],[1,"number",3,"ngClass"],["class","free-space",4,"ngIf"],[1,"free-space"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div",1)(2,"div",2),qe(3,"B"),J(),K(4,"div",2),qe(5,"I"),J(),K(6,"div",2),qe(7,"N"),J(),K(8,"div",2),qe(9,"G"),J(),K(10,"div",2),qe(11,"O"),J()(),oc(12,kye,3,0,"div",3,ic),J()),2&r&&(ce(12),sc(i.rows))},dependencies:[Qh,cg],styles:['.board[_ngcontent-%COMP%]{display:flex;flex-direction:column;--box-size: 3.125vw ;border:solid var(--border-width) var(--board-color);box-shadow:var(--card-box-shadow);margin:.15vw}.board[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}.board[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;text-align:center;align-items:center;justify-content:center;height:var(--box-size);width:var(--box-size);border:solid var(--border-width) var(--board-color)}.board[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{background-color:var(--board-color);text-transform:uppercase;font-size:2vw;color:var(--board-text-color)}.board[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{background-color:var(--white-color);color:var(--board-color);text-transform:uppercase;font-family:Arial,Helvetica,sans-serif;position:relative;font-size:.8vw;line-height:1.5;text-shadow:none}.board[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .number.selected[_ngcontent-%COMP%]{color:transparent;text-overflow:hidden}.board[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .number.selected[_ngcontent-%COMP%]:before, .board[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .number.selected[_ngcontent-%COMP%]:after{--size: 80%;content:"";text-overflow:hidden;position:absolute;border-radius:50%;height:var(--size);width:var(--size)}.board[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .number.selected[_ngcontent-%COMP%]:before{background:var(--marker-color, var(--board-color))}.board[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .number.selected[_ngcontent-%COMP%]:after{background:radial-gradient(#fff0 0% 50%,#fffc)}']})}return n})();function Rye(n,e){if(1&n&&(K(0,"mat-option",18),qe(1),J()),2&n){const t=e.$implicit;Ke("value",t),ce(),Dr(t.gameNumber)}}function Mye(n,e){if(1&n&&(K(0,"mat-option",18),qe(1),J()),2&n){const t=e.$implicit;Ke("value",t),ce(),Dr(t.name)}}function Pye(n,e){if(1&n&&(K(0,"mat-option",18),qe(1),J()),2&n){const t=e.$implicit;Ke("value",t),ce(),Dr(t.name)}}let Fye=(()=>{class n{constructor(t){this.gameService=t,this.games$=this.gameService.games$,this.documentId="",this.session=P8,this.currentGame=null,this.winPatterns$=this.gameService.winPatterns$,this.password="",this.gameNumber=1,this.message="",this.passwordValid=!1,this.gameOptions=wye,this.subscriptions$=[],this.theme={...eI},this.fonts=_b,this.controlPanelId="#controlPanel",this.passwordChanged=new E,this.passwordChanged.pipe(k_(400),yg()).subscribe(r=>this.validatePassword(r))}ngOnInit(){this.subscriptions$.push(this.gameService.documentId$.subscribe(t=>this.documentId=t)),this.subscriptions$.push(this.gameService.winPatterns$.pipe(kr(t=>t?.length>0)).subscribe(t=>{this.gameOptions.winPattern=t.find(r=>r.name===this.gameOptions.winPattern?.name)})),this.subscriptions$.push(this.gameService.currentGame$.subscribe(t=>{this.currentGame=t,t&&(this.gameNumber=t.gameNumber,this.message=t.message,this.gameOptions={...t.options},this.gameOptions.markerColor=t.options.disableMarkerColor?t.options.boardColor:t.options.markerColor,this.gameOptions.winPattern=this.gameService.winPatterns$.value.find(r=>r.name===this.gameOptions.winPattern?.name)??this.gameOptions.winPattern)})),this.subscriptions$.push(this.gameService.theme$.subscribe(t=>{this.theme=t})),this.subscriptions$.push(this.gameService.currentSession$.subscribe(t=>this.session=t??P8))}ngOnDestroy(){this.subscriptions$.map(t=>t.unsubscribe())}newGame(){this.gameService.createGame(this.gameOptions,this.message)}updateGame(){this.currentGame&&(this.currentGame.gameNumber=this.gameNumber,this.currentGame.message=this.message,this.currentGame.options.boardColor=this.gameOptions?.boardColor??this.currentGame.options.boardColor,this.currentGame.options.disableMarkerColor=this.gameOptions.disableMarkerColor,this.currentGame.options.markerColor=this.gameOptions.disableMarkerColor?this.currentGame.options.boardColor:this.gameOptions?.markerColor??this.currentGame.options.boardColor,this.currentGame.options.boardTextColor=this.gameOptions?.boardTextColor??this.currentGame.options.boardTextColor,this.currentGame.options.winPattern=this.gameOptions?.winPattern??this.currentGame.options.winPattern,this.gameService.updateGame(this.currentGame))}updateMarkerColor(){this.gameOptions.disableMarkerColor&&(this.gameOptions.markerColor=this.gameOptions.boardColor),document.documentElement.style.setProperty("--marker-color",this.gameOptions.markerColor)}updateBoardColor(){document.documentElement.style.setProperty("--board-color",this.gameOptions.boardColor),this.updateMarkerColor()}updateBoardTextColor(){document.documentElement.style.setProperty("--board-text-color",this.gameOptions.boardTextColor)}updateBackgroundColor(){document.documentElement.style.setProperty("--primary-color",this.theme.backgroundColor)}updateControlPanelTheme(){this.gameService.updateDocumentStyles(this.theme)}updateWinPattern(t){this.gameOptions.winPattern=t}resetGame(){this.currentGame&&this.gameService.resetGame(this.currentGame)}deleteGame(){this.currentGame&&this.gameService.deleteGame(this.currentGame)}loadGame(t){this.currentGame=t,this.gameService.loadGame(t)}updateTheme(){this.gameService.updateTheme(this.theme)}resetTheme(){this.gameService.updateTheme({...eI})}loadSession(){this.gameService.connectToSession(this.documentId)}newSession(){this.session.password=this.password,this.gameService.createSession(this.session)}updateSession(){this.gameService.updateSession(this.session)}deleteSession(){this.gameService.deleteSession(this.documentId)}validatePassword(t){const r=(0,F8.sha512)(t);this.passwordValid=this.session.password===r}static#e=this.\u0275fac=function(r){return new(r||n)(M(vb))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-control-panel"]],decls:126,vars:43,consts:[["stretch","",1,"column"],["center","",1,"row",3,"balls","editable"],[1,"card"],["label","Session"],["start","",1,"row"],["medium",""],["matInput","",3,"ngModelChange","ngModel"],["matInput","","type","password",3,"ngModelChange","ngModel"],["wide",""],[3,"ngModelChange","ngModel"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"],["label","Game Options"],["top","","no-wrap","","expand","",1,"row"],["top","","expand","",1,"column"],["top","",1,"row"],["small",""],[3,"valueChange","selectionChange","value"],[3,"value"],["matInput","","type","number",3,"ngModelChange","ngModel"],["matInput","","type","color",3,"ngModelChange","ngModel"],["matInput","","type","color",3,"ngModelChange","disabled","ngModel"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"ngModelChange","ngModel"],[3,"valueChange","value"],[1,"footer"],["end","",1,"row"],["center","",1,"column"],[3,"pattern"],["label","Theme"],["start","","top","",1,"row"],["start","","top","",1,"column"]],template:function(r,i){1&r&&(K(0,"div",0),Wt(1,"bng-called-numbers",1),K(2,"div",2)(3,"mat-tab-group")(4,"mat-tab",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),qe(8,"Session Id"),J(),K(9,"input",6),Xr("ngModelChange",function(s){return si(i.documentId,s)||(i.documentId=s),s}),J()(),K(10,"mat-form-field",5)(11,"mat-label"),qe(12,"Password"),J(),K(13,"input",7),Xr("ngModelChange",function(s){return si(i.password,s)||(i.password=s),s}),et("ngModelChange",function(s){return i.passwordChanged.next(s)}),J()(),K(14,"mat-form-field",8)(15,"mat-label"),qe(16,"Title"),J(),K(17,"input",6),Xr("ngModelChange",function(s){return si(i.session.title,s)||(i.session.title=s),s}),J()(),K(18,"mat-checkbox",9),Xr("ngModelChange",function(s){return si(i.session.active,s)||(i.session.active=s),s}),qe(19,"Active"),J()(),K(20,"div",4)(21,"button",10),et("click",function(){return i.loadSession()}),qe(22,"Load Session"),J(),K(23,"button",11),et("click",function(){return i.updateSession()}),qe(24,"Save Session"),J(),K(25,"button",11),et("click",function(){return i.newSession()}),qe(26,"New Session"),J(),K(27,"button",11),et("click",function(){return i.deleteSession()}),qe(28,"Delete Session"),J()()(),K(29,"mat-tab",12)(30,"div",13)(31,"div",14)(32,"div",15)(33,"mat-form-field",16)(34,"mat-label"),qe(35,"Load Game"),J(),K(36,"mat-select",17),Xr("valueChange",function(s){return si(i.currentGame,s)||(i.currentGame=s),s}),et("selectionChange",function(s){return i.loadGame(s.value)}),oc(37,Rye,2,2,"mat-option",18,ic),zi(39,"async"),J()(),K(40,"mat-form-field",16)(41,"mat-label"),qe(42,"Game Number"),J(),K(43,"input",19),Xr("ngModelChange",function(s){return si(i.gameNumber,s)||(i.gameNumber=s),s}),J()(),K(44,"mat-form-field",16)(45,"mat-label"),qe(46,"Board Color"),J(),K(47,"input",20),Xr("ngModelChange",function(s){return si(i.gameOptions.boardColor,s)||(i.gameOptions.boardColor=s),s}),et("ngModelChange",function(){return i.updateBoardColor()}),J(),K(48,"span"),qe(49),J()(),K(50,"mat-form-field")(51,"mat-label"),qe(52,"Marker Color"),J(),K(53,"input",21),Xr("ngModelChange",function(s){return si(i.gameOptions.markerColor,s)||(i.gameOptions.markerColor=s),s}),et("ngModelChange",function(){return i.updateMarkerColor()}),J(),K(54,"span"),qe(55),J(),K(56,"mat-slide-toggle",9),Xr("ngModelChange",function(s){return si(i.gameOptions.disableMarkerColor,s)||(i.gameOptions.disableMarkerColor=s),s}),et("ngModelChange",function(){return i.updateMarkerColor()}),qe(57,"Use Board Color"),J()(),K(58,"mat-form-field",16)(59,"mat-label"),qe(60,"Board Text Color"),J(),K(61,"input",20),Xr("ngModelChange",function(s){return si(i.gameOptions.boardTextColor,s)||(i.gameOptions.boardTextColor=s),s}),et("ngModelChange",function(){return i.updateBoardTextColor()}),J(),K(62,"span"),qe(63),J()(),K(64,"mat-form-field",8)(65,"mat-label"),qe(66,"Message"),J(),K(67,"textarea",22),Xr("ngModelChange",function(s){return si(i.message,s)||(i.message=s),s}),J()(),K(68,"mat-form-field")(69,"mat-label"),qe(70,"Win Pattern"),J(),K(71,"mat-select",23),Xr("valueChange",function(s){return si(i.gameOptions.winPattern,s)||(i.gameOptions.winPattern=s),s}),oc(72,Mye,2,2,"mat-option",18,ic),zi(74,"async"),J()()(),K(75,"div",24)(76,"div",4)(77,"button",11),et("click",function(){return i.newGame()}),qe(78,"New Game"),J(),K(79,"button",11),et("click",function(){return i.updateGame()}),qe(80,"Update Game"),J()(),K(81,"div",25)(82,"button",11),et("click",function(){return i.resetGame()}),qe(83,"Reset Game"),J(),K(84,"button",11),et("click",function(){return i.deleteGame()}),qe(85,"Delete Game"),J()()()(),K(86,"div",26),Wt(87,"bng-win-patterns",27),J()()(),K(88,"mat-tab",28)(89,"div",29)(90,"mat-form-field")(91,"mat-label"),qe(92,"Background Color"),J(),K(93,"input",20),Xr("ngModelChange",function(s){return si(i.theme.backgroundColor,s)||(i.theme.backgroundColor=s),s}),et("ngModelChange",function(){return i.updateBackgroundColor()}),J(),K(94,"span"),qe(95),J()(),K(96,"mat-form-field")(97,"mat-label"),qe(98,"Card Color"),J(),K(99,"input",20),Xr("ngModelChange",function(s){return si(i.theme.cardColor,s)||(i.theme.cardColor=s),s}),et("ngModelChange",function(){return i.updateControlPanelTheme()}),J(),K(100,"span"),qe(101),J()(),K(102,"mat-form-field")(103,"mat-label"),qe(104,"Text Color"),J(),K(105,"input",20),Xr("ngModelChange",function(s){return si(i.theme.textColor,s)||(i.theme.textColor=s),s}),et("ngModelChange",function(){return i.updateControlPanelTheme()}),J(),K(106,"span"),qe(107),J()(),K(108,"mat-form-field")(109,"mat-label"),qe(110,"Font"),J(),K(111,"mat-select",17),Xr("valueChange",function(s){return si(i.theme.font,s)||(i.theme.font=s),s}),et("selectionChange",function(){return i.updateControlPanelTheme()}),oc(112,Pye,2,2,"mat-option",18,ic),J()(),K(114,"div",30)(115,"mat-slide-toggle",9),Xr("ngModelChange",function(s){return si(i.theme.uppercase,s)||(i.theme.uppercase=s),s}),et("ngModelChange",function(){return i.updateControlPanelTheme()}),qe(116,"Uppercase"),J(),K(117,"mat-slide-toggle",9),Xr("ngModelChange",function(s){return si(i.theme.bold,s)||(i.theme.bold=s),s}),et("ngModelChange",function(){return i.updateControlPanelTheme()}),qe(118,"Bold"),J(),K(119,"mat-slide-toggle",9),Xr("ngModelChange",function(s){return si(i.theme.textShadow,s)||(i.theme.textShadow=s),s}),et("ngModelChange",function(){return i.updateControlPanelTheme()}),qe(120,"Text Shadow"),J()()(),K(121,"div",4)(122,"button",11),et("click",function(){return i.updateTheme()}),qe(123,"Update Theme"),J(),K(124,"button",11),et("click",function(){return i.resetTheme()}),qe(125,"Reset Theme"),J()()()()()()),2&r&&(Fn("id",i.controlPanelId),ce(),Ke("balls",null==i.currentGame?null:i.currentGame.balls)("editable",i.passwordValid),ce(8),Yr("ngModel",i.documentId),ce(4),Yr("ngModel",i.password),ce(4),Yr("ngModel",i.session.title),ce(),Yr("ngModel",i.session.active),ce(5),Ke("disabled",!i.passwordValid),ce(2),Ke("disabled",!i.password),ce(2),Ke("disabled",!i.passwordValid),ce(9),Yr("value",i.currentGame),ce(),sc(ji(39,39,i.games$)),ce(6),Yr("ngModel",i.gameNumber),ce(4),Yr("ngModel",i.gameOptions.boardColor),ce(2),Dr(i.gameOptions.boardColor),ce(4),Ke("disabled",i.gameOptions.disableMarkerColor),Yr("ngModel",i.gameOptions.markerColor),ce(2),Dr(i.gameOptions.markerColor),ce(),Yr("ngModel",i.gameOptions.disableMarkerColor),ce(5),Yr("ngModel",i.gameOptions.boardTextColor),ce(2),Dr(i.gameOptions.boardTextColor),ce(4),Yr("ngModel",i.message),ce(4),Yr("value",i.gameOptions.winPattern),ce(),sc(ji(74,41,i.winPatterns$)),ce(5),Ke("disabled",!i.passwordValid),ce(2),Ke("disabled",!i.passwordValid),ce(3),Ke("disabled",!i.passwordValid),ce(2),Ke("disabled",!i.passwordValid),ce(3),Ke("pattern",i.gameOptions.winPattern),ce(6),Yr("ngModel",i.theme.backgroundColor),ce(2),Dr(i.theme.backgroundColor),ce(4),Yr("ngModel",i.theme.cardColor),ce(2),Dr(i.theme.cardColor),ce(4),Yr("ngModel",i.theme.textColor),ce(2),Dr(i.theme.textColor),ce(4),Yr("value",i.theme.font),ce(),sc(i.fonts),ce(3),Yr("ngModel",i.theme.uppercase),ce(2),Yr("ngModel",i.theme.bold),ce(2),Yr("ngModel",i.theme.textShadow),ce(3),Ke("disabled",!i.passwordValid),ce(2),Ke("disabled",!i.passwordValid))},dependencies:[qw,Wk,I3,qk,lhe,uR,mme,XH,mE,lme,MR,q6,cR,Q6,oge,N8,O8,lg],styles:[".footer[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:auto 1fr auto;gap:var(--gap-size)}"]})}return n})();const Nye=n=>({large:n});let L8=(()=>{class n{constructor(){this.ball=null,this.largeSize=!1}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-ball-display"]],inputs:{ball:"ball",largeSize:"largeSize"},decls:6,vars:6,consts:[[1,"ball",3,"ngClass"],[1,"ball-inner"],[1,"ball-letter"],[1,"ball-number"]],template:function(r,i){if(1&r&&(K(0,"div",0)(1,"div",1)(2,"div",2),qe(3),J(),K(4,"div",3),qe(5),J()()()),2&r){let o;Ke("ngClass",Sy(4,Nye,i.largeSize)),Fn("ball-letter",null!==(o=null==i.ball?null:i.ball.letter)&&void 0!==o?o:"none"),ce(3),Dr(null==i.ball?null:i.ball.letter),ce(2),Dr(null==i.ball?null:i.ball.number)}},dependencies:[Qh],styles:['.ball[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;--size: calc(100vw / 12);border-radius:50%;background-color:var(--ball-color);position:relative;height:var(--size);width:var(--size);color:#000;display:flex;align-items:center;justify-content:center;box-shadow:.125rem .125rem .5rem .125rem #0003;text-shadow:none}.ball.large[_ngcontent-%COMP%]{--size: 10vw }.ball[_ngcontent-%COMP%]:before{--position: 30%;content:"";position:absolute;inset:0;background:radial-gradient(farthest-corner at var(--position) var(--position),rgba(255,255,255,.6) 0%,rgba(255,255,255,0) 25%,rgba(255,255,255,0) 50%,rgba(0,0,0,.5) 70%);border-radius:50%}.ball[ball-letter=none][_ngcontent-%COMP%]{--ball-color: var(--n-ball-color);--inner-border-color: rgb(0 0 0 / 0);--outer-border-color: rgb(0 0 0 / 0)}.ball[ball-letter=B][_ngcontent-%COMP%]{--ball-color: var(--b-ball-color);--inner-border-color: var(--ball-color);--outer-border-color: var(--white-color)}.ball[ball-letter=I][_ngcontent-%COMP%]{--ball-color: var(--i-ball-color);--inner-border-color: var(--ball-color);--outer-border-color: var(--white-color)}.ball[ball-letter=N][_ngcontent-%COMP%]{--ball-color: var(--n-ball-color);--inner-border-color: red;--outer-border-color: rgb(0 0 0 / 0)}.ball[ball-letter=G][_ngcontent-%COMP%]{--ball-color: var(--g-ball-color);--inner-border-color: var(--ball-color);--outer-border-color: var(--white-color)}.ball[ball-letter=O][_ngcontent-%COMP%]{--ball-color: var(--o-ball-color);--inner-border-color: var(--ball-color);--outer-border-color: var(--white-color)}.ball[_ngcontent-%COMP%]   .ball-inner[_ngcontent-%COMP%]{--ball-size: 66%;--border-size: .25vw;color:var(--black-color);background:var(--white-color);border-radius:50%;height:var(--ball-size);width:var(--ball-size);display:flex;flex-direction:column;gap:0;align-items:center;justify-content:center;outline:solid var(--border-size) var(--outer-border-color);border:solid var(--border-size) var(--inner-border-color)}.ball[_ngcontent-%COMP%]   .ball-inner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:-.05rem;font-weight:700}.ball[_ngcontent-%COMP%]   .ball-inner[_ngcontent-%COMP%]   .ball-letter[_ngcontent-%COMP%]{font-size:1.25vw;font-size:calc(var(--size) * .2)}.ball[_ngcontent-%COMP%]   .ball-inner[_ngcontent-%COMP%]   .ball-number[_ngcontent-%COMP%]{font-size:2vw;font-size:calc(var(--size) * .3)}']})}return n})(),Oye=(()=>{class n{constructor(){this.call=null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-current-call"]],inputs:{call:"call"},decls:4,vars:2,consts:[[1,"card","column"],[3,"ball","largeSize"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div"),qe(2,"Current Call"),J(),Wt(3,"bng-ball-display",1),J()),2&r&&(ce(3),Ke("ball",i.call)("largeSize",!0))},dependencies:[L8]})}return n})(),Lye=(()=>{class n{constructor(){this.game=null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-total-calls"]],inputs:{game:"game"},decls:5,vars:1,consts:[[1,"card","column"],[1,"large"]],template:function(r,i){if(1&r&&(K(0,"div",0)(1,"div",1),qe(2),J(),K(3,"div"),qe(4,"Total Calls"),J()()),2&r){let o;ce(2),Dr(null!==(o=null==i.game||null==i.game.calls?null:i.game.calls.length)&&void 0!==o?o:0)}},styles:[".large[_ngcontent-%COMP%]{font-size:7vw;line-height:5vw}"]})}return n})();function Vye(n,e){if(1&n&&(Ey(0),Wt(1,"bng-ball-display",3),Iy()),2&n){const t=e.$implicit;ce(),Ke("ball",t)}}let Bye=(()=>{class n{constructor(t){this.gameService=t}static#e=this.\u0275fac=function(r){return new(r||n)(M(vb))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-previous-calls"]],decls:6,vars:3,consts:[["no-wrap","",1,"card","column"],[1,"ball-row"],[4,"ngFor","ngForOf"],[3,"ball"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div"),qe(2,"Previous 5 Calls"),J(),K(3,"div",1),dn(4,Vye,2,1,"ng-container",2),zi(5,"async"),J()()),2&r&&(ce(4),Ke("ngForOf",ji(5,1,i.gameService.previousCalls$)))},dependencies:[DT,L8,lg],styles:[".ball-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem;height:100%}"]})}return n})();function Uye(n,e){if(1&n){const t=xo();K(0,"button",4),et("click",function(){return cn(t),ln(sn().leaveSession.emit())}),K(1,"mat-icon"),qe(2,"exit_to_app"),J()()}}let zye=(()=>{class n{constructor(){this.session=null,this.game=null,this.showLeaveSession=!1,this.leaveSession=new gt}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-game-info"]],inputs:{session:"session",game:"game",showLeaveSession:"showLeaveSession"},outputs:{leaveSession:"leaveSession"},decls:9,vars:4,consts:[["start","",1,"card","column"],["expand","",1,"row"],[1,"row"],["aria-label","Leave Session","alt","Leave Session","title","Leave Session",3,"click",4,"ngIf"],["aria-label","Leave Session","alt","Leave Session","title","Leave Session",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div",1)(2,"div"),qe(3),J(),K(4,"div",2),qe(5),dn(6,Uye,3,0,"button",3),J()(),K(7,"div",1),qe(8),J()()),2&r&&(ce(3),Dr(null==i.session?null:i.session.title),ce(2),$h("Game: ",null==i.game?null:i.game.gameNumber," "),ce(),Ke("ngIf",i.showLeaveSession),ce(2),Dr(null==i.game?null:i.game.message))},dependencies:[cg,I6],styles:[".message[_ngcontent-%COMP%]{text-transform:none;font-family:Arial,Helvetica,sans-serif}"]})}return n})();function jye(n,e){if(1&n&&(K(0,"mat-option",4),qe(1),J()),2&n){const t=e.$implicit;Ke("value",t.id),ce(),Dr(t.session.title)}}function $ye(n,e){if(1&n){const t=xo();K(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),qe(3,"Join a Session"),J(),K(4,"mat-select",3),et("selectionChange",function(i){return cn(t),ln(sn().loadSession(i.value))}),oc(5,jye,2,2,"mat-option",4,ic),zi(7,"async"),J()()()}if(2&n){const t=sn();ce(5),sc(ji(7,0,t.gameService.activeSessions$))}}function Hye(n,e){if(1&n){const t=xo();K(0,"div",1),Wt(1,"bng-called-numbers",5),zi(2,"async"),K(3,"div",6)(4,"div",7),Wt(5,"bng-total-calls",8),zi(6,"async"),J(),Wt(7,"bng-current-call",9),zi(8,"async"),K(9,"bng-game-info",10),zi(10,"async"),zi(11,"async"),zi(12,"async"),et("leaveSession",function(){return cn(t),ln(sn().leaveSession())}),J(),Wt(13,"bng-previous-calls",11),K(14,"div",12),Wt(15,"bng-win-patterns",13),zi(16,"async"),K(17,"div"),qe(18),zi(19,"async"),J()()()()}if(2&n){let t,r,i,o;const s=sn();ce(),Ke("balls",null==(t=ji(2,8,s.gameService.currentGame$))?null:t.balls),ce(4),Ke("game",ji(6,10,s.gameService.currentGame$)),ce(2),Ke("call",ji(8,12,s.gameService.lastCall$)),ce(2),Ke("session",ji(10,14,s.gameService.currentSession$))("game",ji(11,16,s.gameService.currentGame$))("showLeaveSession",(null!==(r=null==(r=ji(12,18,s.gameService.activeSessions$))?null:r.length)&&void 0!==r?r:0)>1),ce(6),Ke("pattern",null==(i=ji(16,20,s.gameService.currentGame$))||null==i.options?null:i.options.winPattern),ce(3),Dr(null==(o=ji(19,22,s.gameService.currentGame$))||null==o.options||null==o.options.winPattern?null:o.options.winPattern.name)}}const qye=[{path:"dashboard",component:(()=>{class n{constructor(t,r){this.gameService=t,this._route=r,this.sessions=[],this.subscription$=[]}ngOnInit(){this.gameService.activeSessions$.subscribe(t=>{1===t.length&&this.gameService.connectToSession(t[0].id)})}ngOnDestroy(){this.subscription$.map(t=>t.unsubscribe())}loadSession(t){this.gameService.connectToSession(t)}leaveSession(){this.gameService.connectToSession("")}static#e=this.\u0275fac=function(r){return new(r||n)(M(vb),M(wu))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-dashboard"]],decls:4,vars:6,consts:[["class","container",4,"ngIf"],[1,"container"],["wide",""],[3,"selectionChange"],[3,"value"],[3,"balls"],[1,"footer"],[1,"total-calls"],[3,"game"],[1,"current-call",3,"call"],[1,"game-info",3,"leaveSession","session","game","showLeaveSession"],[1,"previous-calls"],[1,"card","column","win-patterns"],[3,"pattern"]],template:function(r,i){1&r&&(dn(0,$ye,8,2,"div",0),zi(1,"async"),dn(2,Hye,20,24,"div",0),zi(3,"async")),2&r&&(Ke("ngIf",!ji(1,2,i.gameService.documentId$)),ce(2),Ke("ngIf",ji(3,4,i.gameService.documentId$)))},dependencies:[cg,XH,mE,q6,cR,N8,O8,Oye,Lye,Bye,zye,lg],styles:['.container[_ngcontent-%COMP%]{min-height:calc(100vh - var(--gap-size) * 2);display:flex;flex-direction:column;gap:var(--gap-size)}.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{font-weight:var(--font-weight, normal);display:grid;gap:var(--gap-size);align-items:start;grid-template-columns:auto 1fr max-content;grid-template-rows:auto 1fr;grid-template-areas:"current-call previous-calls win-patterns" "total-calls game-info win-patterns"}.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .total-calls[_ngcontent-%COMP%]{text-transform:var(--text-transform, none);grid-area:total-calls}.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{grid-area:game-info}.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .win-patterns[_ngcontent-%COMP%]{text-transform:var(--text-transform, none);grid-area:win-patterns}.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .current-call[_ngcontent-%COMP%]{text-transform:var(--text-transform, none);grid-area:current-call}.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .previous-calls[_ngcontent-%COMP%]{text-transform:var(--text-transform, none);grid-area:previous-calls}']})}return n})()},{path:"control-panel",component:Fye},{path:"home",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-home"]],decls:9,vars:0,consts:[["start","",1,"row"],["mat-flat-button","","color","primary","routerLink","/control-panel","target","_blank"],["aria-hidden","false","aria-label","Control Panel","fontIcon","settings"],["mat-flat-button","","color","primary","routerLink","/dashboard","target","_blank"],["aria-hidden","false","aria-label","Dashboard","fontIcon","dashboard"]],template:function(r,i){1&r&&(K(0,"h1"),qe(1,"St. Theodore's Bingo Night"),J(),K(2,"div",0)(3,"a",1),Wt(4,"mat-icon",2),qe(5," Control Panel"),J(),K(6,"a",3),Wt(7,"mat-icon",4),qe(8," Dashboard"),J()())},dependencies:[JE,dhe,I6]})}return n})()},{path:"",redirectTo:"/dashboard",pathMatch:"full"}];let Wye=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n});static#n=this.\u0275inj=Qt({imports:[R8.forRoot(qye),R8]})}return n})(),Gye=(()=>{class n{constructor(t){this.themeService=t}static#e=this.\u0275fac=function(r){return new(r||n)(M(vb))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["bng-root"]],decls:3,vars:0,consts:[["center","",1,"column"],[1,"container"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div",1),Wt(2,"router-outlet"),J()())},dependencies:[IM],styles:[".container[_ngcontent-%COMP%]{width:calc(100vw - var(--box-size) * 2)}"]})}return n})(),Kye=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=en({type:n,bootstrap:[Gye]});static#n=this.\u0275inj=Qt({providers:[{provide:ul,useClass:PV},X_e()],imports:[Wye,Ste.initializeApp(Z_e_firebaseConfig),Fae,Xte,Ile,Y_e,v2,Ode,hhe,Ehe,Jfe,pme,gE,Cpe,gpe,age,hte(()=>fte({projectId:"bingo-3e990",appId:"1:683623056065:web:726265d0df07f90ebf8a40",storageBucket:"bingo-3e990.appspot.com",apiKey:"AIzaSyCLzYr8vPDi9wgzmQQ7bh6IIu-WgRhPGO8",authDomain:"bingo-3e990.firebaseapp.com",messagingSenderId:"683623056065",measurementId:"G-Z6Q8TETBRR"})),yte(()=>wte()),kle(()=>Rle())]})}return n})();jee().bootstrapModule(Kye).catch(n=>console.error(n))},595:(Fi,Pr,rt)=>{var y;!function(){"use strict";var xe="input is invalid type",je="object"==typeof window,rn=je?window:{};rn.JS_SHA512_NO_WINDOW&&(je=!1);var Sn=!je&&"object"==typeof self;!rn.JS_SHA512_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?rn=global:Sn&&(rn=self);var Ln=!rn.JS_SHA512_NO_COMMON_JS&&Fi.exports,kn=rt.amdO,ae=!rn.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",R="0123456789abcdef".split(""),Ge=[-2147483648,8388608,32768,128],it=[24,16,8,0],Ft=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Xn=["hex","array","digest","arrayBuffer"],Le=[],xt=Array.isArray;(rn.JS_SHA512_NO_NODE_JS||!xt)&&(xt=function(k){return"[object Array]"===Object.prototype.toString.call(k)});var _t=ArrayBuffer.isView;ae&&(rn.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!_t)&&(_t=function(k){return"object"==typeof k&&k.buffer&&k.buffer.constructor===ArrayBuffer});var fr=function(k){var ve=typeof k;if("string"===ve)return[k,!0];if("object"!==ve||null===k)throw new Error(xe);if(ae&&k.constructor===ArrayBuffer)return[new Uint8Array(k),!1];if(!xt(k)&&!_t(k))throw new Error(xe);return[k,!1]},$n=function(k,ve){return function(Ce){return new at(ve,!0).update(Ce)[k]()}},Nt=function(k){var ve=$n("hex",k);ve.create=function(){return new at(k)},ve.update=function(pt){return ve.create().update(pt)};for(var Ce=0;Ce<Xn.length;++Ce){var Oe=Xn[Ce];ve[Oe]=$n(Oe,k)}return ve},gn=function(k,ve){return function(Ce,Oe){return new ct(Ce,ve,!0).update(Oe)[k]()}},Er=function(k){var ve=gn("hex",k);ve.create=function(pt){return new ct(pt,k)},ve.update=function(pt,ke){return ve.create(pt).update(ke)};for(var Ce=0;Ce<Xn.length;++Ce){var Oe=Xn[Ce];ve[Oe]=gn(Oe,k)}return ve};function at(k,ve){ve?(Le[0]=Le[1]=Le[2]=Le[3]=Le[4]=Le[5]=Le[6]=Le[7]=Le[8]=Le[9]=Le[10]=Le[11]=Le[12]=Le[13]=Le[14]=Le[15]=Le[16]=Le[17]=Le[18]=Le[19]=Le[20]=Le[21]=Le[22]=Le[23]=Le[24]=Le[25]=Le[26]=Le[27]=Le[28]=Le[29]=Le[30]=Le[31]=Le[32]=0,this.blocks=Le):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384==k?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):256==k?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):224==k?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=k,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}function ct(k,ve,Ce){var pt=fr(k);if(k=pt[0],pt[1]){for(var bt,ke=[],Lt=k.length,Ie=0,Oe=0;Oe<Lt;++Oe)(bt=k.charCodeAt(Oe))<128?ke[Ie++]=bt:bt<2048?(ke[Ie++]=192|bt>>>6,ke[Ie++]=128|63&bt):bt<55296||bt>=57344?(ke[Ie++]=224|bt>>>12,ke[Ie++]=128|bt>>>6&63,ke[Ie++]=128|63&bt):(bt=65536+((1023&bt)<<10|1023&k.charCodeAt(++Oe)),ke[Ie++]=240|bt>>>18,ke[Ie++]=128|bt>>>12&63,ke[Ie++]=128|bt>>>6&63,ke[Ie++]=128|63&bt);k=ke}k.length>128&&(k=new at(ve,!0).update(k).array());var U=[],H=[];for(Oe=0;Oe<128;++Oe){var G=k[Oe]||0;U[Oe]=92^G,H[Oe]=54^G}at.call(this,ve,Ce),this.update(H),this.oKeyPad=U,this.inner=!0,this.sharedMemory=Ce}at.prototype.update=function(k){if(this.finalized)throw new Error("finalize already called");for(var Oe,ke,ve=fr(k),Ce=ve[1],pt=0,Lt=(k=ve[0]).length,Ie=this.blocks;pt<Lt;){if(this.hashed&&(this.hashed=!1,Ie[0]=this.block,this.block=Ie[1]=Ie[2]=Ie[3]=Ie[4]=Ie[5]=Ie[6]=Ie[7]=Ie[8]=Ie[9]=Ie[10]=Ie[11]=Ie[12]=Ie[13]=Ie[14]=Ie[15]=Ie[16]=Ie[17]=Ie[18]=Ie[19]=Ie[20]=Ie[21]=Ie[22]=Ie[23]=Ie[24]=Ie[25]=Ie[26]=Ie[27]=Ie[28]=Ie[29]=Ie[30]=Ie[31]=Ie[32]=0),Ce)for(ke=this.start;pt<Lt&&ke<128;++pt)(Oe=k.charCodeAt(pt))<128?Ie[ke>>>2]|=Oe<<it[3&ke++]:Oe<2048?(Ie[ke>>>2]|=(192|Oe>>>6)<<it[3&ke++],Ie[ke>>>2]|=(128|63&Oe)<<it[3&ke++]):Oe<55296||Oe>=57344?(Ie[ke>>>2]|=(224|Oe>>>12)<<it[3&ke++],Ie[ke>>>2]|=(128|Oe>>>6&63)<<it[3&ke++],Ie[ke>>>2]|=(128|63&Oe)<<it[3&ke++]):(Oe=65536+((1023&Oe)<<10|1023&k.charCodeAt(++pt)),Ie[ke>>>2]|=(240|Oe>>>18)<<it[3&ke++],Ie[ke>>>2]|=(128|Oe>>>12&63)<<it[3&ke++],Ie[ke>>>2]|=(128|Oe>>>6&63)<<it[3&ke++],Ie[ke>>>2]|=(128|63&Oe)<<it[3&ke++]);else for(ke=this.start;pt<Lt&&ke<128;++pt)Ie[ke>>>2]|=k[pt]<<it[3&ke++];this.lastByteIndex=ke,this.bytes+=ke-this.start,ke>=128?(this.block=Ie[32],this.start=ke-128,this.hash(),this.hashed=!0):this.start=ke}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this},at.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var k=this.blocks,ve=this.lastByteIndex;k[32]=this.block,k[ve>>>2]|=Ge[3&ve],this.block=k[32],ve>=112&&(this.hashed||this.hash(),k[0]=this.block,k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=k[10]=k[11]=k[12]=k[13]=k[14]=k[15]=k[16]=k[17]=k[18]=k[19]=k[20]=k[21]=k[22]=k[23]=k[24]=k[25]=k[26]=k[27]=k[28]=k[29]=k[30]=k[31]=k[32]=0),k[30]=this.hBytes<<3|this.bytes>>>29,k[31]=this.bytes<<3,this.hash()}},at.prototype.hash=function(){var Be,Re,ft,Ht,Pe,pe,he,fe,zr,fo,Ni,Cn,jr,mo,Fr,Qi,Rn,Hn,Ue,$e,kt,Ut,rr,ir,k=this.h0h,ve=this.h0l,Ce=this.h1h,Oe=this.h1l,pt=this.h2h,ke=this.h2l,Lt=this.h3h,Ie=this.h3l,bt=this.h4h,U=this.h4l,H=this.h5h,G=this.h5l,Q=this.h6h,te=this.h6l,Z=this.h7h,Se=this.h7l,We=this.blocks;for(Be=32;Be<160;Be+=2)Re=((Ue=We[Be-30])>>>1|($e=We[Be-29])<<31)^(Ue>>>8|$e<<24)^Ue>>>7,ft=($e>>>1|Ue<<31)^($e>>>8|Ue<<24)^($e>>>7|Ue<<25),Ht=((Ue=We[Be-4])>>>19|($e=We[Be-3])<<13)^($e>>>29|Ue<<3)^Ue>>>6,Pe=($e>>>19|Ue<<13)^(Ue>>>29|$e<<3)^($e>>>6|Ue<<26),We[Be]=((kt=We[Be-14])>>>16)+((Ue=We[Be-32])>>>16)+(Re>>>16)+(Ht>>>16)+((fe=(65535&kt)+(65535&Ue)+(65535&Re)+(65535&Ht)+((he=((Ut=We[Be-13])>>>16)+(($e=We[Be-31])>>>16)+(ft>>>16)+(Pe>>>16)+((pe=(65535&Ut)+(65535&$e)+(65535&ft)+(65535&Pe))>>>16))>>>16))>>>16)<<16|65535&fe,We[Be+1]=he<<16|65535&pe;var Vn=k,or=ve,vt=Ce,Mn=Oe,on=pt,qn=ke,_n=Lt,bn=Ie,fn=bt,sr=U,Zn=H,ot=G,Wn=Q,Jn=te,S=Z,D=Se;for(Fr=vt&on,Qi=Mn&qn,Be=0;Be<160;Be+=8)Ue=((kt=Ft[Be])>>>16)+((Ue=We[Be])>>>16)+((rr=fn&Zn^~fn&Wn)>>>16)+((Ht=(fn>>>14|sr<<18)^(fn>>>18|sr<<14)^(sr>>>9|fn<<23))>>>16)+(S>>>16)+((fe=(65535&kt)+(65535&Ue)+(65535&rr)+(65535&Ht)+(65535&S)+((he=((Ut=Ft[Be+1])>>>16)+(($e=We[Be+1])>>>16)+((ir=sr&ot^~sr&Jn)>>>16)+((Pe=(sr>>>14|fn<<18)^(sr>>>18|fn<<14)^(fn>>>9|sr<<23))>>>16)+(D>>>16)+((pe=(65535&Ut)+(65535&$e)+(65535&ir)+(65535&Pe)+(65535&D))>>>16))>>>16))>>>16)<<16|65535&fe,$e=he<<16|65535&pe,kt=((Rn=(zr=Vn&vt)^Vn&on^Fr)>>>16)+((Re=(Vn>>>28|or<<4)^(or>>>2|Vn<<30)^(or>>>7|Vn<<25))>>>16)+((fe=(65535&Rn)+(65535&Re)+((he=((Hn=(fo=or&Mn)^or&qn^Qi)>>>16)+((ft=(or>>>28|Vn<<4)^(Vn>>>2|or<<30)^(Vn>>>7|or<<25))>>>16)+((pe=(65535&Hn)+(65535&ft))>>>16))>>>16))>>>16)<<16|65535&fe,Ut=he<<16|65535&pe,S=(_n>>>16)+(Ue>>>16)+((fe=(65535&_n)+(65535&Ue)+((he=(bn>>>16)+($e>>>16)+((pe=(65535&bn)+(65535&$e))>>>16))>>>16))>>>16)<<16|65535&fe,D=he<<16|65535&pe,_n=(kt>>>16)+(Ue>>>16)+((fe=(65535&kt)+(65535&Ue)+((he=(Ut>>>16)+($e>>>16)+((pe=(65535&Ut)+(65535&$e))>>>16))>>>16))>>>16)<<16|65535&fe,bn=he<<16|65535&pe,Ue=((kt=Ft[Be+2])>>>16)+((Ue=We[Be+2])>>>16)+((rr=S&fn^~S&Zn)>>>16)+((Ht=(S>>>14|D<<18)^(S>>>18|D<<14)^(D>>>9|S<<23))>>>16)+(Wn>>>16)+((fe=(65535&kt)+(65535&Ue)+(65535&rr)+(65535&Ht)+(65535&Wn)+((he=((Ut=Ft[Be+3])>>>16)+(($e=We[Be+3])>>>16)+((ir=D&sr^~D&ot)>>>16)+((Pe=(D>>>14|S<<18)^(D>>>18|S<<14)^(S>>>9|D<<23))>>>16)+(Jn>>>16)+((pe=(65535&Ut)+(65535&$e)+(65535&ir)+(65535&Pe)+(65535&Jn))>>>16))>>>16))>>>16)<<16|65535&fe,$e=he<<16|65535&pe,kt=((Rn=(Ni=_n&Vn)^_n&vt^zr)>>>16)+((Re=(_n>>>28|bn<<4)^(bn>>>2|_n<<30)^(bn>>>7|_n<<25))>>>16)+((fe=(65535&Rn)+(65535&Re)+((he=((Hn=(Cn=bn&or)^bn&Mn^fo)>>>16)+((ft=(bn>>>28|_n<<4)^(_n>>>2|bn<<30)^(_n>>>7|bn<<25))>>>16)+((pe=(65535&Hn)+(65535&ft))>>>16))>>>16))>>>16)<<16|65535&fe,Ut=he<<16|65535&pe,Wn=(on>>>16)+(Ue>>>16)+((fe=(65535&on)+(65535&Ue)+((he=(qn>>>16)+($e>>>16)+((pe=(65535&qn)+(65535&$e))>>>16))>>>16))>>>16)<<16|65535&fe,Jn=he<<16|65535&pe,on=(kt>>>16)+(Ue>>>16)+((fe=(65535&kt)+(65535&Ue)+((he=(Ut>>>16)+($e>>>16)+((pe=(65535&Ut)+(65535&$e))>>>16))>>>16))>>>16)<<16|65535&fe,qn=he<<16|65535&pe,Ue=((kt=Ft[Be+4])>>>16)+((Ue=We[Be+4])>>>16)+((rr=Wn&S^~Wn&fn)>>>16)+((Ht=(Wn>>>14|Jn<<18)^(Wn>>>18|Jn<<14)^(Jn>>>9|Wn<<23))>>>16)+(Zn>>>16)+((fe=(65535&kt)+(65535&Ue)+(65535&rr)+(65535&Ht)+(65535&Zn)+((he=((Ut=Ft[Be+5])>>>16)+(($e=We[Be+5])>>>16)+((ir=Jn&D^~Jn&sr)>>>16)+((Pe=(Jn>>>14|Wn<<18)^(Jn>>>18|Wn<<14)^(Wn>>>9|Jn<<23))>>>16)+(ot>>>16)+((pe=(65535&Ut)+(65535&$e)+(65535&ir)+(65535&Pe)+(65535&ot))>>>16))>>>16))>>>16)<<16|65535&fe,$e=he<<16|65535&pe,kt=((Rn=(jr=on&_n)^on&Vn^Ni)>>>16)+((Re=(on>>>28|qn<<4)^(qn>>>2|on<<30)^(qn>>>7|on<<25))>>>16)+((fe=(65535&Rn)+(65535&Re)+((he=((Hn=(mo=qn&bn)^qn&or^Cn)>>>16)+((ft=(qn>>>28|on<<4)^(on>>>2|qn<<30)^(on>>>7|qn<<25))>>>16)+((pe=(65535&Hn)+(65535&ft))>>>16))>>>16))>>>16)<<16|65535&fe,Ut=he<<16|65535&pe,Zn=(vt>>>16)+(Ue>>>16)+((fe=(65535&vt)+(65535&Ue)+((he=(Mn>>>16)+($e>>>16)+((pe=(65535&Mn)+(65535&$e))>>>16))>>>16))>>>16)<<16|65535&fe,ot=he<<16|65535&pe,vt=(kt>>>16)+(Ue>>>16)+((fe=(65535&kt)+(65535&Ue)+((he=(Ut>>>16)+($e>>>16)+((pe=(65535&Ut)+(65535&$e))>>>16))>>>16))>>>16)<<16|65535&fe,Mn=he<<16|65535&pe,Ue=((kt=Ft[Be+6])>>>16)+((Ue=We[Be+6])>>>16)+((rr=Zn&Wn^~Zn&S)>>>16)+((Ht=(Zn>>>14|ot<<18)^(Zn>>>18|ot<<14)^(ot>>>9|Zn<<23))>>>16)+(fn>>>16)+((fe=(65535&kt)+(65535&Ue)+(65535&rr)+(65535&Ht)+(65535&fn)+((he=((Ut=Ft[Be+7])>>>16)+(($e=We[Be+7])>>>16)+((ir=ot&Jn^~ot&D)>>>16)+((Pe=(ot>>>14|Zn<<18)^(ot>>>18|Zn<<14)^(Zn>>>9|ot<<23))>>>16)+(sr>>>16)+((pe=(65535&Ut)+(65535&$e)+(65535&ir)+(65535&Pe)+(65535&sr))>>>16))>>>16))>>>16)<<16|65535&fe,$e=he<<16|65535&pe,kt=((Rn=(Fr=vt&on)^vt&_n^jr)>>>16)+((Re=(vt>>>28|Mn<<4)^(Mn>>>2|vt<<30)^(Mn>>>7|vt<<25))>>>16)+((fe=(65535&Rn)+(65535&Re)+((he=((Hn=(Qi=Mn&qn)^Mn&bn^mo)>>>16)+((ft=(Mn>>>28|vt<<4)^(vt>>>2|Mn<<30)^(vt>>>7|Mn<<25))>>>16)+((pe=(65535&Hn)+(65535&ft))>>>16))>>>16))>>>16)<<16|65535&fe,Ut=he<<16|65535&pe,fn=(Vn>>>16)+(Ue>>>16)+((fe=(65535&Vn)+(65535&Ue)+((he=(or>>>16)+($e>>>16)+((pe=(65535&or)+(65535&$e))>>>16))>>>16))>>>16)<<16|65535&fe,sr=he<<16|65535&pe,Vn=(kt>>>16)+(Ue>>>16)+((fe=(65535&kt)+(65535&Ue)+((he=(Ut>>>16)+($e>>>16)+((pe=(65535&Ut)+(65535&$e))>>>16))>>>16))>>>16)<<16|65535&fe,or=he<<16|65535&pe;this.h0h=(k>>>16)+(Vn>>>16)+((fe=(65535&k)+(65535&Vn)+((he=(ve>>>16)+(or>>>16)+((pe=(65535&ve)+(65535&or))>>>16))>>>16))>>>16)<<16|65535&fe,this.h0l=he<<16|65535&pe,this.h1h=(Ce>>>16)+(vt>>>16)+((fe=(65535&Ce)+(65535&vt)+((he=(Oe>>>16)+(Mn>>>16)+((pe=(65535&Oe)+(65535&Mn))>>>16))>>>16))>>>16)<<16|65535&fe,this.h1l=he<<16|65535&pe,this.h2h=(pt>>>16)+(on>>>16)+((fe=(65535&pt)+(65535&on)+((he=(ke>>>16)+(qn>>>16)+((pe=(65535&ke)+(65535&qn))>>>16))>>>16))>>>16)<<16|65535&fe,this.h2l=he<<16|65535&pe,this.h3h=(Lt>>>16)+(_n>>>16)+((fe=(65535&Lt)+(65535&_n)+((he=(Ie>>>16)+(bn>>>16)+((pe=(65535&Ie)+(65535&bn))>>>16))>>>16))>>>16)<<16|65535&fe,this.h3l=he<<16|65535&pe,this.h4h=(bt>>>16)+(fn>>>16)+((fe=(65535&bt)+(65535&fn)+((he=(U>>>16)+(sr>>>16)+((pe=(65535&U)+(65535&sr))>>>16))>>>16))>>>16)<<16|65535&fe,this.h4l=he<<16|65535&pe,this.h5h=(H>>>16)+(Zn>>>16)+((fe=(65535&H)+(65535&Zn)+((he=(G>>>16)+(ot>>>16)+((pe=(65535&G)+(65535&ot))>>>16))>>>16))>>>16)<<16|65535&fe,this.h5l=he<<16|65535&pe,this.h6h=(Q>>>16)+(Wn>>>16)+((fe=(65535&Q)+(65535&Wn)+((he=(te>>>16)+(Jn>>>16)+((pe=(65535&te)+(65535&Jn))>>>16))>>>16))>>>16)<<16|65535&fe,this.h6l=he<<16|65535&pe,this.h7h=(Z>>>16)+(S>>>16)+((fe=(65535&Z)+(65535&S)+((he=(Se>>>16)+(D>>>16)+((pe=(65535&Se)+(65535&D))>>>16))>>>16))>>>16)<<16|65535&fe,this.h7l=he<<16|65535&pe},at.prototype.toString=at.prototype.hex=function(){this.finalize();var k=this.h0h,ve=this.h0l,Ce=this.h1h,Oe=this.h1l,pt=this.h2h,ke=this.h2l,Lt=this.h3h,Ie=this.h3l,bt=this.h4h,U=this.h4l,H=this.h5h,G=this.h5l,Q=this.h6h,te=this.h6l,Z=this.h7h,Se=this.h7l,We=this.bits,Be=R[k>>>28&15]+R[k>>>24&15]+R[k>>>20&15]+R[k>>>16&15]+R[k>>>12&15]+R[k>>>8&15]+R[k>>>4&15]+R[15&k]+R[ve>>>28&15]+R[ve>>>24&15]+R[ve>>>20&15]+R[ve>>>16&15]+R[ve>>>12&15]+R[ve>>>8&15]+R[ve>>>4&15]+R[15&ve]+R[Ce>>>28&15]+R[Ce>>>24&15]+R[Ce>>>20&15]+R[Ce>>>16&15]+R[Ce>>>12&15]+R[Ce>>>8&15]+R[Ce>>>4&15]+R[15&Ce]+R[Oe>>>28&15]+R[Oe>>>24&15]+R[Oe>>>20&15]+R[Oe>>>16&15]+R[Oe>>>12&15]+R[Oe>>>8&15]+R[Oe>>>4&15]+R[15&Oe]+R[pt>>>28&15]+R[pt>>>24&15]+R[pt>>>20&15]+R[pt>>>16&15]+R[pt>>>12&15]+R[pt>>>8&15]+R[pt>>>4&15]+R[15&pt]+R[ke>>>28&15]+R[ke>>>24&15]+R[ke>>>20&15]+R[ke>>>16&15]+R[ke>>>12&15]+R[ke>>>8&15]+R[ke>>>4&15]+R[15&ke]+R[Lt>>>28&15]+R[Lt>>>24&15]+R[Lt>>>20&15]+R[Lt>>>16&15]+R[Lt>>>12&15]+R[Lt>>>8&15]+R[Lt>>>4&15]+R[15&Lt];return We>=256&&(Be+=R[Ie>>>28&15]+R[Ie>>>24&15]+R[Ie>>>20&15]+R[Ie>>>16&15]+R[Ie>>>12&15]+R[Ie>>>8&15]+R[Ie>>>4&15]+R[15&Ie]),We>=384&&(Be+=R[bt>>>28&15]+R[bt>>>24&15]+R[bt>>>20&15]+R[bt>>>16&15]+R[bt>>>12&15]+R[bt>>>8&15]+R[bt>>>4&15]+R[15&bt]+R[U>>>28&15]+R[U>>>24&15]+R[U>>>20&15]+R[U>>>16&15]+R[U>>>12&15]+R[U>>>8&15]+R[U>>>4&15]+R[15&U]+R[H>>>28&15]+R[H>>>24&15]+R[H>>>20&15]+R[H>>>16&15]+R[H>>>12&15]+R[H>>>8&15]+R[H>>>4&15]+R[15&H]+R[G>>>28&15]+R[G>>>24&15]+R[G>>>20&15]+R[G>>>16&15]+R[G>>>12&15]+R[G>>>8&15]+R[G>>>4&15]+R[15&G]),512==We&&(Be+=R[Q>>>28&15]+R[Q>>>24&15]+R[Q>>>20&15]+R[Q>>>16&15]+R[Q>>>12&15]+R[Q>>>8&15]+R[Q>>>4&15]+R[15&Q]+R[te>>>28&15]+R[te>>>24&15]+R[te>>>20&15]+R[te>>>16&15]+R[te>>>12&15]+R[te>>>8&15]+R[te>>>4&15]+R[15&te]+R[Z>>>28&15]+R[Z>>>24&15]+R[Z>>>20&15]+R[Z>>>16&15]+R[Z>>>12&15]+R[Z>>>8&15]+R[Z>>>4&15]+R[15&Z]+R[Se>>>28&15]+R[Se>>>24&15]+R[Se>>>20&15]+R[Se>>>16&15]+R[Se>>>12&15]+R[Se>>>8&15]+R[Se>>>4&15]+R[15&Se]),Be},at.prototype.array=at.prototype.digest=function(){this.finalize();var k=this.h0h,ve=this.h0l,Ce=this.h1h,Oe=this.h1l,pt=this.h2h,ke=this.h2l,Lt=this.h3h,Ie=this.h3l,bt=this.h4h,U=this.h4l,H=this.h5h,G=this.h5l,Q=this.h6h,te=this.h6l,Z=this.h7h,Se=this.h7l,We=this.bits,Be=[k>>>24&255,k>>>16&255,k>>>8&255,255&k,ve>>>24&255,ve>>>16&255,ve>>>8&255,255&ve,Ce>>>24&255,Ce>>>16&255,Ce>>>8&255,255&Ce,Oe>>>24&255,Oe>>>16&255,Oe>>>8&255,255&Oe,pt>>>24&255,pt>>>16&255,pt>>>8&255,255&pt,ke>>>24&255,ke>>>16&255,ke>>>8&255,255&ke,Lt>>>24&255,Lt>>>16&255,Lt>>>8&255,255&Lt];return We>=256&&Be.push(Ie>>>24&255,Ie>>>16&255,Ie>>>8&255,255&Ie),We>=384&&Be.push(bt>>>24&255,bt>>>16&255,bt>>>8&255,255&bt,U>>>24&255,U>>>16&255,U>>>8&255,255&U,H>>>24&255,H>>>16&255,H>>>8&255,255&H,G>>>24&255,G>>>16&255,G>>>8&255,255&G),512==We&&Be.push(Q>>>24&255,Q>>>16&255,Q>>>8&255,255&Q,te>>>24&255,te>>>16&255,te>>>8&255,255&te,Z>>>24&255,Z>>>16&255,Z>>>8&255,255&Z,Se>>>24&255,Se>>>16&255,Se>>>8&255,255&Se),Be},at.prototype.arrayBuffer=function(){this.finalize();var k=this.bits,ve=new ArrayBuffer(k/8),Ce=new DataView(ve);return Ce.setUint32(0,this.h0h),Ce.setUint32(4,this.h0l),Ce.setUint32(8,this.h1h),Ce.setUint32(12,this.h1l),Ce.setUint32(16,this.h2h),Ce.setUint32(20,this.h2l),Ce.setUint32(24,this.h3h),k>=256&&Ce.setUint32(28,this.h3l),k>=384&&(Ce.setUint32(32,this.h4h),Ce.setUint32(36,this.h4l),Ce.setUint32(40,this.h5h),Ce.setUint32(44,this.h5l)),512==k&&(Ce.setUint32(48,this.h6h),Ce.setUint32(52,this.h6l),Ce.setUint32(56,this.h7h),Ce.setUint32(60,this.h7l)),ve},at.prototype.clone=function(){var k=new at(this.bits,!1);return this.copyTo(k),k},at.prototype.copyTo=function(k){var ve=0,Ce=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(ve=0;ve<Ce.length;++ve)k[Ce[ve]]=this[Ce[ve]];for(ve=0;ve<this.blocks.length;++ve)k.blocks[ve]=this.blocks[ve]},(ct.prototype=new at).finalize=function(){if(at.prototype.finalize.call(this),this.inner){this.inner=!1;var k=this.array();at.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(k),at.prototype.finalize.call(this)}},ct.prototype.clone=function(){var k=new ct([],this.bits,!1);this.copyTo(k),k.inner=this.inner;for(var ve=0;ve<this.oKeyPad.length;++ve)k.oKeyPad[ve]=this.oKeyPad[ve];return k};var Bt=Nt(512);Bt.sha512=Bt,Bt.sha384=Nt(384),Bt.sha512_256=Nt(256),Bt.sha512_224=Nt(224),Bt.sha512.hmac=Er(512),Bt.sha384.hmac=Er(384),Bt.sha512_256.hmac=Er(256),Bt.sha512_224.hmac=Er(224),Ln?Fi.exports=Bt:(rn.sha512=Bt.sha512,rn.sha384=Bt.sha384,rn.sha512_256=Bt.sha512_256,rn.sha512_224=Bt.sha512_224,kn&&void 0!==(y=function(){return Bt}.call(Bt,rt,Bt,Fi))&&(Fi.exports=y))}()},345:(Fi,Pr,rt)=>{"use strict";rt.d(Pr,{A:()=>Xn});var y=rt(76),xe=rt(362),A=rt(852),je=rt(41);class rn{constructor(xt,_t){this._delegate=xt,this.firebase=_t,(0,A._addComponent)(xt,new xe.uA("app-compat",()=>this,"PUBLIC")),this.container=xt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xt){this._delegate.automaticDataCollectionEnabled=xt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xt=>{this._delegate.checkDestroyed(),xt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,A.deleteApp)(this._delegate)))}_getService(xt,_t=A._DEFAULT_ENTRY_NAME){var fr;this._delegate.checkDestroyed();const $n=this._delegate.container.getProvider(xt);return!$n.isInitialized()&&"EXPLICIT"===(null===(fr=$n.getComponent())||void 0===fr?void 0:fr.instantiationMode)&&$n.initialize(),$n.getImmediate({identifier:_t})}_removeServiceInstance(xt,_t=A._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xt).clearInstance(_t)}_addComponent(xt){(0,A._addComponent)(this._delegate,xt)}_addOrOverwriteComponent(xt){(0,A._addOrOverwriteComponent)(this._delegate,xt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ye=new y.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function kn(){const Le=function Ln(Le){const xt={},_t={__esModule:!0,initializeApp:function Nt(ct,Bt={}){const k=A.initializeApp(ct,Bt);if((0,y.gR)(xt,k.name))return xt[k.name];const ve=new Le(k,_t);return xt[k.name]=ve,ve},app:$n,registerVersion:A.registerVersion,setLogLevel:A.setLogLevel,onLog:A.onLog,apps:null,SDK_VERSION:A.SDK_VERSION,INTERNAL:{registerComponent:function Er(ct){const Bt=ct.name,k=Bt.replace("-compat","");if(A._registerComponent(ct)&&"PUBLIC"===ct.type){const ve=(Ce=$n())=>{if("function"!=typeof Ce[k])throw Ye.create("invalid-app-argument",{appName:Bt});return Ce[k]()};void 0!==ct.serviceProps&&(0,y.zw)(ve,ct.serviceProps),_t[k]=ve,Le.prototype[k]=function(...Ce){return this._getService.bind(this,Bt).apply(this,ct.multipleInstances?Ce:[])}}return"PUBLIC"===ct.type?_t[k]:null},removeApp:function fr(ct){delete xt[ct]},useAsService:function at(ct,Bt){return"serverAuth"===Bt?null:Bt},modularAPIs:A}};function $n(ct){if(!(0,y.gR)(xt,ct=ct||A._DEFAULT_ENTRY_NAME))throw Ye.create("no-app",{appName:ct});return xt[ct]}return _t.default=_t,Object.defineProperty(_t,"apps",{get:function gn(){return Object.keys(xt).map(ct=>xt[ct])}}),$n.App=Le,_t}(rn);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:kn,extendNamespace:function xt(_t){(0,y.zw)(Le,_t)},createSubscribe:y.tD,ErrorFactory:y.FA,deepExtend:y.zw}),Le}(),R=new je.Vy("@firebase/app-compat");if((0,y.Bd)()&&void 0!==self.firebase){R.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&R.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xn=ae;!function Ft(Le){(0,A.registerVersion)("@firebase/app-compat","0.2.32",Le)}()},852:(Fi,Pr,rt)=>{"use strict";rt.r(Pr),rt.d(Pr,{FirebaseError:()=>je.g,SDK_VERSION:()=>bn,_DEFAULT_ENTRY_NAME:()=>Fr,_addComponent:()=>$e,_addOrOverwriteComponent:()=>kt,_apps:()=>Rn,_clearComponents:()=>vt,_components:()=>Ue,_getProvider:()=>rr,_isFirebaseApp:()=>Vn,_isFirebaseServerApp:()=>or,_registerComponent:()=>Ut,_removeServiceInstance:()=>ir,_serverApps:()=>Hn,deleteApp:()=>Wn,getApp:()=>Zn,getApps:()=>ot,initializeApp:()=>fn,initializeServerApp:()=>sr,onLog:()=>D,registerVersion:()=>S,setLogLevel:()=>E});var y=rt(467),xe=rt(362),A=rt(41),je=rt(76);const rn=(q,L)=>L.some(re=>q instanceof re);let Sn,Ye;const ae=new WeakMap,R=new WeakMap,Ge=new WeakMap,it=new WeakMap,Ft=new WeakMap;let xt={get(q,L,re){if(q instanceof IDBTransaction){if("done"===L)return R.get(q);if("objectStoreNames"===L)return q.objectStoreNames||Ge.get(q);if("store"===L)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return Nt(q[L])},set:(q,L,re)=>(q[L]=re,!0),has:(q,L)=>q instanceof IDBTransaction&&("done"===L||"store"===L)||L in q};function $n(q){return"function"==typeof q?function fr(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kn(){return Ye||(Ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...L){return q.apply(gn(this),L),Nt(ae.get(this))}:function(...L){return Nt(q.apply(gn(this),L))}:function(L,...re){const Ae=q.call(gn(this),L,...re);return Ge.set(Ae,L.sort?L.sort():[L]),Nt(Ae)}}(q):(q instanceof IDBTransaction&&function Le(q){if(R.has(q))return;const L=new Promise((re,Ae)=>{const mt=()=>{q.removeEventListener("complete",Rt),q.removeEventListener("error",Ve),q.removeEventListener("abort",Ve)},Rt=()=>{re(),mt()},Ve=()=>{Ae(q.error||new DOMException("AbortError","AbortError")),mt()};q.addEventListener("complete",Rt),q.addEventListener("error",Ve),q.addEventListener("abort",Ve)});R.set(q,L)}(q),rn(q,function Ln(){return Sn||(Sn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,xt):q)}function Nt(q){if(q instanceof IDBRequest)return function Xn(q){const L=new Promise((re,Ae)=>{const mt=()=>{q.removeEventListener("success",Rt),q.removeEventListener("error",Ve)},Rt=()=>{re(Nt(q.result)),mt()},Ve=()=>{Ae(q.error),mt()};q.addEventListener("success",Rt),q.addEventListener("error",Ve)});return L.then(re=>{re instanceof IDBCursor&&ae.set(re,q)}).catch(()=>{}),Ft.set(L,q),L}(q);if(it.has(q))return it.get(q);const L=$n(q);return L!==q&&(it.set(q,L),Ft.set(L,q)),L}const gn=q=>Ft.get(q),ct=["get","getKey","getAll","getAllKeys","count"],Bt=["put","add","delete","clear"],k=new Map;function ve(q,L){if(!(q instanceof IDBDatabase)||L in q||"string"!=typeof L)return;if(k.get(L))return k.get(L);const re=L.replace(/FromIndex$/,""),Ae=L!==re,mt=Bt.includes(re);if(!(re in(Ae?IDBIndex:IDBObjectStore).prototype)||!mt&&!ct.includes(re))return;const Rt=function(){var Ve=(0,y.A)(function*(mr,...er){const zt=this.transaction(mr,mt?"readwrite":"readonly");let qa=zt.store;return Ae&&(qa=qa.index(er.shift())),(yield Promise.all([qa[re](...er),mt&&zt.done]))[0]});return function(er){return Ve.apply(this,arguments)}}();return k.set(L,Rt),Rt}!function _t(q){xt=q(xt)}(q=>({...q,get:(L,re,Ae)=>ve(L,re)||q.get(L,re,Ae),has:(L,re)=>!!ve(L,re)||q.has(L,re)}));class Ce{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function Oe(q){const L=q.getComponent();return"VERSION"===L?.type}(re)){const Ae=re.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(re=>re).join(" ")}}const pt="@firebase/app",ke="0.10.2",Lt=new A.Vy("@firebase/app"),Fr="[DEFAULT]",Qi={[pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rn=new Map,Hn=new Map,Ue=new Map;function $e(q,L){try{q.container.addComponent(L)}catch(re){Lt.debug(`Component ${L.name} failed to register with FirebaseApp ${q.name}`,re)}}function kt(q,L){q.container.addOrOverwriteComponent(L)}function Ut(q){const L=q.name;if(Ue.has(L))return Lt.debug(`There were multiple attempts to register component ${L}.`),!1;Ue.set(L,q);for(const re of Rn.values())$e(re,q);for(const re of Hn.values())$e(re,q);return!0}function rr(q,L){const re=q.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),q.container.getProvider(L)}function ir(q,L,re=Fr){rr(q,L).clearInstance(re)}function Vn(q){return void 0!==q.options}function or(q){return void 0!==q.settings}function vt(){Ue.clear()}const on=new je.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class qn{constructor(L,re,Ae){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new xe.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}class _n extends qn{constructor(L,re,Ae,mt){const Rt=void 0!==re.automaticDataCollectionEnabled&&re.automaticDataCollectionEnabled,Ve={name:Ae,automaticDataCollectionEnabled:Rt};super(void 0!==L.apiKey?L:L.options,Ve,mt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Rt},re),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,re.releaseOnDeref=void 0,S(pt,ke,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(L){this.isDeleted||(this._refCount++,void 0!==L&&this._finalizationRegistry.register(L,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Wn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw on.create("server-app-deleted")}}const bn="10.11.1";function fn(q,L={}){let re=q;"object"!=typeof L&&(L={name:L});const Ae=Object.assign({name:Fr,automaticDataCollectionEnabled:!1},L),mt=Ae.name;if("string"!=typeof mt||!mt)throw on.create("bad-app-name",{appName:String(mt)});if(re||(re=(0,je.T9)()),!re)throw on.create("no-options");const Rt=Rn.get(mt);if(Rt){if((0,je.bD)(re,Rt.options)&&(0,je.bD)(Ae,Rt.config))return Rt;throw on.create("duplicate-app",{appName:mt})}const Ve=new xe.h1(mt);for(const er of Ue.values())Ve.addComponent(er);const mr=new qn(re,Ae,Ve);return Rn.set(mt,mr),mr}function sr(q,L){if((0,je.Bd)())throw on.create("invalid-server-app-environment");let re;void 0===L.automaticDataCollectionEnabled&&(L.automaticDataCollectionEnabled=!1),re=Vn(q)?q.options:q;const Ae=Object.assign(Object.assign({},L),re);if(void 0!==Ae.releaseOnDeref&&delete Ae.releaseOnDeref,void 0!==L.releaseOnDeref&&typeof FinalizationRegistry>"u")throw on.create("finalization-registry-not-supported",{});const Rt=""+(zt=JSON.stringify(Ae),[...zt].reduce((qa,Tr)=>Math.imul(31,qa)+Tr.charCodeAt(0)|0,0)),Ve=Hn.get(Rt);var zt;if(Ve)return Ve.incRefCount(L.releaseOnDeref),Ve;const mr=new xe.h1(Rt);for(const zt of Ue.values())mr.addComponent(zt);const er=new _n(re,L,Rt,mr);return Hn.set(Rt,er),er}function Zn(q=Fr){const L=Rn.get(q);if(!L&&q===Fr&&(0,je.T9)())return fn();if(!L)throw on.create("no-app",{appName:q});return L}function ot(){return Array.from(Rn.values())}function Wn(q){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,y.A)(function*(q){let L=!1;const re=q.name;Rn.has(re)?(L=!0,Rn.delete(re)):Hn.has(re)&&q.decRefCount()<=0&&(Hn.delete(re),L=!0),L&&(yield Promise.all(q.container.getProviders().map(Ae=>Ae.delete())),q.isDeleted=!0)})).apply(this,arguments)}function S(q,L,re){var Ae;let mt=null!==(Ae=Qi[q])&&void 0!==Ae?Ae:q;re&&(mt+=`-${re}`);const Rt=mt.match(/\s|\//),Ve=L.match(/\s|\//);if(Rt||Ve){const mr=[`Unable to register library "${mt}" with version "${L}":`];return Rt&&mr.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),Rt&&Ve&&mr.push("and"),Ve&&mr.push(`version name "${L}" contains illegal characters (whitespace or "/")`),void Lt.warn(mr.join(" "))}Ut(new xe.uA(`${mt}-version`,()=>({library:mt,version:L}),"VERSION"))}function D(q,L){if(null!==q&&"function"!=typeof q)throw on.create("invalid-log-argument");(0,A.Ey)(q,L)}function E(q){(0,A.He)(q)}const C="firebase-heartbeat-database",w=1,O="firebase-heartbeat-store";let Y=null;function me(){return Y||(Y=function Er(q,L,{blocked:re,upgrade:Ae,blocking:mt,terminated:Rt}={}){const Ve=indexedDB.open(q,L),mr=Nt(Ve);return Ae&&Ve.addEventListener("upgradeneeded",er=>{Ae(Nt(Ve.result),er.oldVersion,er.newVersion,Nt(Ve.transaction),er)}),re&&Ve.addEventListener("blocked",er=>re(er.oldVersion,er.newVersion,er)),mr.then(er=>{Rt&&er.addEventListener("close",()=>Rt()),mt&&er.addEventListener("versionchange",zt=>mt(zt.oldVersion,zt.newVersion,zt))}).catch(()=>{}),mr}(C,w,{upgrade:(q,L)=>{if(0===L)try{q.createObjectStore(O)}catch(re){console.warn(re)}}}).catch(q=>{throw on.create("idb-open",{originalErrorMessage:q.message})})),Y}function de(){return(de=(0,y.A)(function*(q){try{const re=(yield me()).transaction(O),Ae=yield re.objectStore(O).get(z(q));return yield re.done,Ae}catch(L){if(L instanceof je.g)Lt.warn(L.message);else{const re=on.create("idb-get",{originalErrorMessage:L?.message});Lt.warn(re.message)}}})).apply(this,arguments)}function vn(q,L){return lt.apply(this,arguments)}function lt(){return(lt=(0,y.A)(function*(q,L){try{const Ae=(yield me()).transaction(O,"readwrite");yield Ae.objectStore(O).put(L,z(q)),yield Ae.done}catch(re){if(re instanceof je.g)Lt.warn(re.message);else{const Ae=on.create("idb-set",{originalErrorMessage:re?.message});Lt.warn(Ae.message)}}})).apply(this,arguments)}function z(q){return`${q.name}!${q.options.appId}`}class ia{constructor(L){this.container=L,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new ql(re),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var L=this;return(0,y.A)(function*(){var re,Ae;const Rt=L.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ve=xu();if((null!=(null===(re=L._heartbeatsCache)||void 0===re?void 0:re.heartbeats)||(L._heartbeatsCache=yield L._heartbeatsCachePromise,null!=(null===(Ae=L._heartbeatsCache)||void 0===Ae?void 0:Ae.heartbeats)))&&L._heartbeatsCache.lastSentHeartbeatDate!==Ve&&!L._heartbeatsCache.heartbeats.some(mr=>mr.date===Ve))return L._heartbeatsCache.heartbeats.push({date:Ve,agent:Rt}),L._heartbeatsCache.heartbeats=L._heartbeatsCache.heartbeats.filter(mr=>{const er=new Date(mr.date).valueOf();return Date.now()-er<=2592e6}),L._storage.overwrite(L._heartbeatsCache)})()}getHeartbeatsHeader(){var L=this;return(0,y.A)(function*(){var re;if(null===L._heartbeatsCache&&(yield L._heartbeatsCachePromise),null==(null===(re=L._heartbeatsCache)||void 0===re?void 0:re.heartbeats)||0===L._heartbeatsCache.heartbeats.length)return"";const Ae=xu(),{heartbeatsToSend:mt,unsentEntries:Rt}=function Cu(q,L=1024){const re=[];let Ae=q.slice();for(const mt of q){const Rt=re.find(Ve=>Ve.agent===mt.agent);if(Rt){if(Rt.dates.push(mt.date),po(re)>L){Rt.dates.pop();break}}else if(re.push({agent:mt.agent,dates:[mt.date]}),po(re)>L){re.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:re,unsentEntries:Ae}}(L._heartbeatsCache.heartbeats),Ve=(0,je.Uj)(JSON.stringify({version:2,heartbeats:mt}));return L._heartbeatsCache.lastSentHeartbeatDate=Ae,Rt.length>0?(L._heartbeatsCache.heartbeats=Rt,yield L._storage.overwrite(L._heartbeatsCache)):(L._heartbeatsCache.heartbeats=[],L._storage.overwrite(L._heartbeatsCache)),Ve})()}}function xu(){return(new Date).toISOString().substring(0,10)}class ql{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.A)(function*(){return!!(0,je.zW)()&&(0,je.eX)().then(()=>!0).catch(()=>!1)})()}read(){var L=this;return(0,y.A)(function*(){if(yield L._canUseIndexedDBPromise){const Ae=yield function Ct(q){return de.apply(this,arguments)}(L.app);return Ae?.heartbeats?Ae:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(L){var re=this;return(0,y.A)(function*(){var Ae;if(yield re._canUseIndexedDBPromise){const Rt=yield re.read();return vn(re.app,{lastSentHeartbeatDate:null!==(Ae=L.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Rt.lastSentHeartbeatDate,heartbeats:L.heartbeats})}})()}add(L){var re=this;return(0,y.A)(function*(){var Ae;if(yield re._canUseIndexedDBPromise){const Rt=yield re.read();return vn(re.app,{lastSentHeartbeatDate:null!==(Ae=L.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Rt.lastSentHeartbeatDate,heartbeats:[...Rt.heartbeats,...L.heartbeats]})}})()}}function po(q){return(0,je.Uj)(JSON.stringify({version:2,heartbeats:q})).length}!function Lo(q){Ut(new xe.uA("platform-logger",L=>new Ce(L),"PRIVATE")),Ut(new xe.uA("heartbeat",L=>new ia(L),"PRIVATE")),S(pt,ke,q),S(pt,ke,"esm2017"),S("fire-js","")}("")},362:(Fi,Pr,rt)=>{"use strict";rt.d(Pr,{h1:()=>Ln,uA:()=>A});var y=rt(467),xe=rt(76);class A{constructor(ae,R,Ge){this.name=ae,this.instanceFactory=R,this.type=Ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const je="[DEFAULT]";class rn{constructor(ae,R){this.name=ae,this.container=R,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const R=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(R)){const Ge=new xe.cY;if(this.instancesDeferred.set(R,Ge),this.isInitialized(R)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:R});it&&Ge.resolve(it)}catch{}}return this.instancesDeferred.get(R).promise}getImmediate(ae){var R;const Ge=this.normalizeInstanceIdentifier(ae?.identifier),it=null!==(R=ae?.optional)&&void 0!==R&&R;if(!this.isInitialized(Ge)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ge})}catch(Ft){if(it)return null;throw Ft}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Ye(kn){return"EAGER"===kn.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:je})}catch{}for(const[R,Ge]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(R);try{const Ft=this.getOrInitializeService({instanceIdentifier:it});Ge.resolve(Ft)}catch{}}}}clearInstance(ae=je){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,y.A)(function*(){const R=Array.from(ae.instances.values());yield Promise.all([...R.filter(Ge=>"INTERNAL"in Ge).map(Ge=>Ge.INTERNAL.delete()),...R.filter(Ge=>"_delete"in Ge).map(Ge=>Ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=je){return this.instances.has(ae)}getOptions(ae=je){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:R={}}=ae,Ge=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Ge))throw Error(`${this.name}(${Ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:Ge,options:R});for(const[Ft,Xn]of this.instancesDeferred.entries())Ge===this.normalizeInstanceIdentifier(Ft)&&Xn.resolve(it);return it}onInit(ae,R){var Ge;const it=this.normalizeInstanceIdentifier(R),Ft=null!==(Ge=this.onInitCallbacks.get(it))&&void 0!==Ge?Ge:new Set;Ft.add(ae),this.onInitCallbacks.set(it,Ft);const Xn=this.instances.get(it);return Xn&&ae(Xn,it),()=>{Ft.delete(ae)}}invokeOnInitCallbacks(ae,R){const Ge=this.onInitCallbacks.get(R);if(Ge)for(const it of Ge)try{it(ae,R)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:R={}}){let Ge=this.instances.get(ae);if(!Ge&&this.component&&(Ge=this.component.instanceFactory(this.container,{instanceIdentifier:(kn=ae,kn===je?void 0:kn),options:R}),this.instances.set(ae,Ge),this.instancesOptions.set(ae,R),this.invokeOnInitCallbacks(Ge,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Ge)}catch{}var kn;return Ge||null}normalizeInstanceIdentifier(ae=je){return this.component?this.component.multipleInstances?ae:je:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ln{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const R=this.getProvider(ae.name);if(R.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);R.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const R=new rn(ae,this);return this.providers.set(ae,R),R}getProviders(){return Array.from(this.providers.values())}}},41:(Fi,Pr,rt)=>{"use strict";rt.d(Pr,{$b:()=>xe,Ey:()=>kn,He:()=>Ln,Vy:()=>Ye});const y=[];var xe=function(ae){return ae[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",ae}(xe||{});const A={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},je=xe.INFO,rn={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Sn=(ae,R,...Ge)=>{if(R<ae.logLevel)return;const it=(new Date).toISOString(),Ft=rn[R];if(!Ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${R})`);console[Ft](`[${it}]  ${ae.name}:`,...Ge)};class Ye{constructor(R){this.name=R,this._logLevel=je,this._logHandler=Sn,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(R){if(!(R in xe))throw new TypeError(`Invalid value "${R}" assigned to \`logLevel\``);this._logLevel=R}setLogLevel(R){this._logLevel="string"==typeof R?A[R]:R}get logHandler(){return this._logHandler}set logHandler(R){if("function"!=typeof R)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=R}get userLogHandler(){return this._userLogHandler}set userLogHandler(R){this._userLogHandler=R}debug(...R){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...R),this._logHandler(this,xe.DEBUG,...R)}log(...R){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...R),this._logHandler(this,xe.VERBOSE,...R)}info(...R){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...R),this._logHandler(this,xe.INFO,...R)}warn(...R){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...R),this._logHandler(this,xe.WARN,...R)}error(...R){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...R),this._logHandler(this,xe.ERROR,...R)}}function Ln(ae){y.forEach(R=>{R.setLogLevel(ae)})}function kn(ae,R){for(const Ge of y){let it=null;R&&R.level&&(it=A[R.level]),Ge.userLogHandler=null===ae?null:(Ft,Xn,...Le)=>{const xt=Le.map(_t=>{if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch{return null}}).filter(_t=>_t).join(" ");Xn>=(it??Ft.logLevel)&&ae({level:xe[Xn].toLowerCase(),message:xt,args:Le,type:Ft.name})}}}},438:(Fi,Pr,rt)=>{"use strict";rt.r(Pr);var y=rt(467),xe=rt(345),A=rt(407),je=rt(76),Ye=(rt(852),rt(41),rt(362));function Ln(){return window}function R(){return R=(0,y.A)(function*(E,C,w){var O;const{BuildInfo:Y}=Ln();(0,A.au)(C.sessionId,"AuthEvent did not contain a session ID");const me=yield function _t(E){return fr.apply(this,arguments)}(C.sessionId),Ct={};return(0,A.av)()?Ct.ibi=Y.packageName:(0,A.aw)()?Ct.apn=Y.packageName:(0,A.ax)(E,"operation-not-supported-in-this-environment"),Y.displayName&&(Ct.appDisplayName=Y.displayName),Ct.sessionId=me,(0,A.ay)(E,w,C.type,void 0,null!==(O=C.eventId)&&void 0!==O?O:void 0,Ct)}),R.apply(this,arguments)}function it(){return(it=(0,y.A)(function*(E){const{BuildInfo:C}=Ln(),w={};(0,A.av)()?w.iosBundleId=C.packageName:(0,A.aw)()?w.androidPackageName=C.packageName:(0,A.ax)(E,"operation-not-supported-in-this-environment"),yield(0,A.az)(E,w)})).apply(this,arguments)}function Le(){return(Le=(0,y.A)(function*(E,C,w){const{cordova:O}=Ln();let Y=()=>{};try{yield new Promise((me,Ct)=>{let de=null;function vn(){var Tt;me();const $r=null===(Tt=O.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof $r&&$r(),"function"==typeof w?.close&&w.close()}function lt(){de||(de=window.setTimeout(()=>{Ct((0,A.aB)(E,"redirect-cancelled-by-user"))},2e3))}function z(){"visible"===document?.visibilityState&&lt()}C.addPassiveListener(vn),document.addEventListener("resume",lt,!1),(0,A.aw)()&&document.addEventListener("visibilitychange",z,!1),Y=()=>{C.removePassiveListener(vn),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",z,!1),de&&window.clearTimeout(de)}})}finally{Y()}})).apply(this,arguments)}function fr(){return(fr=(0,y.A)(function*(E){const C=function $n(E){if((0,A.au)(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const C=new ArrayBuffer(E.length),w=new Uint8Array(C);for(let O=0;O<E.length;O++)w[O]=E.charCodeAt(O);return w}(E),w=yield crypto.subtle.digest("SHA-256",C);return Array.from(new Uint8Array(w)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class gn extends A.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(C=>{this.resolveInialized=C})}addPassiveListener(C){this.passiveListeners.add(C)}removePassiveListener(C){this.passiveListeners.delete(C)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(C){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(C)),super.onEvent(C)}initialized(){var C=this;return(0,y.A)(function*(){yield C.initPromise})()}}function ct(E){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,y.A)(function*(E){const C=yield Ce()._get(Oe(E));return C&&(yield Ce()._remove(Oe(E))),C})).apply(this,arguments)}function ve(){const E=[];for(let w=0;w<20;w++){const O=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(O))}return E.join("")}function Ce(){return(0,A.aE)(A.b)}function Oe(E){return(0,A.aF)("authEvent",E.config.apiKey,E.name)}function Lt(E){if(!E?.includes("?"))return{};const[C,...w]=E.split("?");return(0,je.I9)(w.join("?"))}const U=class bt{constructor(){this._redirectPersistence=A.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=A.aG,this._overrideRedirectResult=A.aH}_initialize(C){var w=this;return(0,y.A)(function*(){const O=C._key();let Y=w.eventManagers.get(O);return Y||(Y=new gn(C),w.eventManagers.set(O,Y),w.attachCallbackListeners(C,Y)),Y})()}_openPopup(C){(0,A.ax)(C,"operation-not-supported-in-this-environment")}_openRedirect(C,w,O,Y){var me=this;return(0,y.A)(function*(){!function xt(E){var C,w,O,Y,me,Ct,de,vn,lt,z;const Tt=Ln();(0,A.aC)("function"==typeof(null===(C=Tt?.universalLinks)||void 0===C?void 0:C.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,A.aC)(typeof(null===(w=Tt?.BuildInfo)||void 0===w?void 0:w.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,A.aC)("function"==typeof(null===(me=null===(Y=null===(O=Tt?.cordova)||void 0===O?void 0:O.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===me?void 0:me.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.aC)("function"==typeof(null===(vn=null===(de=null===(Ct=Tt?.cordova)||void 0===Ct?void 0:Ct.plugins)||void 0===de?void 0:de.browsertab)||void 0===vn?void 0:vn.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.aC)("function"==typeof(null===(z=null===(lt=Tt?.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===z?void 0:z.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(C);const Ct=yield me._initialize(C);yield Ct.initialized(),Ct.resetRedirect(),(0,A.aI)(),yield me._originValidation(C);const de=function Er(E,C,w=null){return{type:C,eventId:w,urlResponse:null,sessionId:ve(),postBody:null,tenantId:E.tenantId,error:(0,A.aB)(E,"no-auth-event")}}(C,O,Y);yield function at(E,C){return Ce()._set(Oe(E),C)}(C,de);const vn=yield function ae(E,C,w){return R.apply(this,arguments)}(C,de,w),lt=yield function Ft(E){const{cordova:C}=Ln();return new Promise(w=>{C.plugins.browsertab.isAvailable(O=>{let Y=null;O?C.plugins.browsertab.openUrl(E):Y=C.InAppBrowser.open(E,(0,A.aA)()?"_blank":"_system","location=yes"),w(Y)})})}(vn);return function Xn(E,C,w){return Le.apply(this,arguments)}(C,Ct,lt)})()}_isIframeWebStorageSupported(C,w){throw new Error("Method not implemented.")}_originValidation(C){const w=C._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Ge(E){return it.apply(this,arguments)}(C)),this.originValidationPromises[w]}attachCallbackListeners(C,w){const{universalLinks:O,handleOpenURL:Y,BuildInfo:me}=Ln(),Ct=setTimeout((0,y.A)(function*(){yield ct(C),w.onEvent(H())}),500),de=function(){var z=(0,y.A)(function*(Tt){clearTimeout(Ct);const $r=yield ct(C);let ia=null;$r&&Tt?.url&&(ia=function k(E,C){var w,O;const Y=function ke(E){const C=Lt(E),w=C.link?decodeURIComponent(C.link):void 0,O=Lt(w).link,Y=C.deep_link_id?decodeURIComponent(C.deep_link_id):void 0;return Lt(Y).link||Y||O||w||E}(C);if(Y.includes("/__/auth/callback")){const me=Lt(Y),Ct=me.firebaseError?function pt(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(me.firebaseError)):null,de=null===(O=null===(w=Ct?.code)||void 0===w?void 0:w.split("auth/"))||void 0===O?void 0:O[1],vn=de?(0,A.aB)(de):null;return vn?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:vn,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:Y,postBody:null}}return null}($r,Tt.url)),w.onEvent(ia||H())});return function($r){return z.apply(this,arguments)}}();typeof O<"u"&&"function"==typeof O.subscribe&&O.subscribe(null,de);const vn=Y,lt=`${me.packageName.toLowerCase()}://`;Ln().handleOpenURL=function(){var z=(0,y.A)(function*(Tt){if(Tt.toLowerCase().startsWith(lt)&&de({url:Tt}),"function"==typeof vn)try{vn(Tt)}catch($r){console.error($r)}});return function(Tt){return z.apply(this,arguments)}}()}};function H(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,A.aB)("no-auth-event")}}function Se(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Be(E=(0,je.ZQ)()){return!("file:"!==Se()&&"ionic:"!==Se()&&"capacitor:"!==Se()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function pe(){try{const E=self.localStorage,C=A.aN();if(E)return E.setItem(C,"1"),E.removeItem(C),!function Pe(E=(0,je.ZQ)()){return function ft(){return(0,je.lT)()&&11===document?.documentMode}()||function Ht(E=(0,je.ZQ)()){return/Edge\/\d+/.test(E)}(E)}()||(0,je.zW)()}catch{return he()&&(0,je.zW)()}return!1}function he(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function fe(){return(function We(){return"http:"===Se()||"https:"===Se()}()||(0,je.sr)()||Be())&&!function Re(){return(0,je.lV)()||(0,je.Ll)()}()&&pe()&&!he()}function ge(){return Be()&&typeof document<"u"}function fo(){return(fo=(0,y.A)(function*(){return!!ge()&&new Promise(E=>{const C=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(C),E(!0)})})})).apply(this,arguments)}const Cn={LOCAL:"local",NONE:"none",SESSION:"session"},jr=A.aC,mo="persistence";function Qi(E){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,y.A)(function*(E){yield E._initializationPromise;const C=Ue(),w=A.aF(mo,E.config.apiKey,E.name);C&&C.setItem(w,E._getPersistence())})).apply(this,arguments)}function Ue(){var E;try{return(null===(E=function Ni(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const $e=A.aC;class kt{constructor(){this.browserResolver=A.aE(A.k),this.cordovaResolver=A.aE(U),this.underlyingResolver=null,this._redirectPersistence=A.a,this._completeRedirectFn=A.aG,this._overrideRedirectResult=A.aH}_initialize(C){var w=this;return(0,y.A)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(C)})()}_openPopup(C,w,O,Y){var me=this;return(0,y.A)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openPopup(C,w,O,Y)})()}_openRedirect(C,w,O,Y){var me=this;return(0,y.A)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openRedirect(C,w,O,Y)})()}_isIframeWebStorageSupported(C,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(C,w)}_originValidation(C){return this.assertedUnderlyingResolver._originValidation(C)}get _shouldInitProactively(){return ge()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $e(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var C=this;return(0,y.A)(function*(){if(C.underlyingResolver)return;const w=yield function zr(){return fo.apply(this,arguments)}();C.underlyingResolver=w?C.cordovaResolver:C.browserResolver})()}}function Ut(E){return E.unwrap()}function ir(E){return or(E)}function or(E){const{_tokenResponse:C}=E instanceof je.g?E.customData:E;if(!C)return null;if(!(E instanceof je.g)&&"temporaryProof"in C&&"phoneNumber"in C)return A.P.credentialFromResult(E);const w=C.providerId;if(!w||w===A.p.PASSWORD)return null;let O;switch(w){case A.p.GOOGLE:O=A.X;break;case A.p.FACEBOOK:O=A.W;break;case A.p.GITHUB:O=A.Y;break;case A.p.TWITTER:O=A.$;break;default:const{oauthIdToken:Y,oauthAccessToken:me,oauthTokenSecret:Ct,pendingToken:de,nonce:vn}=C;return me||Ct||Y||de?de?w.startsWith("saml.")?A.aQ._create(w,de):A.N._fromParams({providerId:w,signInMethod:w,pendingToken:de,idToken:Y,accessToken:me}):new A.Z(w).credential({idToken:Y,accessToken:me,rawNonce:vn}):null}return E instanceof je.g?O.credentialFromError(E):O.credentialFromResult(E)}function vt(E,C){return C.catch(w=>{throw w instanceof je.g&&function Vn(E,C){var w;const O=null===(w=C.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===C?.code)C.resolver=new qn(E,A.as(E,C));else if(O){const Y=or(C),me=C;Y&&(me.credential=Y,me.tenantId=O.tenantId||void 0,me.email=O.email||void 0,me.phoneNumber=O.phoneNumber||void 0)}}(E,w),w}).then(w=>{const Y=w.user;return{operationType:w.operationType,credential:ir(w),additionalUserInfo:A.aq(w),user:_n.getOrCreate(Y)}})}function Mn(E,C){return on.apply(this,arguments)}function on(){return(on=(0,y.A)(function*(E,C){const w=yield C;return{verificationId:w.verificationId,confirm:O=>vt(E,w.confirm(O))}})).apply(this,arguments)}class qn{constructor(C,w){this.resolver=w,this.auth=function rr(E){return E.wrapped()}(C)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(C){return vt(Ut(this.auth),this.resolver.resolveSignIn(C))}}class _n{constructor(C){this._delegate=C,this.multiFactor=A.at(C)}static getOrCreate(C){return _n.USER_MAP.has(C)||_n.USER_MAP.set(C,new _n(C)),_n.USER_MAP.get(C)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(C){return this._delegate.getIdTokenResult(C)}getIdToken(C){return this._delegate.getIdToken(C)}linkAndRetrieveDataWithCredential(C){return this.linkWithCredential(C)}linkWithCredential(C){var w=this;return(0,y.A)(function*(){return vt(w.auth,A.a2(w._delegate,C))})()}linkWithPhoneNumber(C,w){var O=this;return(0,y.A)(function*(){return Mn(O.auth,A.l(O._delegate,C,w))})()}linkWithPopup(C){var w=this;return(0,y.A)(function*(){return vt(w.auth,A.d(w._delegate,C,kt))})()}linkWithRedirect(C){var w=this;return(0,y.A)(function*(){return yield Qi(A.aJ(w.auth)),A.g(w._delegate,C,kt)})()}reauthenticateAndRetrieveDataWithCredential(C){return this.reauthenticateWithCredential(C)}reauthenticateWithCredential(C){var w=this;return(0,y.A)(function*(){return vt(w.auth,A.a3(w._delegate,C))})()}reauthenticateWithPhoneNumber(C,w){return Mn(this.auth,A.r(this._delegate,C,w))}reauthenticateWithPopup(C){return vt(this.auth,A.e(this._delegate,C,kt))}reauthenticateWithRedirect(C){var w=this;return(0,y.A)(function*(){return yield Qi(A.aJ(w.auth)),A.h(w._delegate,C,kt)})()}sendEmailVerification(C){return A.ag(this._delegate,C)}unlink(C){var w=this;return(0,y.A)(function*(){return yield A.ap(w._delegate,C),w})()}updateEmail(C){return A.al(this._delegate,C)}updatePassword(C){return A.am(this._delegate,C)}updatePhoneNumber(C){return A.u(this._delegate,C)}updateProfile(C){return A.ak(this._delegate,C)}verifyBeforeUpdateEmail(C,w){return A.ah(this._delegate,C,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_n.USER_MAP=new WeakMap;const bn=A.aC;let fn=(()=>{class E{constructor(w,O){if(this.app=w,O.isInitialized())return this._delegate=O.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=w.options;bn(Y,"invalid-api-key",{appName:w.name}),bn(Y,"invalid-api-key",{appName:w.name});const me=typeof window<"u"?kt:void 0;this._delegate=O.initialize({options:{persistence:Zn(Y,w.name),popupRedirectResolver:me}}),this._delegate._updateErrorMap(A.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_n.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,O){A.K(this._delegate,w,O)}applyActionCode(w){return A.a7(this._delegate,w)}checkActionCode(w){return A.a8(this._delegate,w)}confirmPasswordReset(w,O){return A.a6(this._delegate,w,O)}createUserWithEmailAndPassword(w,O){var Y=this;return(0,y.A)(function*(){return vt(Y._delegate,A.aa(Y._delegate,w,O))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return A.af(this._delegate,w)}isSignInWithEmailLink(w){return A.ad(this._delegate,w)}getRedirectResult(){var w=this;return(0,y.A)(function*(){bn(fe(),w._delegate,"operation-not-supported-in-this-environment");const O=yield A.j(w._delegate,kt);return O?vt(w._delegate,Promise.resolve(O)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function G(E,C){(0,A.aJ)(E)._logFramework(C)}(this._delegate,w)}onAuthStateChanged(w,O,Y){const{next:me,error:Ct,complete:de}=sr(w,O,Y);return this._delegate.onAuthStateChanged(me,Ct,de)}onIdTokenChanged(w,O,Y){const{next:me,error:Ct,complete:de}=sr(w,O,Y);return this._delegate.onIdTokenChanged(me,Ct,de)}sendSignInLinkToEmail(w,O){return A.ac(this._delegate,w,O)}sendPasswordResetEmail(w,O){return A.a5(this._delegate,w,O||void 0)}setPersistence(w){var O=this;return(0,y.A)(function*(){let Y;switch(function Fr(E,C){jr(Object.values(Cn).includes(C),E,"invalid-persistence-type"),(0,je.lV)()?jr(C!==Cn.SESSION,E,"unsupported-persistence-type"):(0,je.Ll)()?jr(C===Cn.NONE,E,"unsupported-persistence-type"):he()?jr(C===Cn.NONE||C===Cn.LOCAL&&(0,je.zW)(),E,"unsupported-persistence-type"):jr(C===Cn.NONE||pe(),E,"unsupported-persistence-type")}(O._delegate,w),w){case Cn.SESSION:Y=A.a;break;case Cn.LOCAL:Y=(yield A.aE(A.i)._isAvailable())?A.i:A.b;break;case Cn.NONE:Y=A.U;break;default:return A.ax("argument-error",{appName:O._delegate.name})}return O._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return vt(this._delegate,A.a0(this._delegate))}signInWithCredential(w){return vt(this._delegate,A.a1(this._delegate,w))}signInWithCustomToken(w){return vt(this._delegate,A.a4(this._delegate,w))}signInWithEmailAndPassword(w,O){return vt(this._delegate,A.ab(this._delegate,w,O))}signInWithEmailLink(w,O){return vt(this._delegate,A.ae(this._delegate,w,O))}signInWithPhoneNumber(w,O){return Mn(this._delegate,A.s(this._delegate,w,O))}signInWithPopup(w){var O=this;return(0,y.A)(function*(){return bn(fe(),O._delegate,"operation-not-supported-in-this-environment"),vt(O._delegate,A.c(O._delegate,w,kt))})()}signInWithRedirect(w){var O=this;return(0,y.A)(function*(){return bn(fe(),O._delegate,"operation-not-supported-in-this-environment"),yield Qi(O._delegate),A.f(O._delegate,w,kt)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return A.a9(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Cn,E})();function sr(E,C,w){let O=E;"function"!=typeof E&&({next:O,error:C,complete:w}=E);const Y=O;return{next:Ct=>Y(Ct&&_n.getOrCreate(Ct)),error:C,complete:w}}function Zn(E,C){const w=function Hn(E,C){const w=Ue();if(!w)return[];const O=A.aF(mo,E,C);switch(w.getItem(O)){case Cn.NONE:return[A.U];case Cn.LOCAL:return[A.i,A.a];case Cn.SESSION:return[A.a];default:return[]}}(E,C);if(typeof self<"u"&&!w.includes(A.i)&&w.push(A.i),typeof window<"u")for(const O of[A.b,A.a])w.includes(O)||w.push(O);return w.includes(A.U)||w.push(A.U),w}class ot{constructor(){this.providerId="phone",this._delegate=new A.P(Ut(xe.A.auth()))}static credential(C,w){return A.P.credential(C,w)}verifyPhoneNumber(C,w){return this._delegate.verifyPhoneNumber(C,w)}unwrap(){return this._delegate}}ot.PHONE_SIGN_IN_METHOD=A.P.PHONE_SIGN_IN_METHOD,ot.PROVIDER_ID=A.P.PROVIDER_ID;const Wn=A.aC;class Jn{constructor(C,w,O=xe.A.app()){var Y;Wn(null===(Y=O.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:O.name}),this._delegate=new A.R(O.auth(),C,w),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function D(E){E.INTERNAL.registerComponent(new Ye.uA("auth-compat",C=>{const w=C.getProvider("app-compat").getImmediate(),O=C.getProvider("auth");return new fn(w,O)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:A.A.EMAIL_SIGNIN,PASSWORD_RESET:A.A.PASSWORD_RESET,RECOVER_EMAIL:A.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:A.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:A.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:A.A.VERIFY_EMAIL}},EmailAuthProvider:A.V,FacebookAuthProvider:A.W,GithubAuthProvider:A.Y,GoogleAuthProvider:A.X,OAuthProvider:A.Z,SAMLAuthProvider:A._,PhoneAuthProvider:ot,PhoneMultiFactorGenerator:A.m,RecaptchaVerifier:Jn,TwitterAuthProvider:A.$,Auth:fn,AuthCredential:A.L,Error:je.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.5.7")}(xe.A)},467:(Fi,Pr,rt)=>{"use strict";function y(A,je,rn,Sn,Ye,Ln,kn){try{var ae=A[Ln](kn),R=ae.value}catch(Ge){return void rn(Ge)}ae.done?je(R):Promise.resolve(R).then(Sn,Ye)}function xe(A){return function(){var je=this,rn=arguments;return new Promise(function(Sn,Ye){var Ln=A.apply(je,rn);function kn(R){y(Ln,Sn,Ye,kn,ae,"next",R)}function ae(R){y(Ln,Sn,Ye,kn,ae,"throw",R)}kn(void 0)})}}rt.d(Pr,{A:()=>xe})},635:(Fi,Pr,rt)=>{"use strict";function je(U,H){var G={};for(var Q in U)Object.prototype.hasOwnProperty.call(U,Q)&&H.indexOf(Q)<0&&(G[Q]=U[Q]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(Q=Object.getOwnPropertySymbols(U);te<Q.length;te++)H.indexOf(Q[te])<0&&Object.prototype.propertyIsEnumerable.call(U,Q[te])&&(G[Q[te]]=U[Q[te]])}return G}function Ge(U,H,G,Q){return new(G||(G=Promise))(function(Z,Se){function We(ft){try{Re(Q.next(ft))}catch(Ht){Se(Ht)}}function Be(ft){try{Re(Q.throw(ft))}catch(Ht){Se(Ht)}}function Re(ft){ft.done?Z(ft.value):function te(Z){return Z instanceof G?Z:new G(function(Se){Se(Z)})}(ft.value).then(We,Be)}Re((Q=Q.apply(U,H||[])).next())})}function Nt(U){return this instanceof Nt?(this.v=U,this):new Nt(U)}function gn(U,H,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,Q=G.apply(U,H||[]),Z=[];return te={},Se("next"),Se("throw"),Se("return"),te[Symbol.asyncIterator]=function(){return this},te;function Se(Pe){Q[Pe]&&(te[Pe]=function(pe){return new Promise(function(he,fe){Z.push([Pe,pe,he,fe])>1||We(Pe,pe)})})}function We(Pe,pe){try{!function Be(Pe){Pe.value instanceof Nt?Promise.resolve(Pe.value.v).then(Re,ft):Ht(Z[0][2],Pe)}(Q[Pe](pe))}catch(he){Ht(Z[0][3],he)}}function Re(Pe){We("next",Pe)}function ft(Pe){We("throw",Pe)}function Ht(Pe,pe){Pe(pe),Z.shift(),Z.length&&We(Z[0][0],Z[0][1])}}function at(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,H=U[Symbol.asyncIterator];return H?H.call(U):(U=function Le(U){var H="function"==typeof Symbol&&Symbol.iterator,G=H&&U[H],Q=0;if(G)return G.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Q>=U.length&&(U=void 0),{value:U&&U[Q++],done:!U}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),G={},Q("next"),Q("throw"),Q("return"),G[Symbol.asyncIterator]=function(){return this},G);function Q(Z){G[Z]=U[Z]&&function(Se){return new Promise(function(We,Be){!function te(Z,Se,We,Be){Promise.resolve(Be).then(function(Re){Z({value:Re,done:We})},Se)}(We,Be,(Se=U[Z](Se)).done,Se.value)})}}}rt.d(Pr,{AQ:()=>gn,N3:()=>Nt,Tt:()=>je,sH:()=>Ge,xN:()=>at}),"function"==typeof SuppressedError&&SuppressedError}},Fi=>{Fi(Fi.s=57)}]);